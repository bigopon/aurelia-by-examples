function t(){Symbol.metadata??=Symbol.for("Symbol.metadata")}function e(t){return"object"==typeof t&&null!==t||"function"==typeof t}function s(t){return null==t}const i={get:(t,e)=>e[Symbol.metadata]?.[t],define(t,e,...s){let i=Object.getOwnPropertyDescriptor(e,Symbol.metadata)?.value;null==i&&Object.defineProperty(e,Symbol.metadata,{value:i=Object.create(null),enumerable:!0,configurable:!0,writable:!0});const n=s.length;switch(n){case 0:throw new Error("At least one key must be provided");case 1:return void(i[s[0]]=t);case 2:return void(i[s[0]]=i[s[1]]=t);default:for(let e=0;e<n;++e)i[s[e]]=t;return}},has(t,e){const s=e[Symbol.metadata];return null!=s&&t in s},delete(t,e){const s=e[Symbol.metadata];null!=s&&Reflect.deleteProperty(s,t)}},n=Object.freeze,r=Object.assign,o=String,a=i.get,l=i.define,h=t=>t instanceof Promise,c=t=>t instanceof Array,u=t=>t instanceof Set,d=t=>t instanceof Map,f=t=>t instanceof Object,p=t=>"function"==typeof t,g=t=>"string"==typeof t,m=t=>"symbol"==typeof t,v=t=>"number"==typeof t,b=()=>Object.create(null),y=Object.is,w=(t,...e)=>new Error(`AUR${o(t).padStart(4,"0")}:${e.map(o)}`),x=(()=>{const t={};let e=!1,s=0,i=0,n=0;return r=>{switch(typeof r){case"number":return r>=0&&(0|r)===r;case"string":if(e=t[r],void 0!==e)return e;if(s=r.length,0===s)return t[r]=!1;for(i=0,n=0;n<s;++n)if(i=r.charCodeAt(n),0===n&&48===i&&s>1||i<48||i>57)return t[r]=!1;return t[r]=!0;default:return!1}}})(),k=function(){const t=r(b(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),e=e=>""===e?0:e!==e.toUpperCase()?3:e!==e.toLowerCase()?2:!0===t[e]?1:0;return(t,s)=>{const i=t.length;if(0===i)return t;let n,r=!1,o="",a="",l=0,h=t.charAt(0),c=e(h),u=0;for(;u<i;++u)n=l,a=h,l=c,h=t.charAt(u+1),c=e(h),0===l?o.length>0&&(r=!0):(!r&&o.length>0&&2===l&&(r=3===n||3===c),o+=s(a,r),r=!1);return o}}(),C=function(){const t=b(),e=(t,e)=>e?t.toUpperCase():t.toLowerCase();return s=>{let i=t[s];return void 0===i&&(i=t[s]=k(s,e)),i}}(),$=function(){const t=b();return e=>{let s=t[e];return void 0===s&&(s=C(e),s.length>0&&(s=s[0].toUpperCase()+s.slice(1)),t[e]=s),s}}(),A=function(){const t=b(),e=(t,e)=>e?`-${t.toLowerCase()}`:t.toLowerCase();return s=>{let i=t[s];return void 0===i&&(i=t[s]=k(s,e)),i}}(),T=t=>{const e=t.length,s=Array(e);let i=0;for(;i<e;++i)s[i]=t[i];return s},S=(t,e)=>{const s=e.name;e.addInitializer((function(){Reflect.defineProperty(this,s,{value:t.bind(this),writable:!0,configurable:!0,enumerable:!1})}))},R=(...t)=>{const e=[];let s=0;const i=t.length;let n,r=0,o=0;for(;o<i;++o)if(n=t[o],void 0!==n){r=n.length;let t=0;for(;t<r;++t)e[s++]=n[t]}return e},I=(...t)=>{const e=t.length;let s,i=0;for(;e>i;++i)if(s=t[i],void 0!==s)return s;throw w(20)},L=function(){const t=Function.prototype,e=Object.getPrototypeOf,s=new WeakMap;let i,n=t,r=0;return function(o){if(i=s.get(o),void 0===i)for(s.set(o,i=[n=o]),r=0;(n=e(n))!==t;)i[++r]=n;return i}}();function B(...t){return r(b(),...t)}const O=(()=>{const t=new WeakMap;let e=!1,s="",i=0;return n=>(e=t.get(n),null==e&&(i=(s=n.toString()).length,e=i>28&&s.indexOf("[native code] }")===i-15,t.set(n,e)),e)})(),M=(t,e)=>h(t)?t.then(e):e(t),E=(...t)=>{let e,s,i,n=0,r=t.length;for(;n<r;++n)e=t[n],h(e=t[n])&&(void 0===s?s=e:void 0===i?i=[s,e]:i.push(e));return void 0===i?s:Promise.all(i)},P=(t,e)=>new Et(t,0,e),j=(t,e)=>new Et(t,1,e),N=(t,e)=>new Et(t,2,e),q=(t,e)=>new Et(e,5,t),F=new WeakMap,V=t=>(e,s,i)=>{let n=F.get(e);if(void 0===n&&F.set(e,n=new WeakMap),n.has(i))return n.get(i);const r=t(e,s,i);return n.set(i,r),r},D={instance:P,singleton:j,transient:N,callback:(t,e)=>new Et(t,3,e),cachedCallback:(t,e)=>new Et(t,3,V(e)),aliasTo:q,defer:(t,...e)=>new jt(t,e)},_=function(t){return function(e){e.register(j(this,this),q(this,t))}},z="au:annotation",U=(t,e)=>void 0===e?`${z}:${t}`:`${z}:${t}:${e}`,W=n({name:"au:annotation",appendTo:(t,e)=>{const s=a(z,t);void 0===s?l([e],t,z):s.push(e)},set(t,e,s){l(s,t,U(e))},get:(t,e)=>a(U(e),t),getKeys(t){let e=a(z,t);return void 0===e&&l(e=[],t,z),e},isKey:t=>t.startsWith(z),keyFor:U}),H="au:resource",G=(t,e,s)=>null==e?`${H}:${t}`:null==s?`${H}:${t}:${e}`:`${H}:${t}:${e}:${s}`,K={annotation:W},Q=Object.prototype.hasOwnProperty;function X(t,e,s,i){let n=a(U(t),s);return void 0===n?(n=e[t],void 0===n?(n=s[t],void 0!==n&&Q.call(s,t)?n:i()):n):n}function J(t,e,s){let i=a(U(t),e);return void 0===i?(i=e[t],void 0!==i&&Q.call(e,t)?i:s()):i}function Y(t,e,s){const i=e[t];return void 0===i?s():i}const Z=Symbol.for("au:registrable"),tt={none(t){throw w(2,t)},singleton:t=>new Et(t,1,t),transient:t=>new Et(t,2,t)};class et{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){return void 0===t||t===et.DEFAULT?et.DEFAULT:new et(t.inheritParentResources??!1,t.defaultResolver??tt.singleton)}}et.DEFAULT=et.from({});const st=t=>new ot(null,et.from(t)),it=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let nt=0,rt=null;class ot{get depth(){return null===this.t?0:this.t.depth+1}get parent(){return this.t}constructor(t,e){if(this.id=++nt,this.i=0,this.u=new Map,this.t=t,this.config=e,this.h=new Map,this.res={},null===t)this.root=this,this.R=new Map;else if(this.root=t.root,this.R=t.R,e.inheritParentResources)for(const e in t.res)this.registerResolver(e,t.res[e]);this.h.set(St,ft)}register(...t){if(100==++this.i)throw w(6,...t);let s,i,n,r,o,l,h=0,c=t.length;for(;h<c;++h)if(s=t[h],e(s))if(pt(s))s.register(this);else if(null!=(l=a(H,s)))l.register(this);else if(mt(s)){const t=s[Symbol.metadata]?.[Z];if(pt(t))t.register(this);else if(g(s.$au?.type)){const t=s.$au,e=(s.aliases??Nt).concat(t.aliases??Nt);let i=`${H}:${t.type}:${t.name}`;if(this.has(i,!1))continue;for(q(s,i).register(this),this.has(s,!1)||j(s,s).register(this),r=0,o=e.length;r<o;++r)i=`${H}:${t.type}:${e[r]}`,this.has(i,!1)||q(s,i).register(this)}else j(s,s).register(this)}else for(i=Object.keys(s),r=0,o=i.length;r<o;++r)n=s[i[r]],e(n)&&(pt(n)?n.register(this):this.register(n));return--this.i,this}registerResolver(t,e,s=!1){ht(t);const i=this.h,n=i.get(t);if(null==n){if(i.set(t,e),vt(t)){if(void 0!==this.res[t])throw w(7,t);this.res[t]=e}}else n instanceof Et&&4===n.$?n._state.push(e):i.set(t,new Et(t,4,[n,e]));return s&&this.u.set(t,e),e}deregister(t){ht(t);const e=this.h.get(t);null!=e&&(this.h.delete(t),vt(t)&&delete this.res[t],this.u.has(t)&&(e.dispose(),this.u.delete(t)))}registerTransformer(t,e){const s=this.getResolver(t);if(null==s)return!1;if(s.getFactory){const t=s.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(ht(t),void 0!==t.resolve)return t;const s=rt;let i,n,r=rt=this;try{for(;null!=r;){if(i=r.h.get(t),null!=i)return i;if(null==r.t)return n=gt(t)?this:r,e?this.C(t,n):null;r=r.t}}finally{rt=s}return null}has(t,e=!1){return this.h.has(t)||vt(t)&&t in this.res||((e&&this.t?.has(t,!0))??!1)}get(t){if(ht(t),t.$isResolver)return t.resolve(this,this);const e=rt;let s,i,n=rt=this;try{for(;null!=n;){if(s=n.h.get(t),null!=s)return s.resolve(n,this);if(null==n.t)return i=gt(t)?this:n,s=this.C(t,i),s.resolve(n,this);n=n.t}}finally{rt=e}throw w(8,t)}getAll(t,e=!1){ht(t);const s=rt,i=rt=this;let n,r=i,o=Nt;try{if(e){for(;null!=r;)n=r.h.get(t),null!=n&&(o=o.concat(dt(n,r,i))),r=r.t;return o}for(;null!=r;){if(n=r.h.get(t),null!=n)return dt(n,r,i);if(r=r.t,null==r)return Nt}}finally{rt=s}return Nt}invoke(t,e){if(O(t))throw w(15,t);const s=rt;rt=this;try{return void 0===e?new t(...Ct(t).map(ct,this)):new t(...Ct(t).map(ct,this),...e)}finally{rt=s}}hasFactory(t){return this.R.has(t)}getFactory(t){let e=this.R.get(t);if(void 0===e){if(O(t))throw w(15,t);this.R.set(t,e=new at(t,Ct(t)))}return e}registerFactory(t,e){this.R.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===et.DEFAULT?new ot(this,this.config):new ot(this,et.from({...this.config,inheritParentResources:!1})):new ot(this,et.from(t??this.config))}disposeResolvers(){const t=this.h,e=this.u;let s,i;for([i,s]of e.entries())s.dispose?.(),t.delete(i);e.clear()}useResources(t){const e=t.res;for(const t in e)this.registerResolver(t,e[t])}find(t,e){const s=g(e)?`${H}:${t}:${e}`:t;let i=this,n=i.res[s];return null==n&&(i=i.root,n=i.res[s]),null==n?null:n.getFactory?.(i)?.Type??null}dispose(){this.u.size>0&&this.disposeResolvers(),this.h.clear(),this.root===this&&(this.R.clear(),this.res={})}C(t,e){const s=pt(t);if(!p(t)&&!s)throw w(9,t);if(it.has(t.name))throw w(10,t);if(s){const s=t.register(e,t);if(!(s instanceof Object)||null==s.resolve){const s=e.h.get(t);if(null!=s)return s;throw w(11,t)}return s}if(t.$isInterface)throw w(12,t.friendlyName);const i=this.config.defaultResolver(t,e);return e.h.set(t,i),i}}class at{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){const s=rt;let i;rt=t;try{return i=void 0===e?new this.Type(...this.dependencies.map(ct,t)):new this.Type(...this.dependencies.map(ct,t),...e),null==this.transformers?i:this.transformers.reduce(lt,i)}finally{rt=s}}registerTransformer(t){(this.transformers??=[]).push(t)}}function lt(t,e){return e(t)}function ht(t){if(null==t)throw w(14)}function ct(t){return this.get(t)}function ut(...t){if(null==rt)throw w(16,...t);return 1===t.length?rt.get(t[0]):t.map(ct,rt)}const dt=(t,e,s)=>{if(t instanceof Et&&4===t.$){const i=t._state,n=i.length,r=Array(n);let o=0;for(;o<n;++o)r[o]=i[o].resolve(e,s);return r}return[t.resolve(e,s)]},ft={$isResolver:!0,resolve:(t,e)=>e},pt=t=>p(t?.register),gt=t=>(t=>pt(t)&&"boolean"==typeof t.registerInRequestor)(t)&&t.registerInRequestor,mt=t=>void 0!==t.prototype,vt=t=>g(t)&&t.indexOf(":")>0;class bt{constructor(t,e){this.c=t,this.k=e}instance(t){return this.O(0,t)}singleton(t){return this.O(1,t)}transient(t){return this.O(2,t)}callback(t){return this.O(3,t)}cachedCallback(t){return this.O(3,V(t))}aliasTo(t){return this.O(5,t)}O(t,e){const{c:s,k:i}=this;return this.c=this.k=void 0,s.registerResolver(i,new Et(i,t,e))}}const yt=t=>{const e=t.slice(),s=Object.keys(t),i=s.length;let n;for(let r=0;r<i;++r)n=s[r],x(n)||(e[n]=t[n]);return e},wt=U("di:paramtypes"),xt=t=>a("design:paramtypes",t),kt=t=>t.metadata[wt]??=[],Ct=t=>{const e=U("di:dependencies");let s=a(e,t);if(void 0===s){const i=t.inject;if(void 0===i){const e=xt(t),i=(t=>a(wt,t))(t);if(void 0===e)if(void 0===i){const e=Object.getPrototypeOf(t);s=p(e)&&e!==Function.prototype?yt(Ct(e)):[]}else s=yt(i);else if(void 0===i)s=yt(e);else{s=yt(e);let t,n=i.length,r=0;for(;r<n;++r)t=i[r],void 0!==t&&(s[r]=t);const o=Object.keys(i);let a;for(r=0,n=o.length,r=0;r<n;++r)a=o[r],x(a)||(s[a]=i[a])}}else s=yt(i);l(s,t,e)}return s},$t=(t,e)=>{const s=p(t)?t:e,i=(g(t)?t:void 0)??"(anonymous)",n={$isInterface:!0,friendlyName:i,toString:()=>`InterfaceSymbol<${i}>`,register:null!=s?(t,e)=>s(new bt(t,e??n)):void 0};return n},At=(...t)=>(e,s)=>{switch(s.kind){case"class":{const e=kt(s);let i,n=0;for(;n<t.length;++n)i=t[n],void 0!==i&&(e[n]=i);break}case"field":{const e=kt(s),i=t[0];void 0!==i&&(e[s.name]=i);break}default:throw w(22,String(s.name),s.kind)}},Tt=(()=>(t(),{createContainer:st,getDesignParamtypes:xt,getDependencies:Ct,createInterface:$t,inject:At,transient:t=>(t.register=function(e){return N(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=Bt)=>(t.register=function(e){return j(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)}))(),St=$t("IContainer"),Rt=St;function It(t,e){return Tt.transient(t)}function Lt(t,e){return null==t?It:It(t)}const Bt={scoped:!1},Ot=Tt.singleton;function Mt(t,e){return p(t)?Ot(t):function(e,s){return Ot(e,t)}}class Et{get $isResolver(){return!0}constructor(t,e,s){this.I=!1,this.A=null,this.k=t,this.$=e,this._state=s}register(t,e){return t.registerResolver(e||this.k,this)}resolve(t,e){switch(this.$){case 0:return this._state;case 1:if(this.I)throw w(3,this._state.name);return this.I=!0,this._state=(this.A=t.getFactory(this._state)).construct(e),this.$=0,this.I=!1,this._state;case 2:{const s=t.getFactory(this._state);if(null===s)throw w(4,this.k);return s.construct(e)}case 3:return this._state(t,e,this);case 4:return this._state[0].resolve(t,e);case 5:return e.get(this._state);default:throw w(5,this.$)}}getFactory(t){switch(this.$){case 1:case 2:return t.getFactory(this._state);case 5:return t.getResolver(this._state)?.getFactory?.(t)??null;case 0:return this.A;default:return null}}}class Pt{get friendlyName(){return this.L}constructor(t,e=null,s=null){this.L=t,this.j=e,this.F=s}prepare(t){this.j=t}get $isResolver(){return!0}resolve(){if(null==this.j)throw w(13,this.L);return this.j}getFactory(t){return null==this.F?null:t.getFactory(this.F)}dispose(){this.j=null}}class jt{constructor(t,e){this.key=t,this.params=e}register(t){if(t.has(this.key,!0)){t.get(this.key).register(t,...this.params)}else t.register(...this.params.filter((t=>"object"==typeof t)))}}const Nt=n([]),qt=n({});function Ft(){}const Vt=$t("IPlatform");function Dt(t){return function(e){function s(t,e){At(s)(t,e)}return s.$isResolver=!0,s.resolve=function(s,i){return t(e,s,i)},s}}const _t=(t,e=!1)=>{function s(t,e){At(s)(t,e)}return s.$isResolver=!0,s.resolve=(s,i)=>i.getAll(t,e),s},zt=t=>({$isResolver:!0,resolve:e=>{const s=e.getAll(t);return s.length>0?s[s.length-1]:void 0}}),Ut=Dt(((t,e,s)=>()=>s.get(t))),Wt=Dt(((t,e,s)=>s.has(t,!0)?s.get(t):void 0)),Ht=r(((t,e)=>{At(Ht)(t,e)}),{$isResolver:!0,resolve:()=>{}}),Gt=Dt(((t,e,s)=>(...i)=>e.getFactory(t).construct(s,i))),Kt=Dt(((t,e,s)=>s.has(t,!1)?s.get(t):void 0)),Qt=Dt(((t,e,s)=>s.has(t,!1)?s.get(t):s.root.get(t))),Xt=Dt(((t,e,s)=>s.has(t,!1)?s.get(t):s.root.has(t,!1)?s.root.get(t):void 0)),Jt=Dt(((t,e,s)=>s===s.root?s.getAll(t,!1):s.has(t,!1)?s.getAll(t,!1).concat(s.root.getAll(t,!1)):s.root.getAll(t,!1))),Yt=Dt(((t,e,s)=>{const i=te(t,e,s),n=new Pt(o(t),i);return s.registerResolver(t,n,!0),i})),Zt=Dt(((t,e,s)=>te(t,e,s))),te=(t,e,s)=>{if(e.hasFactory(t))return e.getFactory(t).construct(s);if(ee(t)){const i=p(t.register),n=e.getResolver(t,!1);let r;if(null==n?(i&&(r=(se??=st()).getResolver(t,!0)?.getFactory?.(e)),se.dispose()):r=n.getFactory?.(e),null!=r)return r.construct(s);throw w(17,t)}return e.getFactory(t).construct(s)},ee=t=>!0===t?.$isInterface;let se;function ie(t,e,s,i,n,r){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=i.kind,h="getter"===l?"get":"setter"===l?"set":"value",c=t?i.static?t:t.prototype:null,u=c?Object.getOwnPropertyDescriptor(c,i.name):{},d=!1,f=s.length-1;f>=0;f--){var p={};for(var g in i)p[g]="access"===g?{}:i[g];for(var g in i.access)p.access[g]=i.access[g];p.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(t||null))};var m=(0,s[f])("accessor"===l?{get:u.get,set:u.set}:u[h],p);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(u.get=a),(a=o(m.set))&&(u.set=a),(a=o(m.init))&&n.unshift(a)}else(a=o(m))&&("field"===l?n.unshift(a):u[h]=a)}c&&Object.defineProperty(c,i.name,u),d=!0}"function"==typeof SuppressedError&&SuppressedError;const ne=n({trace:0,debug:1,info:2,warn:3,error:4,fatal:5,none:6}),re=$t("ILogConfig",(t=>t.instance(new fe("no-colors",3)))),oe=$t("ISink"),ae=$t("ILogEventFactory",(t=>t.singleton(be))),le=$t("ILogger",(t=>t.singleton(we))),he=$t("ILogScope"),ce=n({key:U("logger-sink-handles"),define(t,e){l(e.handles,t,this.key)},getHandles(t){return a(this.key,t.constructor)}}),ue=t=>(e,s)=>s.addInitializer((function(){ce.define(this,t)})),de=B({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class fe{constructor(t,e){this.colorOptions=t,this.level=e}}const pe=function(){const t={"no-colors":B({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),colors:B({TRC:de.grey("TRC"),DBG:de.grey("DBG"),INF:de.white("INF"),WRN:de.yellow("WRN"),ERR:de.red("ERR"),FTL:de.red("FTL"),QQQ:de.grey("???")})};return(e,s)=>e<=0?t[s].TRC:e<=1?t[s].DBG:e<=2?t[s].INF:e<=3?t[s].WRN:e<=4?t[s].ERR:e<=5?t[s].FTL:t[s].QQQ}(),ge=(t,e)=>"no-colors"===e?t.join("."):t.map(de.cyan).join("."),me=(t,e)=>"no-colors"===e?new Date(t).toISOString():de.grey(new Date(t).toISOString());class ve{constructor(t,e,s,i,n,r){this.severity=t,this.message=e,this.optionalParams=s,this.scope=i,this.colorOptions=n,this.timestamp=r}toString(){const{severity:t,message:e,scope:s,colorOptions:i,timestamp:n}=this;return 0===s.length?`${me(n,i)} [${pe(t,i)}] ${e}`:`${me(n,i)} [${pe(t,i)} ${ge(s,i)}] ${e}`}getFormattedLogInfo(t=!1){const{severity:e,message:s,scope:i,colorOptions:n,timestamp:r,optionalParams:o}=this;let a=null,l="";t&&s instanceof Error?a=s:l=s;const h=0===i.length?"":` ${ge(i,n)}`;let c=`${me(r,n)} [${pe(e,n)}${h}] ${l}`;if(void 0===o||0===o.length)return null===a?[c]:[c,a];let u=0;for(;c.includes("%s");)c=c.replace("%s",String(o[u++]));return null!==a?[c,a,...o.slice(u)]:[c,...o.slice(u)]}}class be{constructor(){this.config=ut(re)}createLogEvent(t,e,s,i){return new ve(e,s,i,t.scope,this.config.colorOptions,Date.now())}}class ye{static register(t){j(oe,ye).register(t)}constructor(t=ut(Vt)){const e=t.console;this.handleEvent=function(t){const s=t.getFormattedLogInfo(!0);switch(t.severity){case 0:case 1:return e.debug(...s);case 2:return e.info(...s);case 3:return e.warn(...s);case 4:case 5:return e.error(...s)}}}}let we=(()=>{var t;let e,s,i,n,r,o,a=[];return t=class{constructor(t=ut(re),e=ut(ae),s=ut(_t(oe)),i=ut(Wt(he))??[],n=null){let r,o,l,h,c,u;if(this.scope=(function(t,e,s){for(var i=arguments.length>2,n=0;n<e.length;n++)s=i?e[n].call(t,s):e[n].call(t)}(this,a),i),this._=b(),this.config=t,this.f=e,this.sinks=s,null===n){this.root=this,this.parent=this,r=this.M=[],o=this.T=[],l=this.P=[],h=this.K=[],c=this.N=[],u=this.G=[];for(const t of s){const e=ce.getHandles(t);(e?.includes(0)??1)&&r.push(t),(e?.includes(1)??1)&&o.push(t),(e?.includes(2)??1)&&l.push(t),(e?.includes(3)??1)&&h.push(t),(e?.includes(4)??1)&&c.push(t),(e?.includes(5)??1)&&u.push(t)}}else this.root=n.root,this.parent=n,r=this.M=n.M,o=this.T=n.T,l=this.P=n.P,h=this.K=n.K,c=this.N=n.N,u=this.G=n.G}trace(t,...e){this.config.level<=0&&this.W(this.M,0,t,e)}debug(t,...e){this.config.level<=1&&this.W(this.T,1,t,e)}info(t,...e){this.config.level<=2&&this.W(this.P,2,t,e)}warn(t,...e){this.config.level<=3&&this.W(this.K,3,t,e)}error(t,...e){this.config.level<=4&&this.W(this.N,4,t,e)}fatal(t,...e){this.config.level<=5&&this.W(this.G,5,t,e)}scopeTo(e){const s=this._;let i=s[e];return void 0===i&&(i=s[e]=new t(this.config,this.f,null,this.scope.concat(e),this)),i}W(t,e,s,i){const n=p(s)?s():s,r=this.f.createLogEvent(this,e,n,i);for(let e=0,s=t.length;e<s;++e)t[e].handleEvent(r)}},(()=>{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;e=[S],s=[S],i=[S],n=[S],r=[S],o=[S],ie(t,0,e,{kind:"method",name:"trace",static:!1,private:!1,access:{has:t=>"trace"in t,get:t=>t.trace},metadata:l},null,a),ie(t,0,s,{kind:"method",name:"debug",static:!1,private:!1,access:{has:t=>"debug"in t,get:t=>t.debug},metadata:l},null,a),ie(t,0,i,{kind:"method",name:"info",static:!1,private:!1,access:{has:t=>"info"in t,get:t=>t.info},metadata:l},null,a),ie(t,0,n,{kind:"method",name:"warn",static:!1,private:!1,access:{has:t=>"warn"in t,get:t=>t.warn},metadata:l},null,a),ie(t,0,r,{kind:"method",name:"error",static:!1,private:!1,access:{has:t=>"error"in t,get:t=>t.error},metadata:l},null,a),ie(t,0,o,{kind:"method",name:"fatal",static:!1,private:!1,access:{has:t=>"fatal"in t,get:t=>t.fatal},metadata:l},null,a),l&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})})(),t})();const xe=B({create:({level:t=3,colorOptions:e="no-colors",sinks:s=[]}={})=>B({register(i){i.register(P(re,new fe(e,t)));for(const t of s)p(t)?i.register(j(oe,t)):i.register(t);return i}})}),ke=$t((t=>t.singleton(Ae))),Ce=t=>t;class $e{constructor(t){this.B=new Map,this.U=new Map,this.H=t}transform(t){if(t instanceof Promise)return this.V(t);if("object"==typeof t&&null!==t)return this.q(t);throw w(21,t)}V(t){if(this.B.has(t))return this.B.get(t);const e=t.then((t=>this.q(t)));return this.B.set(t,e),e.then((e=>{this.B.set(t,e)})),e}q(t){if(this.U.has(t))return this.U.get(t);const e=this.H(this.J(t));return this.U.set(t,e),e instanceof Promise&&e.then((e=>{this.U.set(t,e)})),e}J(t){if(null==t)throw w(21,t);if("object"!=typeof t)return new Te(t,[]);let e,s,i,n;const r=[];for(const o in t){switch(typeof(e=t[o])){case"object":if(null===e)continue;s=p(e.register),i=!1,n=null;break;case"function":s=p(e.register),i=void 0!==e.prototype,n=a(H,e)??null;break;default:continue}r.push(new Se(o,e,s,i,n))}return new Te(t,r)}}class Ae{constructor(){this.transformers=new Map}load(t,e=Ce){const s=this.transformers;let i=s.get(e);return void 0===i&&s.set(e,i=new $e(e)),i.transform(t)}dispose(){this.transformers.clear()}}class Te{constructor(t,e){this.raw=t,this.items=e}}class Se{constructor(t,e,s,i,n){this.key=t,this.value=e,this.isRegistry=s,this.isConstructable=i,this.definition=n}}const Re=(t,e,s={})=>({register(i){const n=i.get(ke).load(t);let r=!1;n.items.forEach((t=>{const n=t.definition;if(null==n)return void i.register(t.value);if(!r&&null!=e)return r=!0,void n.register(i,e);const o=s[n.name];n.register(i,o)}))}});class Ie{constructor(t,e){this.type=t,this.cb=e}handle(t){t instanceof this.type&&this.cb.call(null,t)}}const Le=$t("IEventAggregator",(t=>t.singleton(Be)));class Be{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){if(!t)throw w(18,t);if(g(t)){let s=this.eventLookup[t];if(void 0!==s){s=s.slice();let i=s.length;for(;i-- >0;)s[i](e,t)}}else{const e=this.messageHandlers.slice();let s=e.length;for(;s-- >0;)e[s].handle(t)}}subscribe(t,e){if(!t)throw w(19,t);let s,i;return g(t)?(void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]),s=e,i=this.eventLookup[t]):(s=new Ie(t,e),i=this.messageHandlers),i.push(s),{dispose(){const t=i.indexOf(s);-1!==t&&i.splice(t,1)}}}subscribeOnce(t,e){const s=this.subscribe(t,((t,i)=>{s.dispose(),e(t,i)}));return s}}const Oe="pending",Me="running",Ee="completed",Pe="canceled",je=new Map,Ne=t=>()=>{throw Ye(`AUR1005:${t}`)};class qe{constructor(t,e={}){this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console".split(" ").forEach((s=>{this[s]=s in e?e[s]:t[s]})),"clearInterval clearTimeout queueMicrotask setInterval setTimeout".split(" ").forEach((s=>{this[s]=s in e?e[s]:t[s]?.bind(t)??Ne(s)})),this.performanceNow="performanceNow"in e?e.performanceNow:t.performance?.now?.bind(t.performance)??Ne("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new Fe(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let s=je.get(t);return void 0===s&&je.set(t,s=new qe(t,e)),s}static set(t,e){je.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}class Fe{get isEmpty(){return 0===this.t&&0===this.i.length&&0===this.h.length&&0===this.u.length}get T(){return 0===this.t&&this.i.every(Qe)&&this.h.every(Qe)&&this.u.every(Qe)}constructor(t,e,s){this.platform=t,this.$request=e,this.$cancel=s,this.$=void 0,this.t=0,this.i=[],this.h=[],this.u=[],this.R=!1,this.A=void 0,this.M=0,this.P=0,this.U=()=>{this.R||(this.R=!0,this.M=this.q(),this.$request())},this.q=t.performanceNow,this.I=new ze(t.console)}flush(t=this.q()){if(this.R=!1,this.P=t,void 0===this.$){let e,s;if(this.h.length>0&&(this.i.push(...this.h),this.h.length=0),this.u.length>0)for(let s=0;s<this.u.length;++s)e=this.u[s],e.queueTime<=t&&(this.i.push(e),this.u.splice(s--,1));for(;this.i.length>0;)if((s=this.i.shift()).run(),s.status===Me){if(!0===s.suspend)return this.$=s,void this.U();++this.t}if(this.h.length>0&&(this.i.push(...this.h),this.h.length=0),this.u.length>0)for(let s=0;s<this.u.length;++s)e=this.u[s],e.queueTime<=t&&(this.i.push(e),this.u.splice(s--,1));if((this.i.length>0||this.u.length>0||this.t>0)&&this.U(),void 0!==this.A&&this.T){const t=this.A;this.A=void 0,t.resolve()}}else this.U()}cancel(){this.R&&(this.$cancel(),this.R=!1)}async yield(){this.isEmpty||(void 0===this.A&&(this.A=Ke()),await this.A)}queueTask(t,e){const{delay:s,preempt:i,persistent:n,suspend:r}={...Ue,...e};if(i){if(s>0)throw Xe();if(n)throw Je()}0===this.i.length&&this.U();const o=this.q(),a=new _e(this.I,this,o,o+s,i,n,r,t);return i?this.i[this.i.length]=a:0===s?this.h[this.h.length]=a:this.u[this.u.length]=a,a}remove(t){let e=this.i.indexOf(t);if(e>-1)this.i.splice(e,1);else if(e=this.h.indexOf(t),e>-1)this.h.splice(e,1);else{if(e=this.u.indexOf(t),!(e>-1))throw Ye(`Task #${t.id} could not be found`);this.u.splice(e,1)}}_(t){t.reset(this.q()),t.createdTime===t.queueTime?this.h[this.h.length]=t:this.u[this.u.length]=t}C(t){if(!0===t.suspend){if(this.$!==t)throw Ye(`Async task completion mismatch: suspenderTask=${this.$?.id}, task=${t.id}`);this.$=void 0}else--this.t;if(void 0!==this.A&&this.T){const t=this.A;this.A=void 0,t.resolve()}this.isEmpty&&this.cancel()}}class Ve extends Error{constructor(t){super("Task was canceled."),this.task=t}}let De=0;class _e{get result(){const t=this.N;if(void 0===t)switch(this.j){case Oe:{const t=this.N=Ke();return this.F=t.resolve,this.O=t.reject,t}case Me:throw Ye("Trying to await task from within task will cause a deadlock.");case Ee:return this.N=Promise.resolve();case Pe:return this.N=Promise.reject(new Ve(this))}return t}get status(){return this.j}constructor(t,e,s,i,n,r,o,a){this.taskQueue=e,this.createdTime=s,this.queueTime=i,this.preempt=n,this.persistent=r,this.suspend=o,this.callback=a,this.id=++De,this.F=void 0,this.O=void 0,this.N=void 0,this.j=Oe,this.I=t}run(t=this.taskQueue.platform.performanceNow()){if(this.j!==Oe)throw Ye(`Cannot run task in ${this.j} state`);const{persistent:e,taskQueue:s,callback:i,F:n,O:r,createdTime:o}=this;let a;this.j=Me;try{a=i(t-o),a instanceof Promise?a.then((t=>{this.persistent?s._(this):(this.j=e?Pe:Ee,this.dispose()),s.C(this),void 0!==n&&n(t)})).catch((t=>{if(this.persistent||this.dispose(),s.C(this),void 0===r)throw t;r(t)})):(this.persistent?s._(this):(this.j=e?Pe:Ee,this.dispose()),void 0!==n&&n(a))}catch(t){if(this.persistent||this.dispose(),void 0===r)throw t;r(t)}}cancel(){if(this.j===Oe){const t=this.taskQueue,e=this.O;return t.remove(this),t.isEmpty&&t.cancel(),this.j=Pe,this.dispose(),void 0!==e&&e(new Ve(this)),!0}return!(this.j!==Me||!this.persistent)&&(this.persistent=!1,!0)}reset(t){const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this.j=Oe,this.F=void 0,this.O=void 0,this.N=void 0}dispose(){this.callback=void 0,this.F=void 0,this.O=void 0,this.N=void 0}}class ze{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,s){if(e instanceof Fe){const i=`processing=${e.i.length} pending=${e.h.length} delayed=${e.u.length} flushReq=${e.R} susTask=${!!e.$}`;this.console.log(`${t}[Q.${s}] ${i}`)}else{const i=e.id,n=Math.round(10*e.createdTime)/10,r=Math.round(10*e.queueTime)/10,o=e.preempt,a=e.persistent,l=e.suspend,h=`id=${i} created=${n} queue=${r} preempt=${o} persistent=${a} status=${e.j} suspend=${l}`;this.console.log(`${t}[T.${s}] ${h}`)}}}const Ue={delay:0,preempt:!1,persistent:!1,suspend:!1};let We,He;const Ge=(t,e)=>{We=t,He=e},Ke=()=>{const t=new Promise(Ge);return t.resolve=We,t.reject=He,t},Qe=t=>t.persistent,Xe=()=>Ye("AUR1006"),Je=()=>Ye("AUR1007"),Ye=t=>new Error(t),Ze=t=>({processing:t.i,pending:t.h,delayed:t.u,flushRequested:t.R}),ts=t=>{t.flush(),t.h.forEach((t=>t.cancel()))};class es extends qe{static getOrCreate(t,e={}){let s=es.t.get(t);return void 0===s&&es.t.set(t,s=new es(t,e)),s}static set(t,e){es.t.set(t,e)}get domWriteQueue(){return this.domQueue}get domReadQueue(){return this.domQueue}constructor(t,e={}){super(t,e);"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver window document customElements".split(" ").forEach((s=>this[s]=s in e?e[s]:t[s])),"fetch requestAnimationFrame cancelAnimationFrame".split(" ").forEach((s=>this[s]=s in e?e[s]:t[s]?.bind(t)??(t=>()=>{throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)})(s))),this.domQueue=(()=>{let t=!1,e=-1;const s=()=>{e=-1,!0===t&&(t=!1,i.flush())},i=new Fe(this,(()=>{t=!0,-1===e&&(e=this.requestAnimationFrame(s))}),(()=>{t=!1,e>-1&&(this.cancelAnimationFrame(e),e=-1)}));return i})()}}es.t=new WeakMap;const ss="AccessThis",is="AccessBoundary",ns="AccessGlobal",rs="AccessScope",os="ArrayLiteral",as="ObjectLiteral",ls="PrimitiveLiteral",hs="Template",cs="Unary",us="CallScope",ds="CallMember",fs="CallFunction",ps="AccessMember",gs="AccessKeyed",ms="TaggedTemplate",vs="Binary",bs="Conditional",ys="Assign",ws="ArrowFunction",xs="ValueConverter",ks="BindingBehavior",Cs="ArrayBindingPattern",$s="ObjectBindingPattern",As="BindingIdentifier",Ts="ForOfStatement",Ss="Interpolation",Rs="ArrayDestructuring",Is="ObjectDestructuring",Ls="DestructuringAssignmentLeaf",Bs="Custom";class Os{constructor(t){this.value=t,this.$kind=Bs}evaluate(...t){return this.value}assign(...t){return t}bind(...t){}unbind(...t){}accept(t){}}class Ms{constructor(t,e,s){this.expression=t,this.name=e,this.args=s,this.$kind=ks,this.key=`_bb_${e}`}}class Es{constructor(t,e,s){this.expression=t,this.name=e,this.args=s,this.$kind=xs}}class Ps{constructor(t,e,s="="){this.target=t,this.value=e,this.op=s,this.$kind=ys}}class js{constructor(t,e,s){this.condition=t,this.yes=e,this.no=s,this.$kind=bs}}class Ns{constructor(t){this.name=t,this.$kind=ns}}class qs{constructor(t=0){this.ancestor=t,this.$kind=ss}}class Fs{constructor(){this.$kind=is}}class Vs{constructor(t,e=0){this.name=t,this.ancestor=e,this.$kind=rs}}const Ds=t=>t.$kind===ns||(t.$kind===ps||t.$kind===gs)&&t.accessGlobal;class _s{constructor(t,e,s=!1){this.object=t,this.name=e,this.optional=s,this.$kind=ps,this.accessGlobal=Ds(t)}}class zs{constructor(t,e,s=!1){this.object=t,this.key=e,this.optional=s,this.$kind=gs,this.accessGlobal=Ds(t)}}class Us{constructor(t,e,s=0,i=!1){this.name=t,this.args=e,this.ancestor=s,this.optional=i,this.$kind=us}}class Ws{constructor(t,e,s,i=!1,n=!1){this.object=t,this.name=e,this.args=s,this.optionalMember=i,this.optionalCall=n,this.$kind=ds}}class Hs{constructor(t,e,s=!1){this.func=t,this.args=e,this.optional=s,this.$kind=fs}}class Gs{constructor(t,e){this.name=t,this.args=e,this.$kind="CallGlobal"}}class Ks{constructor(t,e,s){this.operation=t,this.left=e,this.right=s,this.$kind=vs}}class Qs{constructor(t,e,s=0){this.operation=t,this.expression=e,this.pos=s,this.$kind=cs}}class Xs{constructor(t){this.value=t,this.$kind=ls}}Xs.$undefined=new Xs(void 0),Xs.$null=new Xs(null),Xs.$true=new Xs(!0),Xs.$false=new Xs(!1),Xs.$empty=new Xs("");class Js{constructor(t){this.elements=t,this.$kind=os}}Js.$empty=new Js(Nt);class Ys{constructor(t,e){this.keys=t,this.values=e,this.$kind=as}}Ys.$empty=new Ys(Nt,Nt);class Zs{constructor(t,e=Nt){this.cooked=t,this.expressions=e,this.$kind=hs}}Zs.$empty=new Zs([""]);class ti{constructor(t,e,s,i=Nt){this.cooked=t,this.func=s,this.expressions=i,this.$kind=ms,t.raw=e}}class ei{constructor(t){this.elements=t,this.$kind=Cs}}class si{constructor(t,e){this.keys=t,this.values=e,this.$kind=$s}}class ii{constructor(t){this.name=t,this.$kind=As}}class ni{constructor(t,e,s){this.declaration=t,this.iterable=e,this.semiIdx=s,this.$kind=Ts}}class ri{constructor(t,e=Nt){this.parts=t,this.expressions=e,this.$kind=Ss,this.isMulti=e.length>1,this.firstExpression=e[0]}}class oi{constructor(t,e,s,i){this.$kind=t,this.list=e,this.source=s,this.initializer=i}}class ai{constructor(t,e,s){this.target=t,this.source=e,this.initializer=s,this.$kind=Ls}}class li{constructor(t,e){this.target=t,this.indexOrProperties=e,this.$kind=Ls}}class hi{constructor(t,e,s=!1){this.args=t,this.body=e,this.rest=s,this.$kind=ws}}const ci=String,ui=()=>Object.create(null),di=(t,e)=>{switch(t.$kind){case gs:return e.visitAccessKeyed(t);case ps:return e.visitAccessMember(t);case rs:return e.visitAccessScope(t);case ss:return e.visitAccessThis(t);case is:return e.visitAccessBoundary(t);case Cs:return e.visitArrayBindingPattern(t);case Rs:return e.visitDestructuringAssignmentExpression(t);case os:return e.visitArrayLiteral(t);case ws:return e.visitArrowFunction(t);case ys:return e.visitAssign(t);case vs:return e.visitBinary(t);case ks:return e.visitBindingBehavior(t);case As:return e.visitBindingIdentifier(t);case fs:return e.visitCallFunction(t);case ds:return e.visitCallMember(t);case us:return e.visitCallScope(t);case bs:return e.visitConditional(t);case Ls:return e.visitDestructuringAssignmentSingleExpression(t);case Ts:return e.visitForOfStatement(t);case Ss:return e.visitInterpolation(t);case $s:return e.visitObjectBindingPattern(t);case Is:return e.visitDestructuringAssignmentExpression(t);case as:return e.visitObjectLiteral(t);case ls:return e.visitPrimitiveLiteral(t);case ms:return e.visitTaggedTemplate(t);case hs:return e.visitTemplate(t);case cs:return e.visitUnary(t);case xs:return e.visitValueConverter(t);case Bs:return e.visitCustom(t);default:throw(t=>new Error(t))(`Trying to visit unknown ast node ${JSON.stringify(t)}`)}};class fi{constructor(){this.text=""}static unparse(t){const e=new fi;return di(t,e),e.text}visitAccessMember(t){di(t.object,this),this.text+=`${t.optional?"?":""}.${t.name}`}visitAccessKeyed(t){di(t.object,this),this.text+=(t.optional?"?.":"")+"[",di(t.key,this),this.text+="]"}visitAccessThis(t){if(0===t.ancestor)return void(this.text+="$this");this.text+="$parent";let e=t.ancestor-1;for(;e--;)this.text+=".$parent"}visitAccessBoundary(t){this.text+="this"}visitAccessScope(t){let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name}visitArrayLiteral(t){const e=t.elements;this.text+="[";for(let t=0,s=e.length;t<s;++t)0!==t&&(this.text+=","),di(e[t],this);this.text+="]"}visitArrowFunction(t){const e=t.args,s=e.length;let i,n=0,r="(";for(;n<s;++n)i=e[n].name,n>0&&(r+=", "),r+=n<s-1?i:t.rest?`...${i}`:i;this.text+=`${r}) => `,di(t.body,this)}visitObjectLiteral(t){const e=t.keys,s=t.values;this.text+="{";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,di(s[t],this);this.text+="}"}visitPrimitiveLiteral(t){if(this.text+="(",(t=>"string"==typeof t)(t.value)){const e=t.value.replace(/'/g,"\\'");this.text+=`'${e}'`}else this.text+=`${t.value}`;this.text+=")"}visitCallFunction(t){this.text+="(",di(t.func,this),this.text+=t.optional?"?.":"",this.writeArgs(t.args),this.text+=")"}visitCallMember(t){this.text+="(",di(t.object,this),this.text+=`${t.optionalMember?"?.":""}.${t.name}${t.optionalCall?"?.":""}`,this.writeArgs(t.args),this.text+=")"}visitCallScope(t){this.text+="(";let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=`${t.name}${t.optional?"?.":""}`,this.writeArgs(t.args),this.text+=")"}visitTemplate(t){const{cooked:e,expressions:s}=t,i=s.length;this.text+="`",this.text+=e[0];for(let t=0;t<i;t++)di(s[t],this),this.text+=e[t+1];this.text+="`"}visitTaggedTemplate(t){const{cooked:e,expressions:s}=t,i=s.length;di(t.func,this),this.text+="`",this.text+=e[0];for(let t=0;t<i;t++)di(s[t],this),this.text+=e[t+1];this.text+="`"}visitUnary(t){this.text+=`(${t.operation}`,t.operation.charCodeAt(0)>=97&&(this.text+=" "),di(t.expression,this),this.text+=")"}visitBinary(t){this.text+="(",di(t.left,this),105===t.operation.charCodeAt(0)?this.text+=` ${t.operation} `:this.text+=t.operation,di(t.right,this),this.text+=")"}visitConditional(t){this.text+="(",di(t.condition,this),this.text+="?",di(t.yes,this),this.text+=":",di(t.no,this),this.text+=")"}visitAssign(t){this.text+="(",di(t.target,this),this.text+="=",di(t.value,this),this.text+=")"}visitValueConverter(t){const e=t.args;di(t.expression,this),this.text+=`|${t.name}`;for(let t=0,s=e.length;t<s;++t)this.text+=":",di(e[t],this)}visitBindingBehavior(t){const e=t.args;di(t.expression,this),this.text+=`&${t.name}`;for(let t=0,s=e.length;t<s;++t)this.text+=":",di(e[t],this)}visitArrayBindingPattern(t){const e=t.elements;this.text+="[";for(let t=0,s=e.length;t<s;++t)0!==t&&(this.text+=","),di(e[t],this);this.text+="]"}visitObjectBindingPattern(t){const e=t.keys,s=t.values;this.text+="{";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,di(s[t],this);this.text+="}"}visitBindingIdentifier(t){this.text+=t.name}visitForOfStatement(t){di(t.declaration,this),this.text+=" of ",di(t.iterable,this)}visitInterpolation(t){const{parts:e,expressions:s}=t,i=s.length;this.text+="${",this.text+=e[0];for(let t=0;t<i;t++)di(s[t],this),this.text+=e[t+1];this.text+="}"}visitDestructuringAssignmentExpression(t){const e=t.$kind===Is;this.text+=e?"{":"[";const s=t.list,i=s.length;let n,r;for(n=0;n<i;n++)switch(r=s[n],r.$kind){case Ls:di(r,this);break;case Rs:case Is:{const t=r.source;t&&(di(t,this),this.text+=":"),di(r,this);break}}this.text+=e?"}":"]"}visitDestructuringAssignmentSingleExpression(t){di(t.source,this),this.text+=":",di(t.target,this);const e=t.initializer;void 0!==e&&(this.text+="=",di(e,this))}visitDestructuringAssignmentRestExpression(t){this.text+="...",di(t.target,this)}visitCustom(t){this.text+=ci(t.value)}writeArgs(t){this.text+="(";for(let e=0,s=t.length;e<s;++e)0!==e&&(this.text+=","),di(t[e],this);this.text+=")"}}const pi=(t,...e)=>new Error(`AUR${ci(t).padStart(4,"0")}:${e.map(ci)}`),gi=Tt.createInterface("IExpressionParser",(t=>t.singleton(mi)));class mi{constructor(){this.t=ui(),this.i=ui(),this.h=ui()}parse(t,e){let s;switch(e){case Bi:return new Os(t);case Ti:return s=this.h[t],void 0===s&&(s=this.h[t]=this.$parse(t,e)),s;case Si:return s=this.i[t],void 0===s&&(s=this.i[t]=this.$parse(t,e)),s;default:if(0===t.length){if(e===Ii||e===Li)return Xs.$empty;throw bn()}return s=this.t[t],void 0===s&&(s=this.t[t]=this.$parse(t,e)),s}}$parse(t,e){return Mi=t,Ei=0,Pi=t.length,ji=0,Ni=0,qi=6291456,Fi="",Oi=Wi(0),Vi=!0,Di=!1,_i=!0,zi=-1,Qi(61,void 0===e?Li:e)}}function vi(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}const bi=Xs.$false,yi=Xs.$true,wi=Xs.$null,xi=Xs.$undefined,ki=new qs(0),Ci=new qs(1),$i=new Fs,Ai="None",Ti="Interpolation",Si="IsIterator",Ri="IsChainable",Ii="IsFunction",Li="IsProperty",Bi="IsCustom";let Oi,Mi="",Ei=0,Pi=0,ji=0,Ni=0,qi=6291456,Fi="",Vi=!0,Di=!1,_i=!0,zi=-1;const Ui=String.fromCharCode,Wi=t=>Mi.charCodeAt(t),Hi=()=>Mi.slice(Ni,Ei),Gi="Infinity NaN isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent Array BigInt Boolean Date Map Number Object RegExp Set String JSON Math Intl".split(" ");function Ki(t,e){return Mi=t,Ei=0,Pi=t.length,ji=0,Ni=0,qi=6291456,Fi="",Oi=Wi(0),Vi=!0,Di=!1,_i=!0,zi=-1,Qi(61,void 0===e?Li:e)}function Qi(t,e){if(e===Bi)return new Os(Mi);if(0===Ei){if(e===Ti)return function(){const t=[],e=[],s=Pi;let i="";for(;Ei<s;){switch(Oi){case 36:if(123===Wi(Ei+1)){t.push(i),i="",Ei+=2,Oi=Wi(Ei),nn();const s=Qi(61,Ti);e.push(s);continue}i+="$";break;case 92:i+=Ui(vi(rn()));break;default:i+=Ui(Oi)}rn()}if(e.length)return t.push(i),new ri(t,e);return null}();if(nn(),4194304&qi)throw dn()}Vi=513>t,Di=!1,_i=514>t;let s,i=!1,n=0;if(131072&qi){const t=qn[63&qi];nn(),s=new Qs(t,Qi(514,e)),Vi=!1}else{t:switch(qi){case 12295:n=ji,Vi=!1,_i=!1;do{switch(nn(),++n,qi){case 65546:if(nn(),!(12288&qi))throw pn();break;case 11:case 12:throw pn();case 2162701:if(Di=!0,nn(),!(12288&qi)){s=0===n?ki:1===n?Ci:new qs(n),i=!0;break t}break;default:if(2097152&qi){s=0===n?ki:1===n?Ci:new qs(n);break t}throw gn()}}while(12295===qi);case 4096:{const t=Fi;if(e===Si)s=new ii(t);else if(_i&&Gi.includes(t))s=new Ns(t);else{if(_i&&"import"===t)throw Cn();s=new Vs(t,n)}if(Vi=!Di,nn(),cn(51)){if(524297===qi)throw jn();const e=Di,i=ji;++ji;const n=Qi(62,Ai);Di=e,ji=i,Vi=!1,s=new hi([new ii(t)],n)}break}case 11:throw Nn();case 12:throw fn();case 12292:switch(Vi=!1,nn(),ji){case 0:s=ki;break;case 1:s=Ci;break;default:s=new qs(ji)}break;case 12293:Vi=!1,nn(),s=$i;break;case 2688008:s=function(t){nn();const e=Ei,s=Ni,i=qi,n=Oi,r=Fi,o=Di,a=[];let l=1,h=!1;e:for(;;){if(12===qi){if(nn(),4096!==qi)throw pn();if(a.push(new ii(Fi)),nn(),6291472===qi)throw Pn();if(7340047!==qi)throw fn();if(nn(),51!==qi)throw fn();nn();const t=Di,e=ji;++ji;const s=Qi(62,Ai);return Di=t,ji=e,Vi=!1,new hi(a,s,!0)}switch(qi){case 4096:a.push(new ii(Fi)),nn();break;case 7340047:nn();break e;case 524297:case 2688019:nn(),l=4;break;case 6291472:l=2,h=!0;break e;case 2688008:l=2;break e;default:nn(),l=2}switch(qi){case 6291472:if(nn(),h=!0,1===l)break;break e;case 7340047:nn();break e;case 4194350:1===l&&(l=3);break e;case 51:if(h)throw On();nn(),l=2;break e;default:1===l&&(l=2);break e}}if(51===qi){if(1===l){if(nn(),524297===qi)throw jn();const t=Di,e=ji;++ji;const s=Qi(62,Ai);return Di=t,ji=e,Vi=!1,new hi(a,s)}throw On()}if(1===l&&0===a.length)throw Rn();if(h)switch(l){case 2:throw On();case 3:throw Mn();case 4:throw En()}Ei=e,Ni=s,qi=i,Oi=n,Fi=r,Di=o;const c=Di,u=Qi(62,t);if(Di=c,un(7340047),51===qi)switch(l){case 2:throw On();case 3:throw Mn();case 4:throw En()}return u}(e);break;case 2688019:s=Mi.search(/\s+of\s+/)>Ei?function(){const t=[],e=new oi(Rs,t,void 0,void 0);let s="",i=!0,n=0;for(;i;)switch(nn(),qi){case 7340052:i=!1,r();break;case 6291472:r();break;case 4096:s=Hi();break;default:throw In()}return un(7340052),e;function r(){""!==s?(t.push(new ai(new _s(ki,s),new zs(ki,new Xs(n++)),void 0)),s=""):n++}}():function(t){const e=Di;nn();const s=new Array;for(;7340052!==qi;)if(cn(6291472)){if(s.push(xi),7340052===qi)break}else{if(s.push(Qi(62,t===Si?Ai:t)),!cn(6291472))break;if(7340052===qi)break}return Di=e,un(7340052),t===Si?new ei(s):(Vi=!1,new Js(s))}(e);break;case 524297:s=function(t){const e=Di,s=new Array,i=new Array;nn();for(;7340046!==qi;){if(s.push(Fi),49152&qi)nn(),un(6291477),i.push(Qi(62,t===Si?Ai:t));else{if(!(12288&qi))throw An();{const e=Oi,s=qi,n=Ei;nn(),cn(6291477)?i.push(Qi(62,t===Si?Ai:t)):(Oi=e,qi=s,Ei=n,i.push(Qi(515,t===Si?Ai:t)))}}7340046!==qi&&un(6291472)}return Di=e,un(7340046),t===Si?new si(s,i):(Vi=!1,new Ys(s,i))}(e);break;case 2163760:s=new Zs([Fi]),Vi=!1,nn();break;case 2163761:s=en(e,s,!1);break;case 16384:case 32768:s=new Xs(Fi),Vi=!1,nn();break;case 8194:case 8195:case 8193:case 8192:s=qn[63&qi],Vi=!1,nn();break;default:throw Ei>=Pi?mn():vn()}if(e===Si)return function(t){if(!tn.includes(t.$kind))throw $n(t.$kind);if(4204594!==qi)throw $n(t.$kind);nn();const e=t,s=Qi(61,Ri);return new ni(e,s,zi)}(s);switch(qi){case 2228280:case 2228281:s=new Qs(qn[63&qi],s,1),nn(),Vi=!1}if(514<t)return s;if(11===qi||12===qi)throw pn();if(s.$kind===ss)switch(qi){case 2162701:if(Di=!0,Vi=!1,nn(),!(13312&qi))throw Ln();if(12288&qi)s=new Vs(Fi,s.ancestor),nn();else if(2688008===qi)s=new Hs(s,Xi(),!0);else{if(2688019!==qi)throw Bn();s=Ji(s,!0)}break;case 65546:if(Vi=!Di,nn(),!(12288&qi))throw pn();s=new Vs(Fi,s.ancestor),nn();break;case 11:case 12:throw pn();case 2688008:s=new Hs(s,Xi(),i);break;case 2688019:s=Ji(s,i);break;case 2163760:s=sn(s);break;case 2163761:s=en(e,s,!0)}for(;(65536&qi)>0;)switch(qi){case 2162701:s=Yi(s);break;case 65546:if(nn(),!(12288&qi))throw pn();s=Zi(s,!1);break;case 11:case 12:throw pn();case 2688008:s=s.$kind===rs?new Us(s.name,Xi(),s.ancestor,!1):s.$kind===ps?new Ws(s.object,s.name,Xi(),s.optional,!1):s.$kind===ns?new Gs(s.name,Xi()):new Hs(s,Xi(),!1);break;case 2688019:s=Ji(s,!1);break;case 2163760:if(Di)throw Bn();s=sn(s);break;case 2163761:if(Di)throw Bn();s=en(e,s,!0)}}if(11===qi||12===qi)throw pn();if(513<t)return s;for(;(262144&qi)>0;){const i=qi;if((960&i)<=t)break;nn(),s=new Ks(qn[63&i],s,Qi(960&i,e)),Vi=!1}if(63<t)return s;if(cn(6291479)){const t=Qi(62,e);un(6291477),s=new js(s,t,Qi(62,e)),Vi=!1}if(62<t)return s;switch(qi){case 4194350:case 4194356:case 4194357:case 4194358:case 4194359:{if(!Vi)throw yn();const t=qn[63&qi];nn(),s=new Ps(s,Qi(62,e),t);break}}if(61<t)return s;for(;cn(6291481);){if(6291456===qi)throw wn();const t=Fi;nn();const i=new Array;for(;cn(6291477);)i.push(Qi(62,e));s=new Es(s,t,i)}for(;cn(6291480);){if(6291456===qi)throw xn();const t=Fi;nn();const i=new Array;for(;cn(6291477);)i.push(Qi(62,e));s=new Ms(s,t,i)}if(6291456!==qi){if(e===Ti&&7340046===qi)return s;if(e===Ri&&6291478===qi){if(Ei===Pi)throw vn();return zi=Ei-1,s}if("of"===Hi())throw kn();throw vn()}return s}function Xi(){const t=Di;nn();const e=[];for(;7340047!==qi&&(e.push(Qi(62,Ai)),cn(6291472)););return un(7340047),Vi=!1,Di=t,e}function Ji(t,e){const s=Di;return nn(),t=new zs(t,Qi(62,Ai),e),un(7340052),Vi=!s,Di=s,t}function Yi(t){if(Di=!0,Vi=!1,nn(),!(13312&qi))throw Ln();if(12288&qi)return Zi(t,!0);if(2688008===qi)return t.$kind===rs?new Us(t.name,Xi(),t.ancestor,!0):t.$kind===ps?new Ws(t.object,t.name,Xi(),t.optional,!0):new Hs(t,Xi(),!0);if(2688019===qi)return Ji(t,!0);throw Bn()}function Zi(t,e){const s=Fi;switch(qi){case 2162701:{Di=!0,Vi=!1;const i=Ei,n=Ni,r=qi,o=Oi,a=Fi,l=Vi,h=Di;if(nn(),!(13312&qi))throw Ln();return 2688008===qi?new Ws(t,s,Xi(),e,!0):(Ei=i,Ni=n,qi=r,Oi=o,Fi=a,Vi=l,Di=h,new _s(t,s,e))}case 2688008:return Vi=!1,new Ws(t,s,Xi(),e,!1);default:return Vi=!Di,nn(),new _s(t,s,e)}}const tn=[Cs,$s,As,Rs,Is];function en(t,e,s){const i=Di,n=[Fi];un(2163761);const r=[Qi(62,t)];for(;2163760!==(qi=hn());)n.push(Fi),un(2163761),r.push(Qi(62,t));return n.push(Fi),Vi=!1,Di=i,s?(nn(),new ti(n,n,e,r)):(nn(),new Zs(n,r))}function sn(t){Vi=!1;const e=[Fi];return nn(),new ti(e,e,t)}function nn(){for(;Ei<Pi;)if(Ni=Ei,null!=(qi=Vn[Oi]()))return;qi=6291456}function rn(){return Oi=Wi(++Ei)}function on(){for(;Dn[rn()];);const t=Fn[Fi=Hi()];return void 0===t?4096:t}function an(t){let e=Oi;if(!1===t){do{e=rn()}while(e<=57&&e>=48);if(46!==e)return Fi=parseInt(Hi(),10),32768;if(e=rn(),Ei>=Pi)return Fi=parseInt(Hi().slice(0,-1),10),32768}if(e<=57&&e>=48)do{e=rn()}while(e<=57&&e>=48);else Oi=Wi(--Ei);return Fi=parseFloat(Hi()),32768}function ln(){let t=!0,e="";for(;96!==rn();)if(36===Oi){if(Ei+1<Pi&&123===Wi(Ei+1)){Ei++,t=!1;break}e+="$"}else if(92===Oi)e+=Ui(vi(rn()));else{if(Ei>=Pi)throw Sn();e+=Ui(Oi)}return rn(),Fi=e,t?2163760:2163761}const hn=()=>{if(Ei>=Pi)throw Sn();return Ei--,ln()},cn=t=>qi===t&&(nn(),!0),un=t=>{if(qi!==t)throw Rn();nn()},dn=()=>pi(151,Mi),fn=()=>pi(152,Mi),pn=()=>pi(153,Mi),gn=()=>pi(154,Mi),mn=()=>pi(155,Mi),vn=()=>pi(156,Hi(),Ei,Mi),bn=()=>pi(157),yn=()=>pi(158,Mi),wn=()=>pi(159,Mi),xn=()=>pi(160,Mi),kn=()=>pi(161,Mi),Cn=()=>pi(162,Mi),$n=t=>pi(163,Mi,t),An=()=>pi(164,Mi),Tn=()=>pi(165,Mi),Sn=()=>pi(166,Mi),Rn=t=>pi(167,Mi),In=()=>pi(170,Mi),Ln=()=>pi(171,Mi),Bn=()=>pi(172,Mi),On=()=>pi(173,Mi),Mn=()=>pi(174,Mi),En=()=>pi(175,Mi),Pn=()=>pi(176,Mi),jn=()=>pi(178,Mi),Nn=()=>pi(179,Mi),qn=[bi,yi,wi,xi,"this","$this",null,"$parent","(","{",".","..","...","?.","}",")",",","[","]",":",";","?","'",'"',"&","|","??","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",2163760,2163761,"of","=>","+=","-=","*=","/=","++","--"],Fn=Object.assign(ui(),{true:8193,null:8194,false:8192,undefined:8195,this:12293,$this:12292,$parent:12295,in:6562213,instanceof:6562214,typeof:139305,void:139306,of:4204594}),{CharScanners:Vn,IdParts:Dn}=(()=>{const t=()=>{throw pi(168,Mi)};t.notMapped=!0;const e=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],s=[48,58],i=[0,33,127,161],n=(t,e,s,i)=>{const n=s.length;for(let e=0;e<n;e+=2){const n=s[e];let r=s[e+1];r=r>0?r:n+1,t&&t.fill(i,n,r)}},r=(t=>(n(t,0,e,1),n(t,0,s,1),t))(new Uint8Array(65535)),o=t=>()=>(rn(),t),a=new Array(65535);return a.fill(t,0,65535),n(a,0,i,(()=>(rn(),null))),n(a,0,e,on),n(a,0,s,(()=>an(!1))),a[34]=a[39]=()=>function(){const t=Oi;rn();let e=0;const s=new Array;let i=Ei;for(;Oi!==t;)if(92===Oi)s.push(Mi.slice(i,Ei)),rn(),e=vi(Oi),rn(),s.push(Ui(e)),i=Ei;else{if(Ei>=Pi)throw Tn();rn()}const n=Mi.slice(i,Ei);rn(),s.push(n);const r=s.join("");return Fi=r,16384}(),a[96]=()=>ln(),a[33]=()=>61!==rn()?131119:61!==rn()?6553950:(rn(),6553952),a[61]=()=>62===rn()?(rn(),51):61!==Oi?4194350:61!==rn()?6553949:(rn(),6553951),a[38]=()=>38!==rn()?6291480:(rn(),6553884),a[124]=()=>124!==rn()?6291481:(rn(),6553819),a[63]=()=>{if(46===rn()){const t=Wi(Ei+1);return t<=48||t>=57?(rn(),2162701):6291479}return 63!==Oi?6291479:(rn(),6553754)},a[46]=()=>rn()<=57&&Oi>=48?an(!0):46===Oi?46!==rn()?11:(rn(),12):65546,a[60]=()=>61!==rn()?6554017:(rn(),6554019),a[62]=()=>61!==rn()?6554018:(rn(),6554020),a[37]=o(6554156),a[40]=o(2688008),a[41]=o(7340047),a[42]=()=>61!==rn()?6554155:(rn(),4194358),a[43]=()=>43===rn()?(rn(),2228280):61!==Oi?2490855:(rn(),4194356),a[44]=o(6291472),a[45]=()=>45===rn()?(rn(),2228281):61!==Oi?2490856:(rn(),4194357),a[47]=()=>61!==rn()?6554157:(rn(),4194359),a[58]=o(6291477),a[59]=o(6291478),a[91]=o(2688019),a[93]=o(7340052),a[123]=o(524297),a[125]=o(7340046),{CharScanners:a,IdParts:r}})(),_n=Object.prototype.hasOwnProperty,zn=Reflect.defineProperty;function Un(t,e,s){return zn(t,e,{enumerable:!1,configurable:!0,writable:!0,value:s}),s}function Wn(t,e,s){e in t||Un(t,e,s)}const Hn=Object.assign,Gn=Object.freeze,Kn=String,Qn=Tt.createInterface,Xn=i.get,Jn=i.define,Yn=Tt.createInterface("ICoercionConfiguration"),Zn=Gn({None:0,Observer:1,Node:2,Layout:4});function tr(t,e,s){const{length:i}=t,n=Array(i);let r=0;for(;r<i;)n[r]=t[r],++r;return void 0!==e?n.deletedIndices=e.slice(0):void 0!==t.deletedIndices?n.deletedIndices=t.deletedIndices.slice(0):n.deletedIndices=[],void 0!==s?n.deletedItems=s.slice(0):void 0!==t.deletedItems?n.deletedItems=t.deletedItems.slice(0):n.deletedItems=[],n.isIndexMap=!0,n}function er(t=0){const e=Array(t);let s=0;for(;s<t;)e[s]=s++;return e.deletedIndices=[],e.deletedItems=[],e.isIndexMap=!0,e}function sr(t){const e=t.slice();return e.deletedIndices=t.deletedIndices.slice(),e.deletedItems=t.deletedItems.slice(),e.isIndexMap=!0,e}function ir(t){return c(t)&&!0===t.isIndexMap}let nr=new Map,rr=!1;function or(t){const e=nr,s=nr=new Map;rr=!0;try{t()}finally{nr=null,rr=!1;try{let t,i,n,r,o,a,l,h=!1;for(t of s)if(i=t[0],n=t[1],e?.has(i)&&e.set(i,n),1===n[0])i.notify(n[1],n[2]);else{if(r=n[1],o=n[2],h=!1,o.deletedIndices.length>0)h=!0;else for(a=0,l=o.length;a<l;++a)if(o[a]!==a){h=!0;break}h&&i.notifyCollection(r,o)}}finally{nr=e}}}function ar(t,e,s){nr.has(t)?nr.get(t)[2]=s:nr.set(t,[2,e,s])}const lr=(()=>{function t(){return Un(this,"subs",new r)}function e(t){return this.subs.add(t)}function s(t){return this.subs.remove(t)}const i=new WeakSet;function n(n,r){if(!i.has(n)){i.add(n);const r=n.prototype;zn(r,"subs",{get:t}),Wn(r,"subscribe",e),Wn(r,"unsubscribe",s)}return n}class r{constructor(){this.count=0,this.t=[],this.i=[],this.u=!1}add(t){return!this.t.includes(t)&&(this.t[this.t.length]=t,"handleDirty"in t&&(this.i[this.i.length]=t,this.u=!0),++this.count,!0)}remove(t){let e=this.t.indexOf(t);return-1!==e&&(this.t.splice(e,1),e=this.i.indexOf(t),-1!==e&&(this.i.splice(e,1),this.u=this.i.length>0),--this.count,!0)}notify(t,e){if(rr)!function(t,e,s){const i=nr.get(t);void 0===i?nr.set(t,[1,e,s]):(i[1]=e,i[2]=s)}(this,t,e);else for(const s of this.t.slice(0))s.handleChange(t,e)}notifyCollection(t,e){const s=this.t.slice(0),i=s.length;let n=0;for(;n<i;++n)s[n].handleCollectionChange(t,e)}notifyDirty(){if(this.u)for(const t of this.i.slice(0))t.handleDirty()}}return function(t,e){return null==t?n:n(t)}})(),hr=(t,...e)=>new Error(`AUR${Kn(t).padStart(4,"0")}:${e.map(Kn)}`);class cr{constructor(t){this.owner=t,this.type=1,this.v=(this.o=t.collection).length}getValue(){return this.o.length}setValue(t){t!==this.v&&(Number.isNaN(t)||(this.o.splice(t),this.v=this.o.length))}handleDirty(){this.v!==this.o.length&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.v,i=this.o.length;(this.v=i)!==s&&(this.subs.notifyDirty(),this.subs.notify(this.v,s))}}dr(cr);class ur{constructor(t){this.owner=t,this.type=1,this.v=(this.o=t.collection).size}getValue(){return this.o.size}setValue(){throw hr(220)}handleDirty(){this.v!==this.o.size&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.v,i=this.o.size;(this.v=i)!==s&&this.subs.notify(this.v,s)}}function dr(t){const e=t.prototype;return Wn(e,"subscribe",fr),Wn(e,"unsubscribe",pr),lr(t,null)}function fr(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function pr(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}dr(ur);const gr=(()=>{const t=Symbol.for("__au_arr_obs__"),e=Array[t]??Un(Array,t,new WeakMap);function s(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function i(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function n(t,e,s,i,n){let r,o,a,l,h,c,u;for(c=s+1;c<i;c++){for(r=t[c],o=e[c],u=c-1;u>=s&&(a=t[u],l=e[u],h=n(a,r),h>0);u--)t[u+1]=a,e[u+1]=l;t[u+1]=r,e[u+1]=o}}function r(t,e,s,i,o){let a,l,h,c,u,d,f,p,g,m,v,b,y,w,x,k,C,$,A,T=0,S=0;for(;;){if(i-s<=10)return void n(t,e,s,i,o);T=s+(i-s>>1),a=t[s],c=e[s],l=t[i-1],u=e[i-1],h=t[T],d=e[T],f=o(a,l),f>0&&(m=a,v=c,a=l,c=u,l=m,u=v),p=o(a,h),p>=0?(m=a,v=c,a=h,c=d,h=l,d=u,l=m,u=v):(g=o(l,h),g>0&&(m=l,v=u,l=h,u=d,h=m,d=v)),t[s]=a,e[s]=c,t[i-1]=h,e[i-1]=d,b=l,y=u,w=s+1,x=i-1,t[T]=t[w],e[T]=e[w],t[w]=b,e[w]=y;t:for(S=w+1;S<x;S++)if(k=t[S],C=e[S],$=o(k,b),$<0)t[S]=t[w],e[S]=e[w],t[w]=k,e[w]=C,w++;else if($>0){do{if(x--,x==S)break t;A=t[x],$=o(A,b)}while($>0);t[S]=t[x],e[S]=e[x],t[x]=k,e[x]=C,$<0&&(k=t[S],C=e[S],t[S]=t[w],e[S]=e[w],t[w]=k,e[w]=C,w++)}i-x<w-s?(r(t,e,x,i,o),i=w):(r(t,e,s,w,o),s=x)}}const o=Array.prototype,a=["push","unshift","pop","shift","splice","reverse","sort"];let l;let h=!1;const c="__au_arr_on__";function u(){if(void 0===l&&function(){const t=o.push,n=o.unshift,h=o.pop,c=o.shift,u=o.splice,d=o.reverse,f=o.sort;l={push:function(...s){const i=e.get(this);if(void 0===i)return t.apply(this,s);const n=this.length,r=s.length;if(0===r)return n;this.length=i.indexMap.length=n+r;let o=n;for(;o<this.length;)this[o]=s[o-n],i.indexMap[o]=-2,o++;return i.notify(),this.length},unshift:function(...t){const s=e.get(this);if(void 0===s)return n.apply(this,t);const i=t.length,r=new Array(i);let o=0;for(;o<i;)r[o++]=-2;n.apply(s.indexMap,r);const a=n.apply(this,t);return s.notify(),a},pop:function(){const t=e.get(this);if(void 0===t)return h.call(this);const s=t.indexMap,i=h.call(this),n=s.length-1;return s[n]>-1&&(s.deletedIndices.push(s[n]),s.deletedItems.push(i)),h.call(s),t.notify(),i},shift:function(){const t=e.get(this);if(void 0===t)return c.call(this);const s=t.indexMap,i=c.call(this);return s[0]>-1&&(s.deletedIndices.push(s[0]),s.deletedItems.push(i)),c.call(s),t.notify(),i},splice:function(...t){const s=t[0],i=t[1],n=e.get(this);if(void 0===n)return u.apply(this,t);const r=this.length,o=0|s,a=o<0?Math.max(r+o,0):Math.min(o,r),l=n.indexMap,h=t.length,c=0===h?0:1===h?r-a:i;let d=a;if(c>0){const t=d+c;for(;d<t;)l[d]>-1&&(l.deletedIndices.push(l[d]),l.deletedItems.push(this[d])),d++}if(d=0,h>2){const t=h-2,e=new Array(t);for(;d<t;)e[d++]=-2;u.call(l,s,i,...e)}else u.apply(l,t);const f=u.apply(this,t);return(c>0||d>0)&&n.notify(),f},reverse:function(){const t=e.get(this);if(void 0===t)return d.call(this),this;const s=this.length,i=s/2|0;let n=0;for(;n!==i;){const e=s-n-1,i=this[n],r=t.indexMap[n],o=this[e],a=t.indexMap[e];this[n]=o,t.indexMap[n]=a,this[e]=i,t.indexMap[e]=r,n++}return t.notify(),this},sort:function(t){const n=e.get(this);if(void 0===n)return f.call(this,t),this;let o=this.length;if(o<2)return this;r(this,n.indexMap,0,o,i);let a=0;for(;a<o&&void 0!==this[a];)a++;void 0!==t&&p(t)||(t=s),r(this,n.indexMap,0,a,t);let l=!1;for(a=0,o=n.indexMap.length;o>a;++a)if(n.indexMap[a]!==a){l=!0;break}return(l||rr)&&n.notify(),this}};for(const t of a)zn(l[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1})}(),!Xn(c,Array)){Jn(!0,Array,c);for(const t of a)!0!==o[t].observing&&Un(o,t,l[t])}}class d{constructor(t){this.type=1,h||(h=!0,u()),this.indexObservers={},this.collection=t,this.indexMap=er(t.length),this.lenObs=void 0,e.set(t,this)}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;if(rr)return void ar(t,this.collection,e);const s=this.collection,i=s.length;this.indexMap=er(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new cr(this)}getIndexObserver(t){return this.indexObservers[t]??=new f(this,t)}}lr(d,null);class f{constructor(t,e){this.owner=t,this.index=e,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t){if(t===this.getValue())return;const e=this.owner,s=this.index,i=e.indexMap;i[s]>-1&&i.deletedIndices.push(i[s]),i[s]=-2,e.collection[s]=t,e.notify()}handleDirty(){this.value!==this.getValue()&&this.subs.notifyDirty()}handleCollectionChange(t,e){const s=this.index;if(e[s]===s)return;const i=this.value,n=this.value=this.getValue();i!==n&&this.subs.notify(n,i)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}return lr(f,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new d(t)),u()),s}})(),mr=(()=>{const t=Symbol.for("__au_set_obs__"),e=Set[t]??Un(Set,t,new WeakMap),{add:s,clear:i,delete:n}=Set.prototype,r=["add","clear","delete"],o={add:function(t){const i=e.get(this);if(void 0===i)return s.call(this,t),this;const n=this.size;s.call(this,t);return this.size===n||(i.indexMap[n]=-2,i.notify()),this},clear:function(){const t=e.get(this);if(void 0===t)return i.call(this);if(this.size>0){const e=t.indexMap;let s=0;for(const t of this.keys())e[s]>-1&&(e.deletedIndices.push(e[s]),e.deletedItems.push(t)),s++;i.call(this),e.length=0,t.notify()}},delete:function(t){const s=e.get(this);if(void 0===s)return n.call(this,t);if(0===this.size)return!1;let i=0;const r=s.indexMap;for(const e of this.keys()){if(e===t){r[i]>-1&&(r.deletedIndices.push(r[i]),r.deletedItems.push(e)),r.splice(i,1);const o=n.call(this,t);return!0===o&&s.notify(),o}i++}return!1}};class a{constructor(t){this.type=1,this.collection=t,this.indexMap=er(t.size),this.lenObs=void 0}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;if(rr)return void ar(t,this.collection,e);const s=this.collection,i=s.size;this.indexMap=er(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new ur(this)}}return lr(a,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new a(t)),function(t){for(const e of r)Un(t,e,o[e])}(t)),s}})(),vr=(()=>{const t=Symbol.for("__au_map_obs__"),e=Map[t]??Un(Map,t,new WeakMap),{set:s,clear:i,delete:n}=Map.prototype,r=["set","clear","delete"],o={set:function(t,i){const n=e.get(this);if(void 0===n)return s.call(this,t,i),this;const r=this.get(t),o=this.size;s.call(this,t,i);if(this.size===o){let e=0;for(const s of this.entries()){if(s[0]===t)return s[1]!==r&&(n.indexMap.deletedIndices.push(n.indexMap[e]),n.indexMap.deletedItems.push(s),n.indexMap[e]=-2,n.notify()),this;e++}return this}return n.indexMap[o]=-2,n.notify(),this},clear:function(){const t=e.get(this);if(void 0===t)return i.call(this);if(this.size>0){const e=t.indexMap;let s=0;for(const t of this.keys())e[s]>-1&&(e.deletedIndices.push(e[s]),e.deletedItems.push(t)),s++;i.call(this),e.length=0,t.notify()}},delete:function(t){const s=e.get(this);if(void 0===s)return n.call(this,t);if(0===this.size)return!1;let i=0;const r=s.indexMap;for(const e of this.keys()){if(e===t){r[i]>-1&&(r.deletedIndices.push(r[i]),r.deletedItems.push(e)),r.splice(i,1);const o=n.call(this,t);return!0===o&&s.notify(),o}++i}return!1}};class a{constructor(t){this.type=1,this.collection=t,this.indexMap=er(t.size),this.lenObs=void 0}notify(){const t=this.subs;t.notifyDirty();const e=this.indexMap;if(rr)return void ar(t,this.collection,e);const s=this.collection,i=s.size;this.indexMap=er(i),t.notifyCollection(s,e)}getLengthObserver(){return this.lenObs??=new ur(this)}}return lr(a,null),function(t){let s=e.get(t);return void 0===s&&(e.set(t,s=new a(t)),function(t){for(const e of r)Un(t,e,o[e])}(t)),s}})(),br=(()=>{class t{constructor(t){this.version=0,this.count=0,this.o=new Map,this.b=t}add(t){this.o.has(t)||(t.subscribe(this.b),++this.count),this.o.set(t,this.version)}clear(){this.o.forEach(s,this),this.count=this.o.size}clearAll(){this.o.forEach(e,this),this.o.clear(),this.count=0}}function e(t,e){e.unsubscribe(this.b)}function s(t,e){this.version!==t&&(e.unsubscribe(this.b),this.o.delete(e))}function i(){return Un(this,"obs",new t(this))}function n(t,e){this.obs.add(this.oL.getObserver(t,e))}function r(t){let e;if(c(t))e=gr(t);else if(u(t))e=mr(t);else{if(!d(t))throw hr(210,t);e=vr(t)}this.obs.add(e)}function o(t){this.obs.add(t)}function a(){throw hr(99,"handleChange")}function l(){throw hr(99,"handleCollectionChange")}return function(t,e){const s=t.prototype;return Wn(s,"observe",n),Wn(s,"observeCollection",r),Wn(s,"subscribeTo",o),zn(s,"obs",{get:i}),Wn(s,"handleChange",a),Wn(s,"handleCollectionChange",l),t}})();function yr(t,e){return null==t?br:br(t,e)}let wr=null;const xr=[];let kr=!1;function Cr(){return wr}function $r(t){if(null==t)throw hr(206);if(null==wr)return wr=t,xr[0]=wr,void(kr=!0);if(wr===t)throw hr(207);xr.push(t),wr=t,kr=!0}function Ar(t){if(null==t)throw hr(208);if(wr!==t)throw hr(209);xr.pop(),wr=xr.length>0?xr[xr.length-1]:null,kr=null!=wr}const Tr=Gn({get current(){return wr},get connecting(){return kr},enter:$r,exit:Ar,pause:function(){kr=!1},resume:function(){kr=!0}}),Sr=Reflect.get,Rr=Object.prototype.toString,Ir=new WeakMap,Lr="__au_nw__",Br="__au_nw";function Or(t){switch(Rr.call(t)){case"[object Object]":return!0!==t.constructor[Lr];case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Mr="__raw__";function Er(t){return Or(t)?Pr(t):t}function Pr(t){return Ir.get(t)??function(t){const e=c(t)?Vr:d(t)||u(t)?ho:Fr,s=new Proxy(t,e);return Ir.set(t,s),Ir.set(s,s),s}(t)}function jr(t){return t[Mr]??t}function Nr(t){return Or(t)&&t[Mr]||t}function qr(t,e){return"constructor"===e||"__proto__"===e||"$observers"===e||e===Symbol.toPrimitive||e===Symbol.toStringTag||!0===t.constructor[`${Br}_${Kn(e)}__`]}const Fr={get(t,e,s){if(e===Mr)return t;const i=Cr();return!kr||qr(t,e)||null==i?Sr(t,e,s):(i.observe(t,e),Er(Sr(t,e,s)))}},Vr={get(t,e,s){if(e===Mr)return t;if(!kr||qr(t,e)||null==wr)return Sr(t,e,s);switch(e){case"length":return wr.observe(t,"length"),t.length;case"map":return Dr;case"includes":return Ur;case"indexOf":return Wr;case"lastIndexOf":return Hr;case"every":return _r;case"filter":return zr;case"find":return Kr;case"findIndex":return Gr;case"flat":return Qr;case"flatMap":return Xr;case"join":return Jr;case"push":return Zr;case"pop":return Yr;case"reduce":return ao;case"reduceRight":return lo;case"reverse":return io;case"shift":return to;case"unshift":return eo;case"slice":return oo;case"splice":return so;case"some":return no;case"sort":return ro;case"keys":return bo;case"values":case Symbol.iterator:return yo;case"entries":return wo}return wr.observe(t,e),Er(Sr(t,e,s))},ownKeys:t=>(Cr()?.observe(t,"length"),Reflect.ownKeys(t))};function Dr(t,e){const s=jr(this),i=s.map(((s,i)=>Nr(t.call(e,Er(s),i,this))));return xo(wr,s),Er(i)}function _r(t,e){const s=jr(this),i=s.every(((s,i)=>t.call(e,Er(s),i,this)));return xo(wr,s),i}function zr(t,e){const s=jr(this),i=s.filter(((s,i)=>Nr(t.call(e,Er(s),i,this))));return xo(wr,s),Er(i)}function Ur(t){const e=jr(this),s=e.includes(Nr(t));return xo(wr,e),s}function Wr(t){const e=jr(this),s=e.indexOf(Nr(t));return xo(wr,e),s}function Hr(t){const e=jr(this),s=e.lastIndexOf(Nr(t));return xo(wr,e),s}function Gr(t,e){const s=jr(this),i=s.findIndex(((s,i)=>Nr(t.call(e,Er(s),i,this))));return xo(wr,s),i}function Kr(t,e){const s=jr(this),i=s.find(((e,s)=>t(Er(e),s,this)),e);return xo(wr,s),Er(i)}function Qr(){const t=jr(this);return xo(wr,t),Er(t.flat())}function Xr(t,e){const s=jr(this);return xo(wr,s),Pr(s.flatMap(((s,i)=>Er(t.call(e,Er(s),i,this)))))}function Jr(t){const e=jr(this);return xo(wr,e),e.join(t)}function Yr(){return Er(jr(this).pop())}function Zr(...t){return jr(this).push(...t)}function to(){return Er(jr(this).shift())}function eo(...t){return jr(this).unshift(...t)}function so(...t){return Er(jr(this).splice(...t))}function io(...t){const e=jr(this),s=e.reverse();return xo(wr,e),Er(s)}function no(t,e){const s=jr(this),i=s.some(((s,i)=>Nr(t.call(e,Er(s),i,this))));return xo(wr,s),i}function ro(t){const e=jr(this),s=e.sort(t);return xo(wr,e),Er(s)}function oo(t,e){const s=jr(this);return xo(wr,s),Pr(s.slice(t,e))}function ao(t,e){const s=jr(this),i=s.reduce(((e,s,i)=>t(e,Er(s),i,this)),e);return xo(wr,s),Er(i)}function lo(t,e){const s=jr(this),i=s.reduceRight(((e,s,i)=>t(e,Er(s),i,this)),e);return xo(wr,s),Er(i)}const ho={get(t,e,s){if(e===Mr)return t;const i=Cr();if(!kr||qr(t,e)||null==i)return Sr(t,e,s);switch(e){case"size":return i.observe(t,"size"),t.size;case"clear":return mo;case"delete":return vo;case"forEach":return co;case"add":if(u(t))return go;break;case"get":if(d(t))return fo;break;case"set":if(d(t))return po;break;case"has":return uo;case"keys":return bo;case"values":return yo;case"entries":return wo;case Symbol.iterator:return d(t)?wo:yo}return Er(Sr(t,e,s))}};function co(t,e){const s=jr(this);return xo(wr,s),s.forEach(((s,i)=>{t.call(e,Er(s),Er(i),this)}))}function uo(t){const e=jr(this);return xo(wr,e),e.has(Nr(t))}function fo(t){const e=jr(this);return xo(wr,e),Er(e.get(Nr(t)))}function po(t,e){return Er(jr(this).set(Nr(t),Nr(e)))}function go(t){return Er(jr(this).add(Nr(t)))}function mo(){return Er(jr(this).clear())}function vo(t){return Er(jr(this).delete(Nr(t)))}function bo(){const t=jr(this);xo(wr,t);const e=t.keys();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:Er(s),done:i}},[Symbol.iterator](){return this}}}function yo(){const t=jr(this);xo(wr,t);const e=t.values();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:Er(s),done:i}},[Symbol.iterator](){return this}}}function wo(){const t=jr(this);xo(wr,t);const e=t.entries();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[Er(s[0]),Er(s[1])],done:i}},[Symbol.iterator](){return this}}}const xo=(t,e)=>t?.observeCollection(e),ko=Gn({getProxy:Pr,getRaw:jr,wrap:Er,unwrap:Nr,rawKey:Mr});class Co{constructor(t,e,s,i,n){this.type=1,this.v=void 0,this.ir=!1,this.D=!1,this.cb=void 0,this.h=void 0,this.C=void 0,this.o=t,this.O=n?Er(t):t,this.$get=e,this.$set=s,this.oL=i}init(t){this.v=t,this.D=!1}getValue(){return 0===this.subs.count?this.$get.call(this.o,this.o,this):(this.D&&(this.compute(),this.D=!1),this.v)}setValue(t){if(!p(this.$set))throw hr(221);void 0!==this.h&&(t=this.h.call(null,t,this.C)),y(t,this.v)||(this.ir=!0,this.$set.call(this.o,t),this.ir=!1,this.run())}useCoercer(t,e){return this.h=t,this.C=e,!0}useCallback(t){return this.cb=t,!0}handleDirty(){this.D||(this.D=!0,this.subs.notifyDirty())}handleChange(){this.D=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.D=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.compute(),this.D=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.D=!0,this.obs.clearAll())}run(){if(this.ir)return;const t=this.v,e=this.compute();this.D=!1,y(e,t)||(this.cb?.(e,t),this.subs.notify(this.v,t))}compute(){this.ir=!0,this.obs.version++;try{return $r(this),this.v=Nr(this.$get.call(this.O,this.O,this))}finally{this.obs.clear(),this.ir=!1,Ar(this)}}}yr(Co,null),lr(Co,null);const $o=Qn("IDirtyChecker",void 0),Ao={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}};class To{static register(t){t.register(D.singleton(this,this),D.aliasTo(this,$o))}constructor(){this.tracked=[],this.A=null,this.R=0,this.p=ut(Vt),this.check=()=>{if(Ao.disabled)return;if(++this.R<Ao.timeoutsPerCheck)return;this.R=0;const t=this.tracked,e=t.length;let s,i=0;for(;i<e;++i)s=t[i],s.isDirty()&&s.flush()},lr(So,null)}createProperty(t,e){if(Ao.throw)throw hr(218,e);return new So(this,t,e)}addProperty(t){this.tracked.push(t),1===this.tracked.length&&(this.A=this.p.taskQueue.queueTask(this.check,{persistent:!0}))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),0===this.tracked.length&&(this.A.cancel(),this.A=null)}}class So{constructor(t,e,s){this.obj=e,this.key=s,this.type=0,this.ov=void 0,this.P=t}getValue(){return this.obj[this.key]}setValue(t){throw hr(219,this.key)}isDirty(){return this.ov!==this.obj[this.key]}flush(){const t=this.ov,e=this.getValue();this.ov=e,this.subs.notify(e,t)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.ov=this.obj[this.key],this.P.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.P.removeProperty(this)}}class Ro{get doNotCache(){return!0}constructor(t,e){this.type=0,this.o=t,this.k=e}getValue(){return this.o[this.k]}setValue(){}subscribe(){}unsubscribe(){}}class Io{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,s){e[s]=t}}class Lo{constructor(t,e){this.type=1,this.v=void 0,this.iO=!1,this.cb=void 0,this.h=void 0,this.C=void 0,this.o=t,this.k=e}getValue(){return this.v}setValue(t){if(void 0!==this.h&&(t=this.h.call(void 0,t,this.C)),this.iO){if(y(t,this.v))return;Bo=this.v,this.v=t,this.cb?.(t,Bo),this.subs.notifyDirty(),this.subs.notify(t,Bo)}else this.v=this.o[this.k]=t,this.cb?.(t,Bo)}useCallback(t){return this.cb=t,this.start(),!0}useCoercer(t,e){return this.h=t,this.C=e,this.start(),!0}subscribe(t){!1===this.iO&&this.start(),this.subs.add(t)}start(){return!1===this.iO&&(this.iO=!0,this.v=this.o[this.k],zn(this.o,this.k,{enumerable:!0,configurable:!0,get:Hn((()=>this.getValue()),{getObserver:()=>this}),set:t=>{this.setValue(t)}})),this}stop(){return this.iO&&(zn(this.o,this.k,{enumerable:!0,configurable:!0,writable:!0,value:this.v}),this.iO=!1),this}}let Bo;lr(Lo,null);const Oo=new Io,Mo=Qn("IObserverLocator",(t=>t.singleton(No))),Eo=Qn("INodeObserverLocator",(t=>t.cachedCallback((t=>new Po))));class Po{handles(){return!1}getObserver(){return Oo}getAccessor(){return Oo}}const jo=Qn("IComputedObserverLocator",(t=>t.singleton(class{getObserver(t,e,s,i){const n=new Co(t,s.get,s.set,i,!0);return zn(t,e,{enumerable:s.enumerable,configurable:!0,get:Hn((()=>n.getValue()),{getObserver:()=>n}),set:t=>{n.setValue(t)}}),n}})));class No{constructor(){this.I=[],this.P=ut($o),this._=ut(Eo),this.M=ut(jo)}addAdapter(t){this.I.push(t)}getObserver(t,e){if(null==t)throw hr(199,e);if(!f(t))return new Ro(t,p(e)?"":e);if(p(e))return new Co(t,e,void 0,this,!0);const s=Do(t);let i=s[e];return void 0===i&&(i=this.createObserver(t,e),i.doNotCache||(s[e]=i)),i}getAccessor(t,e){const s=t.$observers?.[e];return void 0!==s?s:this._.handles(t,e,this)?this._.getAccessor(t,e,this):Oo}getArrayObserver(t){return gr(t)}getMapObserver(t){return vr(t)}getSetObserver(t){return mr(t)}createObserver(t,e){if(this._.handles(t,e,this))return this._.getObserver(t,e,this);switch(e){case"length":if(c(t))return gr(t).getLengthObserver();break;case"size":if(d(t))return vr(t).getLengthObserver();if(u(t))return mr(t).getLengthObserver();break;default:if(c(t)&&x(e))return gr(t).getIndexObserver(Number(e))}let s=Vo(t,e);if(void 0===s){let i=Fo(t);for(;null!==i&&(s=Vo(i,e),void 0===s);)i=Fo(i)}if(void 0!==s&&!_n.call(s,"value")){let i=this.L(t,e,s);return null==i&&(i=(s.get?.getObserver)?.(t)),null==i?s.configurable?this.M.getObserver(t,e,s,this):this.P.createProperty(t,e):i}return new Lo(t,e)}L(t,e,s){if(this.I.length>0)for(const i of this.I){const n=i.getObserver(t,e,s,this);if(null!=n)return n}return null}}const qo=t=>{let e;return c(t)?e=gr(t):d(t)?e=vr(t):u(t)&&(e=mr(t)),e},Fo=Object.getPrototypeOf,Vo=Object.getOwnPropertyDescriptor,Do=t=>{let e=t.$observers;return void 0===e&&zn(t,"$observers",{enumerable:!1,value:e=b()}),e},_o=Qn("IObservation",(t=>t.singleton(zo)));class zo{static get inject(){return[Mo]}constructor(t){this.oL=t,this.V={immediate:!0}}run(t){const e=new Uo(this.oL,t);return e.run(),e}watch(t,e,s,i=this.V){let n,r=!1;const o=this.oL.getObserver(t,e),a={handleChange:(t,e)=>s(t,n=e)},l=()=>{r||s(o.getValue(),n)};return o.subscribe(a),i.immediate&&l(),{run:l,stop:()=>{r=!0,o.unsubscribe(a)}}}}class Uo{constructor(t,e){this.oL=t,this.fn=e,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw hr(225);if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{$r(this),this.fn(this)}finally{this.obs.clear(),this.running=!1,Ar(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,hr(226);this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clearAll()}}yr(Uo,null);const Wo=(()=>{const t={};function e(e,i,n,r,o){const a=function(t){return void 0===t.$observers&&zn(t,"$observers",{value:{}}),t.$observers}(e);let l=a[i];if(null==l){const h=r();l=new s(e,n,o,h===t?void 0:h),a[i]=l}return l}class s{constructor(t,e,s,i){this.type=1,this.v=void 0,this.ov=void 0,this.o=t,this.S=s,this.hs=p(s);const n=t[e];this.cb=p(n)?n:void 0,this.v=i}getValue(){return this.v}setValue(t){this.hs&&(t=this.S(t)),y(t,this.v)||(this.ov=this.v,this.v=t,this.cb?.call(this.o,this.v,this.ov),t=this.ov,this.ov=this.v,this.subs.notifyDirty(),this.subs.notify(this.v,t))}}return s.mixed=!1,function(i,n){s.mixed||(s.mixed=!0,lr(s,null));let r,o=!1;return"object"==typeof i?r=i:null!=i?(r={name:i},o=!0):r=qt,0===arguments.length?function(t,e){if("field"!==e.kind)throw hr(224);return a(e)}:"field"===n?.kind?a(n):o?function(e,s){l(e,r.name,(()=>t),!0)}:function(e,s){switch(s.kind){case"field":return a(s);case"class":return l(e,r.name,(()=>t),!0);default:throw hr(224)}};function a(t){let e;return t.addInitializer((function(){l(this,t.name,(()=>e),!1)})),function(t){return e=t}}function l(t,s,i,n){const o=r.callback||`${Kn(s)}Changed`,a=r.set,l=function(){const t=e(this,s,o,i,a);return Cr()?.subscribeTo(t),t.getValue()};l.getObserver=function(t){return e(t,s,o,i,a)};const h={enumerable:!0,configurable:!0,get:l,set(t){e(this,s,o,i,a).setValue(t)}};zn(n?t.prototype:t,s,h)}}})();function Ho(t,e){return 0===arguments.length?s:s(t,e);function s(t,e){switch(e.kind){case"class":Un(t,Lr,!0);break;case"field":e.addInitializer((function(){const t=this.constructor,s=`${Br}_${Kn(e.name)}__`;s in t||Un(t,s,!0)}))}}}"function"==typeof SuppressedError&&SuppressedError;const Go=t=>"string"==typeof t,Ko=Tt.createInterface,Qo=Object.freeze,{aliasTo:Xo,singleton:Jo}=D,Yo="Interpolation",Zo="IsFunction",ta="IsProperty",ea="custom-element",sa=Qo({default:0,oneTime:1,toView:2,fromView:4,twoWay:6}),ia=Ko("ITemplateCompiler"),na=Ko("IAttrMapper"),ra=(t,...e)=>new Error(`AUR${String(t).padStart(4,"0")}:${e.map(String)}`);class oa{constructor(t,e,s,i){if(this.chars=t,this.repeat=e,this.isSymbol=s,this.isInverted=i,i)switch(t.length){case 0:this.has=this.i;break;case 1:this.has=this.u;break;default:this.has=this.A}else switch(t.length){case 0:this.has=this.I;break;case 1:this.has=this.B;break;default:this.has=this.P}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}P(t){return this.chars.includes(t)}B(t){return this.chars===t}I(t){return!1}A(t){return!this.chars.includes(t)}u(t){return this.chars!==t}i(t){return!0}}class aa{constructor(){this.parts=Nt,this.C="",this.T={},this.R={}}get pattern(){const t=this.C;return""===t?null:t}set pattern(t){null==t?(this.C="",this.parts=Nt):(this.C=t,this.parts=this.R[t])}append(t,e){const s=this.T;void 0===s[t]?s[t]=e:s[t]+=e}next(t){const e=this.T;let s;void 0!==e[t]&&(s=this.R,void 0===s[t]?s[t]=[e[t]]:s[t].push(e[t]),e[t]=void 0)}}class la{get C(){return this._?this.L[0]:null}constructor(t,...e){this.charSpec=t,this.V=[],this.H=null,this._=!1,this.L=e}findChild(t){const e=this.V,s=e.length;let i=null,n=0;for(;n<s;++n)if(i=e[n],t.equals(i.charSpec))return i;return null}append(t,e){const s=this.L;s.includes(e)||s.push(e);let i=this.findChild(t);return null==i&&(i=new la(t,e),this.V.push(i),t.repeat&&i.V.push(i)),i}findMatches(t,e){const s=[],i=this.V,n=i.length;let r=0,o=null,a=0,l=0;for(;a<n;++a)if(o=i[a],o.charSpec.has(t))if(s.push(o),r=o.L.length,l=0,o.charSpec.isSymbol)for(;l<r;++l)e.next(o.L[l]);else for(;l<r;++l)e.append(o.L[l],t);return s}}class ha{constructor(t){this.text=t;const e=this.M=t.length,s=this.$=[];let i=0;for(;e>i;++i)s.push(new oa(t[i],!1,!1,!1))}eachChar(t){const e=this.M,s=this.$;let i=0;for(;e>i;++i)t(s[i])}}class ca{constructor(t){this.text="PART",this.F=new oa(t,!0,!1,!0)}eachChar(t){t(this.F)}}class ua{constructor(t){this.text=t,this.F=new oa(t,!1,!0,!1)}eachChar(t){t(this.F)}}class da{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const fa=Ko("ISyntaxInterpreter",(t=>t.singleton(pa)));class pa{constructor(){this.O=new la(null),this.W=[this.O]}add(t){t=t.slice(0).sort(((t,e)=>t.pattern>e.pattern?1:-1));const e=t.length;let s,i,n,r,o,a,l,h,c=0;for(;e>c;){for(s=this.O,i=t[c],n=i.pattern,r=new da,o=this.N(i,r),a=o.length,l=t=>s=s.append(t,n),h=0;a>h;++h)o[h].eachChar(l);s.H=r,s._=!0,++c}}interpret(t){const e=new aa,s=t.length;let i,n=this.W,r=0;for(;r<s&&(n=this.j(n,t.charAt(r),e),0!==n.length);++r);return n=n.filter(ga),n.length>0&&(n.sort(ma),i=n[0],i.charSpec.isSymbol||e.next(i.C),e.pattern=i.C),e}j(t,e,s){const i=[];let n=null;const r=t.length;let o=0;for(;o<r;++o)n=t[o],i.push(...n.findMatches(e,s));return i}N(t,e){const s=[],i=t.pattern,n=i.length,r=t.symbols;let o=0,a=0,l="";for(;o<n;)l=i.charAt(o),0!==r.length&&r.includes(l)?o!==a?(s.push(new ha(i.slice(a,o))),++e.statics,a=o):(s.push(new ua(i.slice(a,o+1))),++e.symbols,a=++o):o===a&&"P"===l&&"PART"===i.slice(o,o+4)?(a=o+=4,s.push(new ca(r)),++e.dynamics):++o;return a!==o&&(s.push(new ha(i.slice(a,o))),++e.statics),s}}function ga(t){return t._}function ma(t,e){const s=t.H,i=e.H;return s.statics!==i.statics?i.statics-s.statics:s.dynamics!==i.dynamics?i.dynamics-s.dynamics:s.symbols!==i.symbols?i.symbols-s.symbols:0}class va{constructor(t,e,s,i,n=null){this.rawName=t,this.rawValue=e,this.target=s,this.command=i,this.parts=n}}const ba=Ko("IAttributePattern"),ya=Ko("IAttributeParser",(t=>t.singleton(wa)));class wa{constructor(){this.U={},this.L={},this.q=!1,this.G=[],this.J=ut(fa),this.c=ut(St)}registerPattern(t,e){if(this.q)throw ra(88);const s=this.L;for(const{pattern:i}of t){if(null!=s[i])throw ra(89,i);s[i]={patternType:e}}this.G.push(...t)}K(){this.J.add(this.G);const t=this.c;for(const[,e]of Object.entries(this.L))e.pattern=t.get(e.patternType)}parse(t,e){this.q||(this.K(),this.q=!0);let s=this.U[t];null==s&&(s=this.U[t]=this.J.interpret(t));const i=s.pattern;return null==i?new va(t,e,t,null,null):this.L[i].pattern[i](t,e,s.parts)}}function xa(...t){return function(e,s){const i=ka.create(t,e);return s.metadata[Z]=i,e}}const ka=Qo({name:G("attribute-pattern"),create:(t,e)=>({register(s){s.get(ya).registerPattern(t,e),Jo(ba,e).register(s)}})});class Ca{"PART.PART"(t,e,s){return new va(t,e,s[0],s[1])}"PART.PART.PART"(t,e,s){return new va(t,e,`${s[0]}.${s[1]}`,s[2])}}Ca[Symbol.metadata]={[Z]:ka.create([{pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."}],Ca)};class $a{ref(t,e,s){return new va(t,e,"element","ref")}"PART.ref"(t,e,s){let i=s[0];return"view-model"===i&&(i="component"),new va(t,e,i,"ref")}}$a[Symbol.metadata]={[Z]:ka.create([{pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."}],$a)};class Aa{"PART.trigger:PART"(t,e,s){return new va(t,e,s[0],"trigger",s)}"PART.capture:PART"(t,e,s){return new va(t,e,s[0],"capture",s)}}Aa[Symbol.metadata]={[Z]:ka.create([{pattern:"PART.trigger:PART",symbols:".:"},{pattern:"PART.capture:PART",symbols:".:"}],Aa)};class Ta{":PART"(t,e,s){return new va(t,e,s[0],"bind")}}Ta[Symbol.metadata]={[Z]:ka.create([{pattern:":PART",symbols:":"}],Ta)};class Sa{"@PART"(t,e,s){return new va(t,e,s[0],"trigger")}"@PART:PART"(t,e,s){return new va(t,e,s[0],"trigger",[s[0],"trigger",...s.slice(1)])}}Sa[Symbol.metadata]={[Z]:ka.create([{pattern:"@PART",symbols:"@"},{pattern:"@PART:PART",symbols:"@:"}],Sa)};const Ra=i.get,Ia=i.define,La="rg",Ba=Qo({hydrateElement:"ra",hydrateAttribute:"rb",hydrateTemplateController:"rc",hydrateLetElement:"rd",setProperty:"re",interpolation:"rf",propertyBinding:La,letBinding:"ri",refBinding:"rj",iteratorBinding:"rk",multiAttr:"rl",textBinding:"ha",listenerBinding:"hb",attributeBinding:"hc",stylePropertyBinding:"hd",setAttribute:"he",setClassAttribute:"hf",setStyleAttribute:"hg",spreadTransferedBinding:"hs",spreadElementProp:"hp",spreadValueBinding:"svb"}),Oa=Ko("Instruction");class Ma{constructor(t,e){this.from=t,this.to=e,this.type="rf"}}class Ea{constructor(t,e,s){this.from=t,this.to=e,this.mode=s,this.type=La}}class Pa{constructor(t,e,s){this.forOf=t,this.to=e,this.props=s,this.type="rk"}}class ja{constructor(t,e){this.from=t,this.to=e,this.type="rj"}}class Na{constructor(t,e){this.value=t,this.to=e,this.type="re"}}class qa{constructor(t,e,s){this.value=t,this.to=e,this.command=s,this.type="rl"}}class Fa{constructor(t,e,s,i,n,r){this.res=t,this.props=e,this.projections=s,this.containerless=i,this.captures=n,this.data=r,this.type="ra"}}class Va{constructor(t,e,s){this.res=t,this.alias=e,this.props=s,this.type="rb"}}class Da{constructor(t,e,s,i){this.def=t,this.res=e,this.alias=s,this.props=i,this.type="rc"}}class _a{constructor(t,e){this.instructions=t,this.toBindingContext=e,this.type="rd"}}class za{constructor(t,e){this.from=t,this.to=e,this.type="ri"}}class Ua{constructor(t){this.from=t,this.type="ha"}}class Wa{constructor(t,e,s,i){this.from=t,this.to=e,this.capture=s,this.modifier=i,this.type="hb"}}class Ha{constructor(t,e){this.from=t,this.to=e,this.type="hd"}}class Ga{constructor(t,e){this.value=t,this.to=e,this.type="he"}}class Ka{constructor(t){this.value=t,this.type="hf"}}class Qa{constructor(t){this.value=t,this.type="hg"}}class Xa{constructor(t,e,s){this.attr=t,this.from=e,this.to=s,this.type="hc"}}class Ja{constructor(){this.type="hs"}}class Ya{constructor(t){this.instruction=t,this.type="hp"}}class Za{constructor(t,e){this.target=t,this.from=e,this.type="svb"}}function tl(t){return function(e,s){return s.addInitializer((function(){ol.define(t,e)})),e}}class el{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return Go(t)?(s=t,i={name:s}):(s=t.name,i=t),new el(e,I(rl(e,"name"),s),R(rl(e,"aliases"),i.aliases,e.aliases),nl(s))}register(t,e){const s=this.Type,i="string"==typeof e?nl(e):this.key,n=this.aliases;t.has(i,!1)||t.register(t.has(s,!1)?null:Jo(s,s),Xo(s,i),...n.map((t=>Xo(s,nl(t)))))}}const sl="binding-command",il=G(sl),nl=t=>`${il}:${t}`,rl=(t,e)=>Ra(K.annotation.keyFor(e),t),ol=(()=>{const t="__au_static_resource__",e=(e,s,i)=>{let n=Ra(t,e);return null==n&&e.$au?.type===s&&(n=i(e.$au,e),Ia(n,e,t)),n};return Qo({name:il,keyFrom:nl,define(t,e){const s=el.create(t,e),i=s.Type;return Ia(s,i,il,H),i},getAnnotation:rl,find(t,s){const i=t.find(sl,s);return null==i?null:Ra(il,i)??e(i,sl,el.create)??null},get:(t,e)=>t.get(Qt(nl(e)))})})();class al{get ignoreAttr(){return!1}build(t,e,s){let i=t.attr.target,n=t.attr.rawValue;return n=""===n?C(i):n,i=null==t.bindable?s.map(t.node,i)??C(i):t.bindable.name,new Ea(e.parse(n,ta),i,1)}}al.$au={type:sl,name:"one-time"};class ll{get ignoreAttr(){return!1}build(t,e,s){let i=t.attr.target,n=t.attr.rawValue;return n=""===n?C(i):n,i=null==t.bindable?s.map(t.node,i)??C(i):t.bindable.name,new Ea(e.parse(n,ta),i,2)}}ll.$au={type:sl,name:"to-view"};class hl{get ignoreAttr(){return!1}build(t,e,s){const i=t.attr;let n=i.target,r=i.rawValue;return r=""===r?C(n):r,n=null==t.bindable?s.map(t.node,n)??C(n):t.bindable.name,new Ea(e.parse(r,ta),n,4)}}hl.$au={type:sl,name:"from-view"};class cl{get ignoreAttr(){return!1}build(t,e,s){const i=t.attr;let n=i.target,r=i.rawValue;return r=""===r?C(n):r,n=null==t.bindable?s.map(t.node,n)??C(n):t.bindable.name,new Ea(e.parse(r,ta),n,6)}}cl.$au={type:sl,name:"two-way"};class ul{get ignoreAttr(){return!1}build(t,e,s){const i=t.attr,n=t.bindable;let r,o,a=i.rawValue,l=i.target;return a=""===a?C(l):a,null==n?(o=s.isTwoWay(t.node,l)?6:2,l=s.map(t.node,l)??C(l)):(r=t.def.defaultBindingMode??0,o=0===n.mode||null==n.mode?null==r||0===r?2:r:n.mode,l=n.name),new Ea(e.parse(a,ta),l,Go(o)?sa[o]??0:o)}}ul.$au={type:sl,name:"bind"};class dl{constructor(){this.X=ut(ya)}get ignoreAttr(){return!1}build(t,e){const s=null===t.bindable?C(t.attr.target):t.bindable.name,i=e.parse(t.attr.rawValue,"IsIterator");let n=Nt;if(i.semiIdx>-1){const e=t.attr.rawValue.slice(i.semiIdx+1),s=e.indexOf(":");if(s>-1){const t=e.slice(0,s).trim(),i=e.slice(s+1).trim(),r=this.X.parse(t,i);n=[new qa(i,r.target,r.command)]}}return new Pa(i,s,n)}}dl.$au={type:sl,name:"for"};class fl{get ignoreAttr(){return!0}build(t,e){return new Wa(e.parse(t.attr.rawValue,Zo),t.attr.target,!1,t.attr.parts?.[2]??null)}}fl.$au={type:sl,name:"trigger"};class pl{get ignoreAttr(){return!0}build(t,e){return new Wa(e.parse(t.attr.rawValue,Zo),t.attr.target,!0,t.attr.parts?.[2]??null)}}pl.$au={type:sl,name:"capture"};class gl{get ignoreAttr(){return!0}build(t,e){const s=t.attr,i=s.target;let n=s.rawValue;return n=""===n?C(i):n,new Xa(i,e.parse(n,ta),i)}}gl.$au={type:sl,name:"attr"};class ml{get ignoreAttr(){return!0}build(t,e){return new Xa("style",e.parse(t.attr.rawValue,ta),t.attr.target)}}ml.$au={type:sl,name:"style"};class vl{get ignoreAttr(){return!0}build(t,e){return new Xa("class",e.parse(t.attr.rawValue,ta),t.attr.target)}}vl.$au={type:sl,name:"class"};class bl{get ignoreAttr(){return!0}build(t,e){return new ja(e.parse(t.attr.rawValue,ta),t.attr.target)}}bl.$au={type:sl,name:"ref"};class yl{get ignoreAttr(){return!1}build(t){return new Za(t.attr.target,t.attr.rawValue)}}yl.$au={type:sl,name:"spread"},"function"==typeof SuppressedError&&SuppressedError;const wl=Ko("ITemplateElementFactory",(t=>t.singleton(kl))),xl={};class kl{constructor(){this.p=ut(Vt),this.Y=this.t()}t(){return this.p.document.createElement("template")}createTemplate(t){if(Go(t)){let e=xl[t];if(void 0===e){const s=this.Y;s.innerHTML=t;const i=s.content.firstElementChild;!function(t){if(null==t)return!0;if("TEMPLATE"!==t.nodeName)return!0;const e=t.nextElementSibling;if(null!=e)return!0;const s=t.previousSibling;if(null!=s&&3===s.nodeType)return s.textContent.trim().length>0;const i=t.nextSibling;if(null!=i&&3===i.nodeType)return i.textContent.trim().length>0;return!1}(i)?(s.content.removeChild(i),e=i):(this.Y=this.t(),e=s),xl[t]=e}return e.cloneNode(!0)}if("TEMPLATE"!==t.nodeName){const e=this.t();return e.content.appendChild(t),e}return t.parentNode?.removeChild(t),t.cloneNode(!0)}}const Cl="au-start",$l="au-end",Al=(t,e,s)=>t.insertBefore(e,s),Tl=(t,e,s)=>{if(null===t)return;const i=s.length;let n=0;for(;i>n;)t.insertBefore(s[n],e),++n},Sl=(t,e)=>t.content.appendChild(e),Rl=(t,e)=>{const s=e.length;let i=0;for(;s>i;)t.content.appendChild(e[i]),++i},Il=t=>1===t.nodeType,Ll=t=>3===t.nodeType,Bl="au-slot",Ol="default",Ml=(t=>()=>"anonymous-"+ ++t)(0);class El{constructor(){this.debug=!1,this.resolveResources=!0}compile(t,e){if(null==t.template||!1===t.needsCompile)return t;const s=new Nl(t,e,null,null,void 0),i=Go(t.template)||!t.enhance?s.Z.createTemplate(t.template):t.template,n=i.nodeName===Pl&&null!=i.content,r=n?i.content:i,o=Xl.findAll(e),a=o.length;let l=0;if(a>0)for(;a>l;)o[l].compiling?.(i),++l;if(i.hasAttribute(Gl))throw ra(701,t);this.tt(r,s),this.et(r,s);return{...t,name:t.name||Ml(),dependencies:(t.dependencies??Nt).concat(s.deps??Nt),instructions:s.rows,surrogates:n?this.nt(i,s):Nt,template:i,hasSlots:s.hasSlot,needsCompile:!1}}compileSpread(t,e,s,i,n){const r=new Nl(t,s,null,null,void 0),o=[],a=n??r.it(i.nodeName.toLowerCase()),l=null!==a,h=r.ep,c=e.length;let u,d,f,p,g,m,v,b,y,w,x=0,k=null,$=null;for(;c>x;++x)if(u=e[x],y=u.target,w=u.rawValue,"...$attrs"!==y)if($=r.rt(u),null!==$&&$.ignoreAttr)Dl.node=i,Dl.attr=u,Dl.bindable=null,Dl.def=null,o.push($.build(Dl,r.ep,r.m));else if(l&&(p=r.st(a),g=p.attrs[y],void 0!==g))null==$?(v=h.parse(w,Yo),o.push(new Ya(null==v?new Na(w,g.name):new Ma(v,g.name)))):(Dl.node=i,Dl.attr=u,Dl.bindable=g,Dl.def=a,o.push(new Ya($.build(Dl,r.ep,r.m))));else if(k=r.lt(y),null===k)if(null==$)if(v=h.parse(w,Yo),null!=v)o.push(new Ma(v,r.m.map(i,y)??C(y)));else switch(y){case"class":o.push(new Ka(w));break;case"style":o.push(new Qa(w));break;default:o.push(new Ga(w,y))}else Dl.node=i,Dl.attr=u,Dl.bindable=null,Dl.def=null,o.push($.build(Dl,r.ep,r.m));else{if(k.isTemplateController)throw ra(9998,y);p=r.st(k),b=!1===k.noMultiBindings&&null===$&&ql(w),b?f=this.ot(i,w,k,r):(m=p.primary,null===$?(v=h.parse(w,Yo),f=[null===v?new Na(w,m.name):new Ma(v,m.name)]):(Dl.node=i,Dl.attr=u,Dl.bindable=m,Dl.def=k,f=[$.build(Dl,r.ep,r.m)])),(d??=[]).push(new Va(this.resolveResources?k:k.name,null!=k.aliases&&k.aliases.includes(y)?y:void 0,f))}else o.push(new Ja);return Fl(),null!=d?d.concat(o):o}nt(t,e){const s=[],i=t.attributes,n=e.ep;let r,o,a,l,h,c,u,d,f,p,g,m,v=i.length,b=0,y=null,w=null;for(;v>b;++b){if(r=i[b],o=r.name,a=r.value,l=e.X.parse(o,a),g=l.target,m=l.rawValue,_l[g])throw ra(702,o);if(w=e.rt(l),null!==w&&w.ignoreAttr)Dl.node=t,Dl.attr=l,Dl.bindable=null,Dl.def=null,s.push(w.build(Dl,e.ep,e.m));else if(y=e.lt(g),null===y)if(null===w)if(f=n.parse(m,Yo),null!=f)t.removeAttribute(o),--b,--v,s.push(new Ma(f,e.m.map(t,g)??C(g)));else switch(o){case"class":s.push(new Ka(m));break;case"style":s.push(new Qa(m));break;default:s.push(new Ga(m,o))}else Dl.node=t,Dl.attr=l,Dl.bindable=null,Dl.def=null,s.push(w.build(Dl,e.ep,e.m));else{if(y.isTemplateController)throw ra(703,g);u=e.st(y),p=!1===y.noMultiBindings&&null===w&&ql(m),p?c=this.ot(t,m,y,e):(d=u.primary,null===w?(f=n.parse(m,Yo),c=null===f?""===m?[]:[new Na(m,d.name)]:[new Ma(f,d.name)]):(Dl.node=t,Dl.attr=l,Dl.bindable=d,Dl.def=y,c=[w.build(Dl,e.ep,e.m)])),t.removeAttribute(o),--b,--v,(h??=[]).push(new Va(this.resolveResources?y:y.name,null!=y.aliases&&y.aliases.includes(g)?g:void 0,c))}}return Fl(),null!=h?h.concat(s):s}et(t,e){switch(t.nodeType){case 1:return"LET"===t.nodeName?this.ut(t,e):this.ct(t,e);case 3:return this.ht(t,e);case 11:{let s=t.firstChild;for(;null!==s;)s=this.et(s,e);break}}return t.nextSibling}ut(t,e){const s=t.attributes,i=s.length,n=[],r=e.ep;let o,a,l,h,c,u,d,f,p=!1,g=0;for(;i>g;++g)if(o=s[g],l=o.name,h=o.value,"to-binding-context"!==l)if(a=e.X.parse(l,h),u=a.target,d=a.rawValue,c=e.rt(a),null===c)f=r.parse(d,Yo),n.push(new za(null===f?new Xs(d):f,C(u)));else{if("bind"!==a.command)throw ra(704,a);n.push(new za(r.parse(d,ta),C(u)))}else p=!0;return e.rows.push([new _a(n,p)]),this.dt(t,e).nextSibling}ct(t,e){const s=t.nextSibling,i=(t.getAttribute("as-element")??t.nodeName).toLowerCase(),n=e.it(i),r=null!==n,o=r&&null!=n.shadowOptions,a=n?.capture,l=null!=a&&"boolean"!=typeof a,h=a?[]:Nt,c=e.ep,u=this.debug?Ft:()=>{t.removeAttribute(p),--P,--E};let d,f,p,g,m,v,b,y,w,x,k,$,A,T,S,R,I,L,B,O,M=t.attributes,E=M.length,P=0,j=null,N=!1,q=null,F=!0,V=!1,D=!1,_=!1,z=0;if("slot"===i){if(null==e.root.def.shadowOptions)throw ra(717,e.root.def.name);e.root.hasSlot=!0}for(r&&(B={},F=n.processContent?.call(n.Type,t,e.p,B),M=t.attributes,E=M.length);E>P;++P){switch(f=M[P],p=f.name,g=f.value,p){case"as-element":case"containerless":u(),V=V||"containerless"===p;continue}if(m=e.X.parse(p,g),q=e.rt(m),I=m.target,L=m.rawValue,a&&(!l||l&&a(I))){if(null!=q&&q.ignoreAttr){u(),h.push(m);continue}if(D=I!==Bl&&"slot"!==I&&(-1===(z=I.indexOf("..."))||0===z&&"...$attrs"===I),D&&(S=e.st(n),null==S.attrs[I]&&!e.lt(I)?.isTemplateController)){u(),h.push(m);continue}}if("...$attrs"!==I)if(q?.ignoreAttr)Dl.node=t,Dl.attr=m,Dl.bindable=null,Dl.def=null,(v??=[]).push(q.build(Dl,e.ep,e.m)),u();else{if(0===I.indexOf("...")){if(r&&"$element"!==(I=I.slice(3))){(b??=[]).push(new Za("$bindables","$bindables"===I?L:I)),u();continue}throw ra(720,I)}if(r){if(S=e.st(n),y=S.attrs[I],void 0!==y){null===q?(A=c.parse(L,Yo),(b??=[]).push(null==A?new Na(L,y.name):new Ma(A,y.name))):(Dl.node=t,Dl.attr=m,Dl.bindable=y,Dl.def=n,(b??=[]).push(q.build(Dl,e.ep,e.m))),u();continue}if("$bindables"===I){null!=q&&(Dl.node=t,Dl.attr=m,Dl.bindable=null,Dl.def=n,(b??=[]).push(q.build(Dl,e.ep,e.m))),u();continue}}if("$bindables"===I)throw ra(721,t.nodeName,I,L);j=e.lt(I),null===j?null!==q?(Dl.node=t,Dl.attr=m,Dl.bindable=null,Dl.def=null,(v??=[]).push(q.build(Dl,e.ep,e.m)),u()):(A=c.parse(L,Yo),null!=A&&(u(),(v??=[]).push(new Ma(A,e.m.map(t,I)??C(I))))):(S=e.st(j),N=!1===j.noMultiBindings&&null===q&&ql(L),N?x=this.ot(t,L,j,e):(R=S.primary,null===q?(A=c.parse(L,Yo),x=null===A?""===L?[]:[new Na(L,R.name)]:[new Ma(A,R.name)]):(Dl.node=t,Dl.attr=m,Dl.bindable=R,Dl.def=j,x=[q.build(Dl,e.ep,e.m)])),u(),j.isTemplateController?(k??=[]).push(new Da(Vl,this.resolveResources?j:j.name,void 0,x)):(w??=[]).push(new Va(this.resolveResources?j:j.name,null!=j.aliases&&j.aliases.includes(I)?I:void 0,x)))}else(v??=[]).push(new Ja),u()}if(Fl(),this.ft(t,v)&&null!=v&&v.length>1&&this.gt(t,v),r&&(T=new Fa(this.resolveResources?n:n.name,b??Nt,null,V,h,B)),null==v&&null==T&&null==w||(d=Nt.concat(T??Nt,w??Nt,v??Nt),_=!0),null!=k){let s;E=k.length-1,P=E,$=k[P],jl(t)?(s=e.t(),Rl(s,[e.wt(),e.bt(Cl),e.bt($l)])):(this.At(t,e),"TEMPLATE"===t.nodeName?s=t:(s=e.t(),Sl(s,t)));const a=s,l=e.yt(null==d?[]:[d]);let h,c,u,f,p,g,m,v,b=!1,y=0,w=0,x=t.firstChild,C=!1;if(!1!==F)for(;null!==x;){if(c=Il(x)?x.getAttribute(Bl):null,b=null!==c||r&&!o,h=x.nextSibling,b){if(!r)throw ra(706,c,i);x.removeAttribute?.(Bl),C=Ll(x)&&""===x.textContent.trim(),C||((f??={})[c||Ol]??=[]).push(x),t.removeChild(x)}x=h}if(null!=f){for(c in u={},f){for(s=e.t(),p=f[c],y=0,w=p.length;w>y;++y)g=p[y],"TEMPLATE"===g.nodeName?g.attributes.length>0?Sl(s,g):Sl(s,g.content):Sl(s,g);v=e.yt(),this.et(s.content,v),u[c]={name:Ml(),type:ea,template:s,instructions:v.rows,needsCompile:!1}}T.projections=u}if(_&&(r&&(V||n.containerless)?this.At(t,e):this.dt(t,e)),O=!r||!n.containerless&&!V&&!1!==F,O)if(t.nodeName===Pl)this.et(t.content,l);else for(x=t.firstChild;null!==x;)x=this.et(x,l);for($.def={name:Ml(),type:ea,template:a,instructions:l.rows,needsCompile:!1};P-- >0;)$=k[P],s=e.t(),m=e.wt(),Rl(s,[m,e.bt(Cl),e.bt($l)]),$.def={name:Ml(),type:ea,template:s,needsCompile:!1,instructions:[[k[P+1]]]};e.rows.push([$])}else{null!=d&&e.rows.push(d);let s,a,l,h,c,u,f,p=t.firstChild,g=!1,m=null,v=!1,b=0,y=0;if(!1!==F)for(;null!==p;){if(a=Il(p)?p.getAttribute(Bl):null,g=null!==a||r&&!o,s=p.nextSibling,g){if(!r)throw ra(706,a,i);p.removeAttribute?.(Bl),v=Ll(p)&&""===p.textContent.trim(),v||((l??={})[a||Ol]??=[]).push(p),t.removeChild(p)}p=s}if(null!=l){for(a in m={},l){for(u=e.t(),h=l[a],b=0,y=h.length;y>b;++b)c=h[b],c.nodeName===Pl?c.attributes.length>0?Sl(u,c):Sl(u,c.content):Sl(u,c);f=e.yt(),this.et(u.content,f),m[a]={name:Ml(),type:ea,template:u,instructions:f.rows,needsCompile:!1}}T.projections=m}if(_&&(r&&(V||n.containerless)?this.At(t,e):this.dt(t,e)),O=!r||!n.containerless&&!V&&!1!==F,O&&t.childNodes.length>0)for(p=t.firstChild;null!==p;)p=this.et(p,e)}return s}ht(t,e){const s=t.parentNode,i=e.ep.parse(t.textContent,Yo),n=t.nextSibling;let r,o,a,l,h;if(null!==i){for(({parts:r,expressions:o}=i),(h=r[0])&&Al(s,e.It(h),t),a=0,l=o.length;l>a;++a)Tl(s,t,[e.wt(),e.It(" ")]),(h=r[a+1])&&Al(s,e.It(h),t),e.rows.push([new Ua(o[a])]);s.removeChild(t)}return n}ot(t,e,s,i){const n=i.st(s),r=e.length,o=[];let a,l,h,c,u,d,f=0,p=0;for(let g=0;g<r;++g)if(p=e.charCodeAt(g),92===p)++g;else if(58===p){for(a=e.slice(f,g);e.charCodeAt(++g)<=32;);for(f=g;g<r;++g)if(p=e.charCodeAt(g),92===p)++g;else if(59===p){l=e.slice(f,g);break}if(void 0===l&&(l=e.slice(f)),c=i.X.parse(a,l),u=i.rt(c),d=n.attrs[c.target],null==d)throw ra(707,c.target,s.name);for(null===u?(h=i.ep.parse(l,Yo),o.push(null===h?new Na(l,d.name):new Ma(h,d.name))):(Dl.node=t,Dl.attr=c,Dl.bindable=d,Dl.def=s,o.push(u.build(Dl,i.ep,i.m)));g<r&&e.charCodeAt(++g)<=32;);f=g,a=void 0,l=void 0}return Fl(),o}tt(t,e){const s=e.root.def.name,i=t,n=T(i.querySelectorAll("template[as-custom-element]")),r=n.length;if(0===r)return;if(r===i.childElementCount)throw ra(708,s);const o=new Set,a=[];for(const t of n){if(t.parentNode!==i)throw ra(709,s);const e=Kl(s,t,o),n=t.content,r=T(n.querySelectorAll("bindable")),l=new Set,h=new Set,c=r.reduce(((t,s)=>{if(s.parentNode!==n)throw ra(710,e);const i=s.getAttribute("name");if(null===i)throw ra(711,s,e);const r=s.getAttribute("attribute");if(null!==r&&h.has(r)||l.has(i))throw ra(712,l,r);null!==r&&h.add(r),l.add(i);const o=T(s.attributes).filter((t=>!Hl.includes(t.name)));return o.length,s.remove(),t[i]={name:i,attribute:r??void 0,mode:s.getAttribute("mode")??"default"},t}),{});class u{}u.$au={type:ea,name:e,template:t,bindables:c},Reflect.defineProperty(u,"name",{value:$(e)}),a.push(u),i.removeChild(t)}const l=(e.root.def.dependencies??[]).concat(null==e.root.def.Type?Nt:[e.root.def.Type]);for(const t of a)t.dependencies=l.concat(a.filter((e=>e!==t))),e.St(t)}ft(t,e){const s=t.nodeName;return"INPUT"===s&&1===zl[t.type]||"SELECT"===s&&(t.hasAttribute("multiple")||e?.some((t=>t.type===La&&"multiple"===t.to)))}gt(t,e){switch(t.nodeName){case"INPUT":{const t=e;let s,i,n,r=0;for(let e=0;e<t.length&&r<3;e++)switch(n=t[e],n.to){case"model":case"value":case"matcher":s=e,r++;break;case"checked":i=e,r++}void 0!==i&&void 0!==s&&i<s&&([t[s],t[i]]=[t[i],t[s]]);break}case"SELECT":{const t=e;let s,i=0,n=0,r=0;for(let e=0;e<t.length&&r<2;++e){switch(s=t[e],s.to){case"multiple":n=e,r++;break;case"value":i=e,r++}2===r&&i<n&&([t[n],t[i]]=[t[i],t[n]])}}}}dt(t,e){return Al(t.parentNode,e.bt("au*"),t),t}At(t,e){if(jl(t))return t;const s=t.parentNode,i=e.wt();return Tl(s,t,[i,e.bt(Cl),e.bt($l)]),s.removeChild(t),i}}El.register=_(ia);const Pl="TEMPLATE",jl=t=>"au*"===t.nodeValue;class Nl{constructor(t,e,s,i,n){this.hasSlot=!1,this.deps=null;const r=null!==s;if(this.c=e,this.root=null===i?this:i,this.def=t,this.parent=s,this.Bt=r?s.Bt:e.get(Ul),this.Pt=r?s.Pt:e.get(Wl),this.Z=r?s.Z:e.get(wl),this.X=r?s.X:e.get(ya),this.ep=r?s.ep:e.get(gi),this.m=r?s.m:e.get(na),this.Ct=r?s.Ct:e.get(le),"number"!=typeof(this.p=r?s.p:e.get(Vt)).document?.nodeType)throw ra(722);this.localEls=r?s.localEls:new Set,this.rows=n??[]}St(t){return(this.root.deps??=[]).push(t),this.root.c.register(t),this}It(t){return this.p.document.createTextNode(t)}bt(t){return this.p.document.createComment(t)}wt(){return this.bt("au*")}h(t){const e=this.p.document.createElement(t);return"template"===t&&this.p.document.adoptNode(e.content),e}t(){return this.h("template")}it(t){return this.Bt.el(this.c,t)}lt(t){return this.Bt.attr(this.c,t)}st(t){return this.Bt.bindables(t)}yt(t){return new Nl(this.def,this.c,this,this.root,t)}rt(t){const e=t.command;return null===e?null:this.Pt.get(this.c,e)}}const ql=t=>{const e=t.length;let s=0,i=0;for(;e>i;){if(s=t.charCodeAt(i),92===s)++i;else{if(58===s)return!0;if(36===s&&123===t.charCodeAt(i+1))return!1}++i}return!1},Fl=()=>{Dl.node=Dl.attr=Dl.bindable=Dl.def=null},Vl={name:"unnamed",type:ea},Dl={node:null,attr:null,bindable:null,def:null},_l={id:!0,name:!0,"au-slot":!0,"as-element":!0},zl={checkbox:1,radio:1},Ul=Ko("IResourceResolver"),Wl=Ko("IBindingCommandResolver",(t=>t.singleton(class{constructor(){this.U=new WeakMap}get(t,e){let s=this.U.get(t);return s||this.U.set(t,s={}),e in s?s[e]:s[e]=ol.get(t,e)}}))),Hl=Qo(["name","attribute","mode"]),Gl="as-custom-element",Kl=(t,e,s)=>{const i=e.getAttribute(Gl);if(null===i||""===i)throw ra(715,t);if(s.has(i))throw ra(716,i,t);return s.add(i),e.removeAttribute(Gl),i},Ql=Ko("ITemplateCompilerHooks"),Xl=Qo({name:G("compiler-hooks"),define:t=>({register(e){Jo(Ql,t).register(e)}}),findAll:t=>t.get(Jt(Ql))}),Jl=(t,e)=>{return void 0===t?s:s(t,e);function s(t,e){return e.metadata[Z]=Xl.define(t),t}},Yl=Object,Zl=String,th=Yl.prototype,eh=th.hasOwnProperty,sh=Yl.freeze,ih=Yl.assign,nh=Yl.getOwnPropertyNames,rh=Yl.keys,oh=b(),ah=(t,e,s)=>{if(!0===oh[e])return!0;if(!g(e))return!1;const i=e.slice(0,5);return oh[e]="aria-"===i||"data-"===i||s.isStandardSvgAttribute(t,e)},lh=t=>{throw t},hh=Reflect.defineProperty,ch=(t,e,s)=>(hh(t,e,{enumerable:!1,configurable:!0,writable:!0,value:s}),s),uh=(t,e,s)=>t.addSignalListener(e,s),dh=(t,e,s)=>t.removeSignalListener(e,s),fh="IsProperty",ph="pending",gh="running",mh=Zn.Observer,vh=Zn.Node,bh=Zn.Layout,yh=(t,...e)=>new Error(`AUR${Zl(t).padStart(4,"0")}:${e.map(Zl)}`);class wh{constructor(t,e,s,i){this.parent=t,this.bindingContext=e,this.overrideContext=s,this.isBoundary=i}static getContext(t,e,s){if(null==t)throw yh(203);let i=t.overrideContext,n=t;if(s>0){for(;s>0;)if(s--,n=n.parent,null==n)return;return i=n.overrideContext,e in i?i:n.bindingContext}for(;null!=n&&!n.isBoundary&&!(e in n.overrideContext)&&!(e in n.bindingContext);)n=n.parent;return null==n?t.bindingContext:(i=n.overrideContext,e in i?i:n.bindingContext)}static create(t,e,s){if(null==t)throw yh(204);return new wh(null,t,e??new kh,s??!1)}static fromParent(t,e){if(null==t)throw yh(203);return new wh(t,e,new kh,!1)}}class xh{constructor(t,e){void 0!==t&&(this[t]=e)}}class kh{}const{astAssign:Ch,astEvaluate:$h,astBind:Ah,astUnbind:Th}=(()=>{const t="AccessThis",e="AccessBoundary",s="AccessGlobal",i="AccessScope",n="ArrayLiteral",r="ObjectLiteral",o="PrimitiveLiteral",a="Template",l="Unary",h="CallScope",u="CallMember",d="CallFunction",g="CallGlobal",m="AccessMember",v="AccessKeyed",b="TaggedTemplate",y="Binary",w="Conditional",k="Assign",C="ArrowFunction",$="ValueConverter",A="BindingBehavior",T="ArrayBindingPattern",S="ObjectBindingPattern",R="BindingIdentifier",I="ForOfStatement",L="Interpolation",B="ArrayDestructuring",O="ObjectDestructuring",M="DestructuringAssignmentLeaf",E="Custom",P=wh.getContext;function j(x,_,z,U){switch(x.$kind){case t:{let t=_.overrideContext,e=_,s=x.ancestor;for(;s--&&t;)e=e.parent,t=e?.overrideContext??null;return s<1&&e?e.bindingContext:void 0}case e:{let t=_;for(;null!=t&&!t.isBoundary;)t=t.parent;return t?t.bindingContext:void 0}case i:{const t=P(_,x.name,x.ancestor);null!==U&&U.observe(t,x.name);const e=t[x.name];if(null==e&&"$host"===x.name)throw yh(105);return z?.strict?z?.boundFn&&p(e)?e.bind(t):e:null==e?"":z?.boundFn&&p(e)?e.bind(t):e}case s:return globalThis[x.name];case g:{const t=globalThis[x.name];if(p(t))return t(...x.args.map((t=>j(t,_,z,U))));if(!z?.strictFnCall&&null==t)return;throw yh(107)}case n:return x.elements.map((t=>j(t,_,z,U)));case r:{const t={};for(let e=0;e<x.keys.length;++e)t[x.keys[e]]=j(x.values[e],_,z,U);return t}case o:return x.value;case a:{let t=x.cooked[0];for(let e=0;e<x.expressions.length;++e)t+=String(j(x.expressions[e],_,z,U)),t+=x.cooked[e+1];return t}case l:{const t=j(x.expression,_,z,U);switch(x.operation){case"void":return;case"typeof":return typeof t;case"!":return!t;case"-":return-t;case"+":return+t;case"--":if(null!=U)throw yh(113);return N(x.expression,_,z,t-1)+x.pos;case"++":if(null!=U)throw yh(113);return N(x.expression,_,z,t+1)-x.pos;default:throw yh(109,x.operation)}}case h:{const t=x.args.map((t=>j(t,_,z,U))),e=P(_,x.name,x.ancestor),s=q(z?.strictFnCall,e,x.name);return s?s.apply(e,t):void 0}case u:{const t=j(x.object,_,z,U),e=x.args.map((t=>j(t,_,z,U))),s=q(z?.strictFnCall,t,x.name);let i;return s&&(i=s.apply(t,e),c(t)&&D.includes(x.name)&&U?.observeCollection(t)),i}case d:{const t=j(x.func,_,z,U);if(p(t))return t(...x.args.map((t=>j(t,_,z,U))));if(!z?.strictFnCall&&null==t)return;throw yh(107)}case C:{const t=(...t)=>{const e=x.args,s=x.rest,i=e.length-1,n=e.reduce(((e,n,r)=>(e[n.name]=s&&r===i?t.slice(r):t[r],e)),{}),r=wh.fromParent(_,n);return j(x.body,r,z,U)};return t}case m:{const t=j(x.object,_,z,U);let e;if(z?.strict){if(null==t)return;return null===U||x.accessGlobal||U.observe(t,x.name),e=t[x.name],z?.boundFn&&p(e)?e.bind(t):e}return null!==U&&f(t)&&!x.accessGlobal&&U.observe(t,x.name),t?(e=t[x.name],z?.boundFn&&p(e)?e.bind(t):e):""}case v:{const t=j(x.object,_,z,U),e=j(x.key,_,z,U);return f(t)?(null===U||x.accessGlobal||U.observe(t,e),t[e]):null==t?void 0:t[e]}case b:{const t=x.expressions.map((t=>j(t,_,z,U))),e=j(x.func,_,z,U);if(!p(e))throw yh(110);return e(x.cooked,...t)}case y:{const t=x.left,e=x.right;switch(x.operation){case"&&":return j(t,_,z,U)&&j(e,_,z,U);case"||":return j(t,_,z,U)||j(e,_,z,U);case"??":return j(t,_,z,U)??j(e,_,z,U);case"==":return j(t,_,z,U)==j(e,_,z,U);case"===":return j(t,_,z,U)===j(e,_,z,U);case"!=":return j(t,_,z,U)!=j(e,_,z,U);case"!==":return j(t,_,z,U)!==j(e,_,z,U);case"instanceof":{const s=j(e,_,z,U);return!!p(s)&&j(t,_,z,U)instanceof s}case"in":{const s=j(e,_,z,U);return!!f(s)&&j(t,_,z,U)in s}case"+":{const s=j(t,_,z,U),i=j(e,_,z,U);if(z?.strict)return s+i;if(!s||!i){if(F(s)||F(i))return(s||0)+(i||0);if(V(s)||V(i))return(s||"")+(i||"")}return s+i}case"-":return j(t,_,z,U)-j(e,_,z,U);case"*":return j(t,_,z,U)*j(e,_,z,U);case"/":return j(t,_,z,U)/j(e,_,z,U);case"%":return j(t,_,z,U)%j(e,_,z,U);case"<":return j(t,_,z,U)<j(e,_,z,U);case">":return j(t,_,z,U)>j(e,_,z,U);case"<=":return j(t,_,z,U)<=j(e,_,z,U);case">=":return j(t,_,z,U)>=j(e,_,z,U);default:throw yh(108,x.operation)}}case w:return j(x.condition,_,z,U)?j(x.yes,_,z,U):j(x.no,_,z,U);case k:{let t=j(x.value,_,z,U);if("="!==x.op){if(null!=U)throw yh(113);const e=j(x.target,_,z,U);switch(x.op){case"/=":t=e/t;break;case"*=":t*=e;break;case"+=":t=e+t;break;case"-=":t=e-t;break;default:throw yh(108,x.op)}}return N(x.target,_,z,t)}case $:{const t=z?.getConverter?.(x.name);if(null==t)throw yh(103,x.name);return"toView"in t?t.toView(j(x.expression,_,z,U),...x.args.map((t=>j(t,_,z,U)))):j(x.expression,_,z,U)}case A:return j(x.expression,_,z,U);case R:return x.name;case I:return j(x.iterable,_,z,U);case L:if(x.isMulti){let t=x.parts[0],e=0;for(;e<x.expressions.length;++e)t+=Zl(j(x.expressions[e],_,z,U)),t+=x.parts[e+1];return t}return`${x.parts[0]}${j(x.firstExpression,_,z,U)}${x.parts[1]}`;case M:return j(x.target,_,z,U);case B:return x.list.map((t=>j(t,_,z,U)));case T:case S:case O:default:return;case E:return x.evaluate(_,z,U)}}function N(t,e,s,n){switch(t.$kind){case i:if("$host"===t.name)throw yh(106);return P(e,t.name,t.ancestor)[t.name]=n;case m:{const i=j(t.object,e,s,null);return f(i)?"length"===t.name&&c(i)&&!isNaN(n)?i.splice(n):i[t.name]=n:N(t.object,e,s,{[t.name]:n}),n}case v:{const i=j(t.object,e,s,null),r=j(t.key,e,s,null);if(c(i)){if("length"===r&&!isNaN(n))return i.splice(n),n;if(x(r))return i.splice(r,1,n),n}return i[r]=n}case k:return N(t.value,e,s,n),N(t.target,e,s,n);case $:{const i=s?.getConverter?.(t.name);if(null==i)throw yh(103,t.name);return"fromView"in i&&(n=i.fromView(n,...t.args.map((t=>j(t,e,s,null))))),N(t.expression,e,s,n)}case A:return N(t.expression,e,s,n);case B:case O:{const i=t.list,r=i.length;let o,a;for(o=0;o<r;o++)switch(a=i[o],a.$kind){case M:N(a,e,s,n);break;case B:case O:{if("object"!=typeof n||null===n)throw yh(112);let t=j(a.source,wh.create(n),s,null);void 0===t&&a.initializer&&(t=j(a.initializer,e,s,null)),N(a,e,s,t);break}}break}case M:if(t instanceof ai){if(null==n)return;if("object"!=typeof n)throw yh(112);let i=j(t.source,wh.create(n),s,null);void 0===i&&t.initializer&&(i=j(t.initializer,e,s,null)),N(t.target,e,s,i)}else{if(null==n)return;if("object"!=typeof n)throw yh(112);const i=t.indexOrProperties;let r;if(x(i)){if(!Array.isArray(n))throw yh(112);r=n.slice(i)}else r=Object.entries(n).reduce(((t,[e,s])=>(i.includes(e)||(t[e]=s),t)),{});N(t.target,e,s,r)}break;case E:return t.assign(e,s,n);default:return}}const q=(t,e,s)=>{const i=null==e?null:e[s];if(p(i))return i;if(!t&&null==i)return null;throw yh(111,s)},F=t=>{switch(typeof t){case"number":case"bigint":return!0;default:return!1}},V=t=>{switch(typeof t){case"string":return!0;case"object":return t instanceof Date;default:return!1}},D="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" ");return{astEvaluate:j,astAssign:N,astBind:function t(e,s,i){switch(e.$kind){case A:{const n=e.name,r=e.key,o=i.getBehavior?.(n);if(null==o)throw yh(101,n);if(void 0!==i[r])throw yh(102,n);return i[r]=o,o.bind?.(s,i,...e.args.map((t=>j(t,s,i,null)))),void t(e.expression,s,i)}case $:{const n=e.name,r=i.getConverter?.(n);if(null==r)throw yh(103,n);const o=r.signals;if(null!=o){const t=i.getSignaler?.(),e=o.length;let s=0;for(;s<e;++s)t?.addSignalListener(o[s],i)}return void t(e.expression,s,i)}case I:t(e.iterable,s,i);break;case E:e.bind?.(s,i)}},astUnbind:function t(e,s,i){switch(e.$kind){case A:{const n=e.key,r=i;void 0!==r[n]&&(r[n].unbind?.(s,i),r[n]=void 0),t(e.expression,s,i);break}case $:{const n=i.getConverter?.(e.name);if(void 0===n?.signals)return;const r=i.getSignaler?.();let o=0;for(;o<n.signals.length;++o)r?.removeSignalListener(n.signals[o],i);t(e.expression,s,i);break}case I:t(e.iterable,s,i);break;case E:e.unbind?.(s,i)}}}})();"function"==typeof SuppressedError&&SuppressedError;const{default:Sh,oneTime:Rh,toView:Ih,fromView:Lh,twoWay:Bh}=sa,Oh=i.get,Mh=i.has,Eh=i.define,{annotation:Ph}=K,jh=Ph.keyFor;function Nh(t,e){let s;function i(t,e){let i;switch(e.kind){case"getter":case"field":{const t=e.name;if("string"!=typeof t)throw yh(227);i=t;break}case"class":if(null==s)throw yh(228);if("string"==typeof s)i=s;else{const t=s.name;if(!t)throw yh(229);if("string"!=typeof t)throw yh(227);i=t}}const n=null==s||"string"==typeof s?{name:i}:s;(e.metadata[qh]??=b())[i]=Vh.create(i,n)}return arguments.length>1?(s={},void i(0,e)):g(t)?(s=t,i):(s=void 0===t?{}:t,i)}const qh=jh("bindables"),Fh=sh({name:qh,keyFrom:t=>`${qh}:${t}`,from(...t){const e={},s=Array.isArray;function i(t,s){e[t]=s instanceof Vh?s:Vh.create(t,!0===s?{}:s)}return t.forEach((function(t){s(t)?t.forEach((t=>g(t)?function(t){e[t]=Vh.create(t)}(t):i(t.name,t))):t instanceof Vh?e[t.name]=t:void 0!==t&&rh(t).forEach((e=>i(e,t[e])))})),e},getAll(t){const e=[],s=L(t);let i,n=s.length;for(;--n>=0;){i=s[n];const t=Oh(qh,i);null!=t&&e.push(...Object.values(t))}return e},i(t,e){let s=Oh(qh,e);null==s&&Eh(s=b(),e,qh),s[t.name]=t}});class Vh{constructor(t,e,s,i,n,r){this.attribute=t,this.callback=e,this.mode=s,this.primary=i,this.name=n,this.set=r}static create(t,e={}){const s=e.mode??Ih;return new Vh(e.attribute??A(t),e.callback??`${t}Changed`,g(s)?sa[s]??Sh:s,e.primary??!1,e.name??t,e.set??function(t={}){const e=t.type??null;if(null==e)return Ft;let s;switch(e){case Number:case Boolean:case String:case BigInt:s=e;break;default:{const t=e.coerce;s="function"==typeof t?t.bind(e):_h.for(e)??Ft;break}}return s===Ft?s:function(t,e){return function(s,i){return i?.enableCoercion?(e??!i?.coerceNullish)&&null==s?s:t(s,i):s}}(s,t.nullable)}(e))}}function Dh(t,e){e.addInitializer((function(){_h.define(this,e.name)}))}const _h={key:jh("coercer"),define(t,e){Eh(t[e].bind(t),t,_h.key)},for:t=>Oh(_h.key,t)};const zh=Tt.createInterface,Uh=D.singleton,Wh=D.aliasTo,Hh=D.instance,Gh=(t,e,s)=>t.registerResolver(e,s);function Kh(...t){return function(e,s){s.addInitializer((function(){const e=jh("aliases"),s=Oh(e,this);void 0===s?Eh(t,this,e):s.push(...t)}))}}function Qh(t,e,s,i){for(let n=0,r=t.length;n<r;++n)D.aliasTo(s,e.keyFrom(t[n])).register(i)}const Xh=(t,e,s,i="__au_static_resource__")=>{let n=Oh(i,t);return null==n&&t.$au?.type===e&&(n=s(t.$au,t),Eh(n,t,i)),n};function Jh(t){return function(e,s){return s.addInitializer((function(){ic.define(t,this)})),e}}class Yh{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return g(t)?(s=t,i={name:s}):(s=t.name,i=t),new Yh(e,I(ec(e,"name"),s),R(ec(e,"aliases"),i.aliases,e.aliases),ic.keyFrom(s))}register(t,e){const s=this.Type,i="string"==typeof e?sc(e):this.key,n=this.aliases;t.has(i,!1)||t.register(t.has(s,!1)?null:Uh(s,s),Wh(s,i),...n.map((t=>Wh(s,sc(t)))))}}const Zh="binding-behavior",tc=G(Zh),ec=(t,e)=>Oh(jh(e),t),sc=t=>`${tc}:${t}`,ic=sh({name:tc,keyFrom:sc,isType:t=>p(t)&&(Mh(tc,t)||t.$au?.type===Zh),define(t,e){const s=Yh.create(t,e),i=s.Type;return Eh(s,i,tc,H),i},getDefinition(t){const e=Oh(tc,t)??Xh(t,Zh,Yh.create);if(void 0===e)throw yh(151,t);return e},find(t,e){const s=t.find(Zh,e);return null==s?null:Oh(tc,s)??Xh(s,Zh,Yh.create)??null},get:(t,e)=>t.get(Qt(sc(e)))}),nc=new Map,rc=t=>({type:Zh,name:t});class oc{bind(t,e){nc.set(e,e.mode),e.mode=this.mode}unbind(t,e){e.mode=nc.get(e),nc.delete(e)}}class ac extends oc{get mode(){return Rh}}ac.$au=rc("oneTime");class lc extends oc{get mode(){return Ih}}lc.$au=rc("toView");class hc extends oc{get mode(){return Lh}}hc.$au=rc("fromView");class cc extends oc{get mode(){return Bh}}cc.$au=rc("twoWay");const uc=new WeakMap;class dc{constructor(){this.p=ut(Vt)}bind(t,e,s,i){const n={type:"debounce",delay:s??200,now:this.p.performanceNow,queue:this.p.taskQueue,signals:g(i)?[i]:i??Nt},r=e.limit?.(n);null==r||uc.set(e,r)}unbind(t,e){uc.get(e)?.dispose(),uc.delete(e)}}dc.$au={type:Zh,name:"debounce"};const fc=zh("ISignaler",(t=>t.singleton(pc)));class pc{constructor(){this.signals=b()}dispatchSignal(t){const e=this.signals[t];if(void 0===e)return;let s;for(s of e.keys())s.handleChange(void 0,void 0)}addSignalListener(t,e){(this.signals[t]??=new Set).add(e)}removeSignalListener(t,e){this.signals[t]?.delete(e)}}class gc{constructor(){this.h=new Map,this.u=ut(fc)}bind(t,e,...s){if(!("handleChange"in e))throw yh(817);if(0===s.length)throw yh(818);let i;for(i of(this.h.set(e,s),s))uh(this.u,i,e)}unbind(t,e){const s=this.h.get(e);let i;for(i of(this.h.delete(e),s))dh(this.u,i,e)}}gc.$au={type:Zh,name:"signal"};const mc=new WeakMap;class vc{constructor(){({performanceNow:this.C,taskQueue:this.B}=ut(Vt))}bind(t,e,s,i){const n={type:"throttle",delay:s??200,now:this.C,queue:this.B,signals:g(i)?[i]:i??Nt},r=e.limit?.(n);null==r||mc.set(e,r)}unbind(t,e){mc.get(e)?.dispose(),mc.delete(e)}}vc.$au={type:Zh,name:"throttle"};const bc=zh("IAppTask");class yc{constructor(t,e,s){this.c=void 0,this.slot=t,this.k=e,this.cb=s}register(t){return this.c=t.register(Hh(bc,this))}run(){const t=this.k,e=this.cb;return null===t?e():e(this.c.get(t))}}const wc=sh({creating:xc("creating"),hydrating:xc("hydrating"),hydrated:xc("hydrated"),activating:xc("activating"),activated:xc("activated"),deactivating:xc("deactivating"),deactivated:xc("deactivated")});function xc(t){return function(e,s){return p(s)?new yc(t,e,s):new yc(t,null,e)}}const kc=Vt;function Cc(t,e){if(null==t)throw yh(772);return function(s,i){const n="class"===i.kind;if(n){if(!(p(e)||null!=e&&e in s.prototype))throw yh(773,`${Zl(e)}@${s.name}}`)}else if(!p(s))throw yh(774,i.name);const r=new $c(t,n?e:s);function o(t){Ac.add(t,r),Mc(t)&&jc(t).watches.push(r),kp(t)&&Ap(t).watches.push(r)}n?o(s):i.addInitializer((function(){o(this.constructor)}))}}class $c{constructor(t,e){this.expression=t,this.callback=e}}const Ac=(()=>{const t=new WeakMap;return sh({add(e,s){let i=t.get(e);null==i&&t.set(e,i=[]),i.push(s)},getDefinitions:e=>t.get(e)??Nt})})();function Tc(t){return function(e,s){return s.addInitializer((function(){Pc(t,this)})),e}}function Sc(t){return function(e,s){return s.addInitializer((function(){Pc(g(t)?{isTemplateController:!0,name:t}:{isTemplateController:!0,...t},this)})),e}}class Rc{get type(){return"custom-attribute"}constructor(t,e,s,i,n,r,o,a,l,h,c){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.defaultBindingMode=n,this.isTemplateController=r,this.bindables=o,this.noMultiBindings=a,this.watches=l,this.dependencies=h,this.containerStrategy=c}static create(t,e){let s,i;g(t)?(s=t,i={name:s}):(s=t.name,i=t);const n=I(Oc(e,"defaultBindingMode"),i.defaultBindingMode,e.defaultBindingMode,Ih);for(const t of Object.values(Fh.from(i.bindables)))Fh.i(t,e);return new Rc(e,I(Oc(e,"name"),s),R(Oc(e,"aliases"),i.aliases,e.aliases),Bc(s),g(n)?sa[n]??Sh:n,I(Oc(e,"isTemplateController"),i.isTemplateController,e.isTemplateController,!1),Fh.from(...Fh.getAll(e),Oc(e,"bindables"),e.bindables,i.bindables),I(Oc(e,"noMultiBindings"),i.noMultiBindings,e.noMultiBindings,!1),R(Ac.getDefinitions(e),e.watches),R(Oc(e,"dependencies"),i.dependencies,e.dependencies),I(Oc(e,"containerStrategy"),i.containerStrategy,e.containerStrategy,"reuse"))}register(t,e){const s=this.Type,i="string"==typeof e?Bc(e):this.key,n=this.aliases;t.has(i,!1)?Rc.warnDuplicate&&t.get(le).warn(yh(154,this.name)):t.register(t.has(s,!1)?null:Uh(s,s),Wh(s,i),...n.map((t=>Wh(s,Bc(t)))))}toString(){return`au:ca:${this.name}`}}Rc.warnDuplicate=!0;const Ic="custom-attribute",Lc=G(Ic),Bc=t=>`${Lc}:${t}`,Oc=(t,e)=>Oh(jh(e),t),Mc=t=>p(t)&&(Mh(Lc,t)||t.$au?.type===Ic),Ec=(t,e)=>zf(t,Bc(e))??void 0,Pc=(t,e)=>{const s=Rc.create(t,e),i=s.Type;return Eh(s,i,Lc,H),i},jc=t=>{const e=Oh(Lc,t)??Xh(t,Ic,Rc.create);if(void 0===e)throw yh(759,t);return e},Nc=sh({name:Lc,keyFrom:Bc,isType:Mc,for:Ec,closest:(t,e)=>{let s="",i="";if(g(e))s=Bc(e),i=e;else{const t=jc(e);s=t.key,i=t.name}let n=t;for(;null!==n;){const t=zf(n,s);if(t?.is(i))return t;n=Xf(n)}return null},define:Pc,getDefinition:jc,annotate(t,e,s){Eh(s,t,jh(e))},getAnnotation:Oc,find(t,e){const s=t.find(Ic,e);return null===s?null:Oh(Lc,s)??Xh(s,Ic,Rc.create)??null}}),qc=zh("ILifecycleHooks");class Fc{constructor(t,e){this.definition=t,this.instance=e}}class Vc{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const s=new Set;let i=e.prototype;for(;i!==th;){for(const t of nh(i))"constructor"===t||t.startsWith("_")||s.add(t);i=Object.getPrototypeOf(i)}return new Vc(e,s)}}const Dc=(()=>{const t=new WeakMap,e=new WeakMap;return sh({define(t,s){const i=Vc.create(t,s),n=i.Type;return e.set(n,i),{register(t){Uh(qc,n).register(t)}}},resolve(s){let i=t.get(s);if(void 0===i){t.set(s,i=new _c);const n=s.root,r=n===s?s.getAll(qc):s.has(qc,!1)?n.getAll(qc).concat(s.getAll(qc)):n.getAll(qc);let o,a,l,h,c;for(o of r)for(h of(a=e.get(o.constructor),l=new Fc(a,o),a.propertyNames))c=i[h],void 0===c?i[h]=[l]:c.push(l)}return i}})})();class _c{}function zc(t,e){function s(t,e){return(e?.metadata??(t[Symbol.metadata]??=Object.create(null)))[Z]=Dc.define({},t),t}return null==t?s:s(t,e)}function Uc(t){return function(e,s){return s.addInitializer((function(){Xc.define(t,this)})),e}}class Wc{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return g(t)?(s=t,i={name:s}):(s=t.name,i=t),new Wc(e,I(Kc(e,"name"),s),R(Kc(e,"aliases"),i.aliases,e.aliases),Xc.keyFrom(s))}register(t,e){const s=this.Type,i="string"==typeof e?Qc(e):this.key,n=this.aliases;t.has(i,!1)||t.register(t.has(s,!1)?null:Uh(s,s),Wh(s,i),...n.map((t=>Wh(s,Qc(t)))))}}const Hc="value-converter",Gc=G(Hc),Kc=(t,e)=>Oh(jh(e),t),Qc=t=>`${Gc}:${t}`,Xc=sh({name:Gc,keyFrom:Qc,isType:t=>p(t)&&(Mh(Gc,t)||t.$au?.type===Hc),define(t,e){const s=Wc.create(t,e),i=s.Type;return Eh(s,i,Gc,H),i},getDefinition(t){const e=Oh(Gc,t)??Xh(t,Hc,Wc.create);if(void 0===e)throw yh(152,t);return e},annotate(t,e,s){Eh(s,t,jh(e))},getAnnotation:Kc,find(t,e){const s=t.find(Hc,e);return null==s?null:Oh(Gc,s)??Xh(s,Hc,Wc.create)??null},get:(t,e)=>t.get(Qt(Qc(e)))});class Jc{constructor(t,e){this.v=void 0,this.b=t,this.A=e}flush(){this.b.updateSource(this.v)}handleChange(t,e){const s=this.b;t!==$h(s.ast,s.s,s,null)&&(this.v=t,this.A.add(this))}}const Yc=(()=>{function t(t){this.s=t}return e=>{ch(e.prototype,"useScope",t)}})(),Zc=(()=>{const t=new WeakMap,e=new WeakMap;function s(t){return this.l.get(t)}function i(){return this.l.root.get(fc)}function n(e){let s=t.get(this);return null==s&&t.set(this,s=new tu),s[e]??=Xc.get(this.l,e)}function r(t){let s=e.get(this);return null==s&&e.set(this,s=new tu),s[t]??=ic.get(this.l,t)}return(t,e=!0)=>o=>{const a=o.prototype;null!=t&&hh(a,"strict",{enumerable:!0,get:function(){return t}}),hh(a,"strictFnCall",{enumerable:!0,get:function(){return e}}),ch(a,"get",s),ch(a,"getSignaler",i),ch(a,"getConverter",n),ch(a,"getBehavior",r)}})();class tu{}const eu=zh("IFlushQueue",(t=>t.singleton(su)));class su{constructor(){this.R=!1,this.T=new Set}get count(){return this.T.size}add(t){if(this.T.add(t),!this.R){this.R=!0;try{this.T.forEach(iu)}finally{this.R=!1}}}clear(){this.T.clear(),this.R=!1}}const iu=function(t,e,s){s.delete(t),t.flush()},nu=(()=>{const t=new WeakSet;return(e,s)=>{ch(e.prototype,"limit",(function(e){if(t.has(this))throw yh(9996);t.add(this);const i=s(this,e),n=e.signals,r=n.length>0?this.get(fc):null,o=this[i],a=(...t)=>o.call(this,...t),l="debounce"===e.type?((t,e,s)=>{let i,n,r,o=!1;const a=t.queue,l=()=>e(r),h=e=>{r=e,s.isBound?(n=i,i=a.queueTask(l,{delay:t.delay}),n?.cancel()):l()},c=h.dispose=()=>{n?.cancel(),i?.cancel(),n=i=void 0};return h.flush=()=>{o=i?.status===ph,c(),o&&l()},h})(e,a,this):((t,e,s)=>{let i,n,r,o=0,a=0,l=!1;const h=t.queue,c=()=>t.now(),u=()=>e(r),d=e=>{r=e,s.isBound?(a=c()-o,n=i,a>t.delay?(o=c(),u()):i=h.queueTask((()=>{o=c(),u()}),{delay:t.delay-a}),n?.cancel()):u()},f=d.dispose=()=>{n?.cancel(),i?.cancel(),n=i=void 0};return d.flush=()=>{l=i?.status===ph,f(),l&&u()},d})(e,a,this),h=r?{handleChange:l.flush}:null;return this[i]=l,r&&n.forEach((t=>uh(r,t,h))),{dispose:()=>{r&&n.forEach((t=>dh(r,t,h))),t.delete(this),l.dispose(),delete this[i]}}}))}})(),ru=((t=new WeakSet)=>e=>function(){t.has(this)||(t.add(this),e.call(this))})(),ou={preempt:!0};class au{constructor(t,e,s,i,n,r,o,a,l){this.targetAttribute=o,this.targetProperty=a,this.mode=l,this.isBound=!1,this.s=void 0,this.L=null,this.v=void 0,this.boundFn=!1,this.l=e,this.ast=n,this.M=t,this.target=r,this.oL=s,this.B=i}updateTarget(t){const e=this.target,s=this.targetAttribute,i=this.targetProperty;switch(s){case"class":e.classList.toggle(i,!!t);break;case"style":{let s="",n=Zl(t);g(n)&&n.includes("!important")&&(s="important",n=n.replace("!important","")),e.style.setProperty(i,n,s);break}default:null==t?e.removeAttribute(s):e.setAttribute(s,Zl(t))}}handleChange(){if(!this.isBound)return;let t;this.obs.version++;const e=$h(this.ast,this.s,this,(this.mode&Ih)>0?this:null);if(this.obs.clear(),e!==this.v){this.v=e;this.M.state!==yf?(t=this.L,this.L=this.B.queueTask((()=>{this.L=null,this.updateTarget(e)}),ou),t?.cancel()):this.updateTarget(e)}}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Ah(this.ast,t,this),this.mode&(Ih|Rh)&&this.updateTarget(this.v=$h(this.ast,t,this,(this.mode&Ih)>0?this:null)),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Th(this.ast,this.s,this),this.s=void 0,this.v=void 0,this.L?.cancel(),this.L=null,this.obs.clearAll())}}au.mix=ru((()=>{Yc(au),nu(au,(()=>"updateTarget")),yr(au,null),Zc(!0)(au)}));const lu={preempt:!0};class hu{constructor(t,e,s,i,n,r,o,a){this.ast=n,this.target=r,this.targetProperty=o,this.mode=a,this.isBound=!1,this.s=void 0,this.L=null,this.M=t,this.oL=s,this.B=i,this.I=s.getAccessor(r,o);const l=n.expressions,h=this.partBindings=Array(l.length),c=l.length;let u=0;for(;c>u;++u)h[u]=new cu(l[u],r,o,e,s,this)}P(){this.updateTarget()}updateTarget(){const t=this.partBindings,e=this.ast.parts,s=t.length;let i="",n=0;if(1===s)i=e[0]+t[0].v+e[1];else for(i=e[0];s>n;++n)i+=t[n].v+e[n+1];const r=this.I;let o;this.M.state!==yf&&(r.type&bh)>0?(o=this.L,this.L=this.B.queueTask((()=>{this.L=null,r.setValue(i,this.target,this.targetProperty)}),lu),o?.cancel(),o=null):r.setValue(i,this.target,this.targetProperty)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t;const e=this.partBindings,s=e.length;let i=0;for(;s>i;++i)e[i].bind(t);this.updateTarget(),this.isBound=!0}unbind(){if(!this.isBound)return;this.isBound=!1,this.s=void 0;const t=this.partBindings,e=t.length;let s=0;for(;e>s;++s)t[s].unbind();this.L?.cancel(),this.L=null}useAccessor(t){this.I=t}}class cu{constructor(t,e,s,i,n,r){this.ast=t,this.target=e,this.targetProperty=s,this.owner=r,this.mode=Ih,this.task=null,this.isBound=!1,this.v="",this.boundFn=!1,this.l=i,this.oL=n}updateTarget(){this.owner.P()}handleChange(){if(!this.isBound)return;this.obs.version++;const t=$h(this.ast,this.s,this,(this.mode&Ih)>0?this:null);this.obs.clear(),t!=this.v&&(this.v=t,c(t)&&this.observeCollection(t),this.updateTarget())}handleCollectionChange(){this.updateTarget()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Ah(this.ast,t,this),this.v=$h(this.ast,this.s,this,(this.mode&Ih)>0?this:null),c(this.v)&&this.observeCollection(this.v),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Th(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}cu.mix=ru((()=>{Yc(cu),nu(cu,(()=>"updateTarget")),yr(cu,null),Zc(!0)(cu)}));const uu={preempt:!0};class du{constructor(t,e,s,i,n,r,o){this.p=n,this.ast=r,this.target=o,this.isBound=!1,this.mode=Ih,this.L=null,this.v="",this.q=!1,this.boundFn=!1,this.strict=!0,this.l=e,this.M=t,this.oL=s,this.B=i}updateTarget(t){const e=this.target,s=this.v;this.v=t,this.q&&(s.parentNode?.removeChild(s),this.q=!1),t instanceof this.p.Node&&(e.parentNode?.insertBefore(t,e),t="",this.q=!0),e.textContent=Zl(t??"")}handleChange(){if(!this.isBound)return;this.obs.version++;const t=$h(this.ast,this.s,this,(this.mode&Ih)>0?this:null);if(this.obs.clear(),t===this.v)return this.L?.cancel(),void(this.L=null);this.M.state!==yf?this._(t):this.updateTarget(t)}handleCollectionChange(){if(!this.isBound)return;this.obs.version++;const t=this.v=$h(this.ast,this.s,this,(this.mode&Ih)>0?this:null);this.obs.clear(),c(t)&&this.observeCollection(t);this.M.state!==yf?this._(t):this.updateTarget(t)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Ah(this.ast,t,this);const e=this.v=$h(this.ast,this.s,this,(this.mode&Ih)>0?this:null);c(e)&&this.observeCollection(e),this.updateTarget(e),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Th(this.ast,this.s,this),this.q&&this.v.parentNode?.removeChild(this.v),this.s=void 0,this.obs.clearAll(),this.L?.cancel(),this.L=null)}_(t){const e=this.L;this.L=this.B.queueTask((()=>{this.L=null,this.updateTarget(t)}),uu),e?.cancel()}}du.mix=ru((()=>{Yc(du),nu(du,(()=>"updateTarget")),yr(du,null),Zc(void 0,!1)(du)}));class fu{constructor(t,e,s,i,n=!1){this.ast=s,this.targetProperty=i,this.isBound=!1,this.s=void 0,this.target=null,this.boundFn=!1,this.l=t,this.oL=e,this.O=n}updateTarget(){this.target[this.targetProperty]=this.v}handleChange(){this.isBound&&(this.obs.version++,this.v=$h(this.ast,this.s,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,this.target=this.O?t.bindingContext:t.overrideContext,Ah(this.ast,t,this),this.v=$h(this.ast,this.s,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Th(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}fu.mix=ru((()=>{Yc(fu),nu(fu,(()=>"updateTarget")),yr(fu,null),Zc(!0)(fu)}));class pu{constructor(t,e,s,i,n,r,o,a){this.ast=n,this.target=r,this.targetProperty=o,this.mode=a,this.isBound=!1,this.s=void 0,this.I=void 0,this.L=null,this.F=null,this.boundFn=!1,this.l=e,this.M=t,this.B=i,this.oL=s}updateTarget(t){this.I.setValue(t,this.target,this.targetProperty)}updateSource(t){Ch(this.ast,this.s,this,t)}handleChange(){if(!this.isBound)return;this.obs.version++;const t=$h(this.ast,this.s,this,(this.mode&Ih)>0?this:null);this.obs.clear();this.M.state!==yf&&(this.I.type&bh)>0?(gu=this.L,this.L=this.B.queueTask((()=>{this.updateTarget(t),this.L=null}),mu),gu?.cancel(),gu=null):this.updateTarget(t)}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Ah(this.ast,t,this);const e=this.oL,s=this.mode;let i=this.I;i||(i=s&Lh?e.getObserver(this.target,this.targetProperty):e.getAccessor(this.target,this.targetProperty),this.I=i);const n=(s&Ih)>0;s&(Ih|Rh)&&this.updateTarget($h(this.ast,this.s,this,n?this:null)),s&Lh&&(i.subscribe(this.F??=new Jc(this,this.l.get(eu))),n||this.updateSource(i.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Th(this.ast,this.s,this),this.s=void 0,this.F&&(this.I.unsubscribe(this.F),this.F=null),this.L?.cancel(),this.L=null,this.obs.clearAll())}useTargetObserver(t){this.I?.unsubscribe(this),(this.I=t).subscribe(this)}useTargetSubscriber(t){if(null!=this.F)throw yh(9995);this.F=t}}pu.mix=ru((()=>{Yc(pu),nu(pu,(t=>t.mode&Lh?"updateSource":"updateTarget")),yr(pu,null),Zc(!0,!1)(pu)}));let gu=null;const mu={preempt:!0};class vu{constructor(t,e,s){this.ast=e,this.target=s,this.isBound=!1,this.s=void 0,this.l=t}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Ah(this.ast,t,this),Ch(this.ast,this.s,this,this.target),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,$h(this.ast,this.s,this,null)===this.target&&Ch(this.ast,this.s,this,null),Th(this.ast,this.s,this),this.s=void 0)}}vu.mix=ru((()=>{Zc(!1)(vu)}));class bu{constructor(t,e=!1){this.prevent=t,this.capture=e}}class yu{constructor(t,e,s,i,n,r){this.ast=e,this.target=s,this.targetEvent=i,this.isBound=!1,this.self=!1,this.boundFn=!0,this.V=null,this.l=t,this.H=n,this.V=r}callSource(t){const e=this.s.overrideContext;e.$event=t;let s=$h(this.ast,this.s,this,null);return delete e.$event,p(s)&&(s=s(t)),!0!==s&&this.H.prevent&&t.preventDefault(),s}handleEvent(t){this.self&&this.target!==t.composedPath()[0]||!1!==this.V?.(t)&&this.callSource(t)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Ah(this.ast,t,this),this.target.addEventListener(this.targetEvent,this,this.H),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Th(this.ast,this.s,this),this.s=void 0,this.target.removeEventListener(this.targetEvent,this,this.H))}}yu.mix=ru((function(){Yc(yu),nu(yu,(()=>"callSource")),Zc(!0,!0)(yu)}));const wu=zh("IEventModifier"),xu=zh("IKeyMapping",(t=>t.instance({meta:sh(["ctrl","alt","shift","meta"]),keys:{escape:"Escape",enter:"Enter",space:"Space",tab:"tab",...Array.from({length:25}).reduce(((t,e,s)=>{let i=String.fromCharCode(s+65);return t[s+65]=i,i=String.fromCharCode(s+97),t[s+97]=t[i]=i,t}),{})}})));class ku{constructor(){this.type=["click","mousedown","mousemove","mouseup","dblclick","contextmenu"],this.$=ut(xu),this.N=["left","middle","right"]}static register(t){t.register(Uh(wu,ku))}getHandler(t){const e=t.split(/[:+.]/);return t=>{let s,i=!1,n=!1;for(s of e){switch(s){case"prevent":i=!0;continue;case"stop":n=!0;continue;case"left":case"middle":case"right":if(t.button!==this.N.indexOf(s))return!1;continue}if(this.$.meta.includes(s)&&!0!==t[`${s}Key`])return!1}return i&&t.preventDefault(),n&&t.stopPropagation(),!0}}}class Cu{constructor(){this.$=ut(xu),this.type=["keydown","keyup"]}static register(t){t.register(Uh(wu,Cu))}getHandler(t){const e=t.split(/[:+.]/);return t=>{let s,i=!1,n=!1;for(s of e){switch(s){case"prevent":i=!0;continue;case"stop":n=!0;continue}if(this.$.meta.includes(s)){if(!0!==t[`${s}Key`])return!1;continue}if(this.$.keys[s]!==t.key)return!1}return i&&t.preventDefault(),n&&t.stopPropagation(),!0}}}class $u{constructor(){this.type=["$ALL"]}static register(t){t.register(Uh(wu,$u))}getHandler(t){const e=t.split(/[:+.]/);return t=>{let s,i=!1,n=!1;for(s of e)switch(s){case"prevent":i=!0;continue;case"stop":n=!0;continue}return i&&t.preventDefault(),n&&t.stopPropagation(),!0}}}const Au=zh("IEventModifierHandler",(t=>t.instance({getHandler:()=>null})));class Tu{constructor(){this.j=ut(_t(wu)).reduce(((t,e)=>((c(e.type)?e.type:[e.type]).forEach((s=>t[s]=e)),t)),{})}static register(t){t.register(Uh(Au,Tu))}getHandler(t,e){return g(e)?(this.j[t]??this.j.$ALL)?.getHandler(e)??null:null}}const Su={register(t){t.register(Tu,ku,Cu,$u)}},Ru=zh("IViewFactory");class Iu{constructor(t,e){this.isCaching=!1,this.W=null,this.U=-1,this.name=e.name,this.container=t,this.def=e}setCacheSize(t,e){t&&("*"===t?t=Iu.maxCacheSize:g(t)&&(t=parseInt(t,10)),-1!==this.U&&e||(this.U=t)),this.U>0?this.W=[]:this.W=null,this.isCaching=this.U>0}canReturnToCache(t){return null!=this.W&&this.W.length<this.U}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.W.push(t),!0)}create(t){const e=this.W;let s;return null!=e&&e.length>0?(s=e.pop(),s):(s=Jd.$view(this,t),s)}}Iu.maxCacheSize=65535;const Lu=(()=>{const t=(t,e)=>t.document.createComment(e);return e=>{const s=t(e,"au-end");return s.$start=t(e,"au-start"),s}})(),Bu=(t,e,s)=>{if(null===t)return;const i=s.length;let n=0;for(;i>n;)t.insertBefore(s[n],e),++n},Ou=(t,e)=>new t.ownerDocument.defaultView.MutationObserver(e),Mu=t=>1===t.nodeType,Eu="default",Pu=zh("IAuSlotsInfo");class ju{constructor(t){this.projectedSlots=t}}const Nu=zh("IAuSlotWatcher");class qu{constructor(t,e,s,i){this.G=new Set,this.K=Nt,this.isBound=!1,this.cb=(this.o=t)[e],this.slotName=s,this.X=i}bind(){this.isBound=!0}unbind(){this.isBound=!1}getValue(){return this.K}watch(t){this.G.has(t)||(this.G.add(t),t.subscribe(this))}unwatch(t){this.G.delete(t)&&t.unsubscribe(this)}handleSlotChange(t,e){if(!this.isBound)return;const s=this.K,i=[],n=this.X;let r,o;for(r of this.G)for(o of r===t?e:r.nodes)("$all"===n||Mu(o)&&("*"===n||o.matches(n)))&&(i[i.length]=o);(i.length!==s.length||i.some(((t,e)=>t!==s[e])))&&(this.K=i,this.cb?.call(this.o,i),this.subs.notify(i,s))}get(){throw yh(99,"get")}}class Fu{constructor(t){this.Y=t}register(t){Hh(qc,this).register(t)}hydrating(t,e){const s=this.Y,i=new qu(t,s.callback??`${Zl(s.name)}Changed`,s.slotName??"default",s.query??"*");hh(t,s.name,{enumerable:!0,configurable:!0,get:ih((()=>i.getValue()),{getObserver:()=>i}),set:()=>{}}),Hh(Nu,i).register(e.container),e.addBinding(i)}}function Vu(t,e){Du||(Du=!0,lr(qu,null),zc()(Fu,null));const s=jh("dependencies");return function(i,n){if("field"!==n.kind)throw yh(9990);const r="object"==typeof t?t:{query:t,slotName:e,name:""};r.name=n.name,(n.metadata[s]??=[]).push(new Fu(r))}}let Du=!1;class _u{static create(t,e,s,i,n,r,o,a){const l=[],h=i.renderers,c=e=>{let s=e,i=t;for(;null!=i&&s>0;)i=i.parent,--s;if(null==i)throw yh(9999);return i},u=t=>{const i=c(t),d=new _u(i),f=n.compileSpread(i.controller.definition,i.instruction?.captures??Nt,i.controller.container,e,s);let p;for(p of f)switch(p.type){case Ba.spreadTransferedBinding:u(t+1);break;case Ba.spreadElementProp:h[p.instruction.type].render(d,Cp(e),p.instruction,r,o,a);break;default:h[p.type].render(d,e,p,r,o,a)}l.push(d)};return u(0),l}get container(){return this.locator}get definition(){return this.$controller.definition}get state(){return this.$controller.state}constructor(t){this.isBound=!1,this.Z=[],this.locator=(this.$controller=(this.J=t).controller).container}get(t){return this.locator.get(t)}bind(t){if(this.isBound)return;this.isBound=!0;const e=this.scope=this.J.controller.scope.parent??void 0;if(null==e)throw yh(9999);this.Z.forEach((t=>t.bind(e)))}unbind(){this.Z.forEach((t=>t.unbind())),this.isBound=!1}addBinding(t){this.Z.push(t)}addChild(t){if(t.vmKind!==mf)throw yh(9998);this.$controller.addChild(t)}}class zu{constructor(t,e,s,i,n,r,o){this.target=e,this.targetKeys=s,this.ast=i,this.isBound=!1,this.s=void 0,this.boundFn=!1,this.tt={},this.et=new WeakMap,this.M=t,this.oL=n,this.l=r,this.B=o}updateTarget(){this.obs.version++;const t=$h(this.ast,this.s,this,this);this.obs.clear(),this.st(t,!0)}handleChange(){this.isBound&&this.updateTarget()}handleCollectionChange(){this.isBound&&this.updateTarget()}bind(t){if(this.isBound){if(t===this.s)return;this.unbind()}this.isBound=!0,this.s=t,Ah(this.ast,t,this);const e=$h(this.ast,t,this,this);this.st(e,!1)}unbind(){if(!this.isBound)return;let t;for(t in this.isBound=!1,Th(this.ast,this.s,this),this.s=void 0,this.tt)this.tt[t].unbind()}st(t,e){let s,i;if(!f(t)){for(s in this.tt)this.tt[s]?.unbind();return}let n=this.et.get(t);for(s of(null==n&&this.et.set(t,n=wh.fromParent(this.s,t)),this.targetKeys))i=this.tt[s],s in t?(null==i&&(i=this.tt[s]=new pu(this.M,this.l,this.oL,this.B,zu.it[s]??=new Vs(s,0),this.target,s,sa.toView)),i.bind(n)):e&&i?.unbind()}}zu.mix=ru((()=>{Yc(zu),nu(zu,(()=>"updateTarget")),yr(zu,null),Zc(!0,!1)(zu)})),zu.it={};const Uu=(t,e,s,i)=>{t.addEventListener(e,s,i)},Wu=(t,e,s,i)=>{t.removeEventListener(e,s,i)},Hu=t=>{let e;const s=t.prototype;ch(s,"subscribe",(function(t){if(this.subs.add(t)&&1===this.subs.count){for(e of this.cf.events)Uu(this.nt,e,this);this.rt=!0,this.ot?.()}})),ch(s,"unsubscribe",(function(t){if(this.subs.remove(t)&&0===this.subs.count){for(e of this.cf.events)Wu(this.nt,e,this);this.rt=!1,this.lt?.()}})),ch(s,"useConfig",(function(t){if(this.cf=t,this.rt){for(e of this.cf.events)Wu(this.nt,e,this);for(e of this.cf.events)Uu(this.nt,e,this)}}))},Gu=t=>{ch(t.prototype,"subscribe",Ft),ch(t.prototype,"unsubscribe",Ft)};class Ku{get doNotCache(){return!0}constructor(t,e={}){this.obj=t,this.mapping=e,this.type=vh|bh,this.v="",this.ht={},this.ct=0}getValue(){return this.v}setValue(t){t!==this.v&&(this.v=t,this.ut())}ut(){const t=this.ht,e=++this.ct,s=this.obj.classList,i=Qu(this.v),n=i.length;let r,o=0;if(n>0)for(;o<n;o++)r=i[o],r=this.mapping[r]||r,0!==r.length&&(t[r]=this.ct,s.add(r));if(1!==e)for(r in t)r=this.mapping[r]||r,t[r]!==e&&s.remove(r)}}function Qu(t){if(g(t))return Xu(t);if("object"!=typeof t)return Nt;if(c(t)){const e=t.length;if(e>0){const s=[];let i=0;for(;e>i;++i)s.push(...Qu(t[i]));return s}return Nt}const e=[];let s;for(s in t)Boolean(t[s])&&(s.includes(" ")?e.push(...Xu(s)):e.push(s));return e}function Xu(t){const e=t.match(/\S+/g);return null===e?Nt:e}Gu(Ku);const Ju=t=>({$isResolver:!0,resolve:(e,s)=>s.get(Sf).controller.container.get(Kt(t))}),Yu=zh("IRenderer");function Zu(t,e){return(e?.metadata??(t[Symbol.metadata]??=Object.create(null)))[Z]={register(e){Uh(Yu,t).register(e)}},t}function td(t,e,s){return g(e)?t.parse(e,s):e}function ed(t){return null!=t.viewModel?t.viewModel:t}const sd=Zu(class{constructor(){this.target=Ba.setProperty}render(t,e,s){const i=ed(e);void 0!==i.$observers?.[s.to]?i.$observers[s.to].setValue(s.value):i[s.to]=s.value}},null),id=Zu(class{constructor(){this.r=ut(Bd),this.target=Ba.hydrateElement}render(t,e,s,i,n,r){let o,a,l;const h=s.res,c=s.projections,u=t.container;if("string"==typeof h){if(o=Sp.find(u,h),null==o)throw yh(752,s,t)}else o=h;const d=s.containerless||o.containerless?Yf(e):null,f=function(t,e,s,i,n,r){const o=e.container.createChild();return np(o,s,t),Gh(o,Tf,new Pt(xd,e)),Gh(o,Oa,new Pt(kd,i)),Gh(o,Gf,null==n?Rd:new Sd(n)),Gh(o,Ru,Id),Gh(o,Pu,null==r?Ld:new Pt($d,r)),o}(i,t,e,s,d,null==c?void 0:new ju(rh(c)));a=f.invoke(o.Type),l=Jd.$el(f,a,e,s,o,d),Uf(e,o.key,l);const p=this.r.renderers,g=s.props,m=g.length;let v,b=0;for(;m>b;)v=g[b],p[v.type].render(t,l,v,i,n,r),++b;t.addChild(l)}},null),nd=Zu(class{constructor(){this.r=ut(Bd),this.target=Ba.hydrateAttribute}render(t,e,s,i,n,r){let o,a=t.container;if("string"==typeof s.res){if(o=Nc.find(a,s.res),null==o)throw yh(753,s,t)}else o=s.res;const l=Td(i,o,t,e,s,void 0,void 0),h=Jd.$attr(l.ctn,l.vm,e,o);Uf(e,o.key,h);const c=this.r.renderers,u=s.props,d=u.length;let f,p=0;for(;d>p;)f=u[p],c[f.type].render(t,h,f,i,n,r),++p;t.addChild(h)}},null),rd=Zu(class{constructor(){this.r=ut(Bd),this.target=Ba.hydrateTemplateController}render(t,e,s,i,n,r){let o,a=t.container;if("string"==typeof s.res){if(o=Nc.find(a,s.res),null==o)throw yh(754,s,t)}else o=s.res;const l=this.r.getViewFactory(s.def,"new"===o.containerStrategy?a.createChild({inheritParentResources:!0}):a),h=Yf(e),c=Td(i,o,t,e,s,l,h),u=Jd.$attr(c.ctn,c.vm,e,o);Uf(h,o.key,u),c.vm.link?.(t,u,e,s);const d=this.r.renderers,f=s.props,p=f.length;let g,m=0;for(;p>m;)g=f[m],d[g.type].render(t,u,g,i,n,r),++m;t.addChild(u)}},null),od=Zu(class{constructor(){this.target=Ba.hydrateLetElement,fu.mix()}render(t,e,s,i,n,r){e.remove();const o=s.instructions,a=s.toBindingContext,l=t.container,h=o.length;let c,u,d=0;for(;h>d;)c=o[d],u=td(n,c.from,fh),t.addBinding(new fu(l,r,u,c.to,a)),++d}},null),ad=Zu(class{constructor(){this.target=Ba.refBinding}render(t,e,s,i,n){t.addBinding(new vu(t.container,td(n,s.from,fh),function(t,e){if("element"===e)return t;switch(e){case"controller":return Cp(t);case"view":throw yh(750);case"component":return Cp(t).viewModel;default:{const s=Ec(t,e);if(void 0!==s)return s.viewModel;const i=Cp(t,{name:e});if(void 0===i)throw yh(751,e);return i.viewModel}}}(e,s.to)))}},null),ld=Zu(class{constructor(){this.target=Ba.interpolation,cu.mix()}render(t,e,s,i,n,r){const o=t.container,a=new hu(t,o,r,i.domQueue,td(n,s.from,"Interpolation"),ed(e),s.to,Ih);if("class"===s.to&&a.target.nodeType>0){const t=o.get(Ju(Kf));a.useAccessor(new Ku(a.target,t))}t.addBinding(a)}},null),hd=Zu(class{constructor(){this.target=Ba.propertyBinding,pu.mix()}render(t,e,s,i,n,r){const o=t.container,a=new pu(t,o,r,i.domQueue,td(n,s.from,fh),ed(e),s.to,s.mode);if("class"===s.to&&a.target.nodeType>0){const t=o.get(Ju(Kf));a.useTargetObserver(new Ku(a.target,t))}t.addBinding(a)}},null),cd=Zu(class{constructor(){this.target=Ba.iteratorBinding,pu.mix()}render(t,e,s,i,n,r){t.addBinding(new pu(t,t.container,r,i.domQueue,td(n,s.forOf,"IsIterator"),ed(e),s.to,Ih))}},null),ud=Zu(class{constructor(){this.target=Ba.textBinding,du.mix()}render(t,e,s,i,n,r){t.addBinding(new du(t,t.container,r,i.domQueue,i,td(n,s.from,fh),e))}},null),dd=zh("IListenerBindingOptions",(t=>t.instance({prevent:!1}))),fd=Zu(class{constructor(){this.target=Ba.listenerBinding,this.ft=ut(Au),this.dt=ut(dd),yu.mix()}render(t,e,s,i,n){t.addBinding(new yu(t.container,td(n,s.from,"IsFunction"),e,s.to,new bu(this.dt.prevent,s.capture),this.ft.getHandler(s.to,s.modifier)))}},null),pd=Zu(class{constructor(){this.target=Ba.setAttribute}render(t,e,s){e.setAttribute(s.to,s.value)}},null),gd=Zu(class{constructor(){this.target=Ba.setClassAttribute}render(t,e,s){!function(t,e){const s=e.length;let i=0;for(let n=0;n<s;++n)32===e.charCodeAt(n)?(n!==i&&t.add(e.slice(i,n)),i=n+1):n+1===s&&t.add(e.slice(i))}(e.classList,s.value)}},null),md=Zu(class{constructor(){this.target=Ba.setStyleAttribute}render(t,e,s){e.style.cssText+=s.value}},null),vd=Zu(class{constructor(){this.target=Ba.stylePropertyBinding,pu.mix()}render(t,e,s,i,n,r){t.addBinding(new pu(t,t.container,r,i.domQueue,td(n,s.from,fh),e.style,s.to,Ih))}},null),bd=Zu(class{constructor(){this.target=Ba.attributeBinding,au.mix()}render(t,e,s,i,n,r){const o=t.container,a=o.has(Kf,!1)?o.get(Kf):null;t.addBinding(new au(t,o,r,i.domQueue,td(n,s.from,fh),e,s.attr,null==a?s.to:s.to.split(/\s/g).map((t=>a[t]??t)).join(" "),Ih))}},null),yd=Zu(class{constructor(){this.gt=ut(ia),this.r=ut(Bd),this.target=Ba.spreadTransferedBinding}render(t,e,s,i,n,r){_u.create(t.container.get(Sf),e,void 0,this.r,this.gt,i,n,r).forEach((e=>t.addBinding(e)))}},null),wd=Zu(class{constructor(){this.target=Ba.spreadValueBinding,zu.mix()}render(t,e,s,i,n,r){const o=s.target;if("$bindables"!==o)throw yh(820,o);t.addBinding(new zu(t,e.viewModel,rh(e.definition.bindables),n.parse(s.from,fh),r,t.container,i.domQueue))}},null);const xd="IController",kd="IInstruction",Cd="IRenderLocation",$d="ISlotsInfo";class Ad{get $isResolver(){return!0}constructor(t){this.f=t}resolve(){const t=this.f;if(null===t)throw yh(755);if(!g(t.name)||0===t.name.length)throw yh(756);return t}}function Td(t,e,s,i,n,r,o,a){const l=s instanceof Jd?s:s.$controller,h=l.container.createChild();return np(h,i,t),Gh(h,Tf,new Pt(xd,l)),Gh(h,Oa,new Pt(kd,n)),Gh(h,Gf,null==o?Rd:new Pt(Cd,o)),Gh(h,Ru,null==r?Id:new Ad(r)),Gh(h,Pu,Ld),{vm:h.invoke(e.Type),ctn:h}}class Sd{get name(){return"IRenderLocation"}get $isResolver(){return!0}constructor(t){this.l=t}resolve(){return this.l}}const Rd=new Sd(null),Id=new Ad(null),Ld=new Pt($d,new ju(Nt)),Bd=zh("IRendering",(t=>t.singleton(Od)));class Od{get renderers(){return this.vt??=this.xt.getAll(Yu,!1).reduce(((t,e)=>(t[e.target]??=e,t)),b())}constructor(){this.bt=new WeakMap,this.wt=new WeakMap;const t=this.xt=ut(St).root,e=this.p=t.get(kc);this.ep=t.get(gi),this.oL=t.get(Mo),this.yt=e.document.createElement("au-m"),this.kt=new tp(e,e.document.createDocumentFragment())}compile(t,e){const s=e.get(ia),i=this.bt;let n=i.get(t);return null==n&&i.set(t,n=cp.create(t.needsCompile?s.compile(t,e):t)),n}getViewFactory(t,e){return new Iu(e,cp.getOrCreate(t))}createNodes(t){if(!0===t.enhance)return new tp(this.p,this.Ct(t.template));let e,s=!1;const i=this.wt,n=this.p,r=n.document;if(i.has(t))e=i.get(t);else{const o=t.template;let a;null==o?e=null:o instanceof n.Node?"TEMPLATE"===o.nodeName?(e=o.content,s=!0):(e=r.createDocumentFragment()).appendChild(o.cloneNode(!0)):(a=r.createElement("template"),g(o)&&(a.innerHTML=o),e=a.content,s=!0),this.Ct(e),i.set(t,e)}return null==e?this.kt:new tp(this.p,s?r.importNode(e,!0):r.adoptNode(e.cloneNode(!0)))}render(t,e,s,i){const n=s.instructions,r=this.renderers,o=e.length;let a,l,h,c=0,u=0,d=n.length;if(o!==d)throw yh(757,o,d);if(o>0)for(;o>c;){for(a=n[c],h=e[c],u=0,d=a.length;d>u;)l=a[u],r[l.type].render(t,h,l,this.p,this.ep,this.oL),++u;++c}if(null!=i&&(a=s.surrogates,(d=a.length)>0))for(u=0;d>u;)l=a[u],r[l.type].render(t,i,l,this.p,this.ep,this.oL),++u}Ct(t){if(null==t)return null;const e=this.p.document.createTreeWalker(t,128);let s;for(;null!=(s=e.nextNode());)"au*"===s.nodeValue&&s.parentNode.replaceChild(e.currentNode=this.yt.cloneNode(),s);return t}}function Md(...t){return new Ed(t)}class Ed{constructor(t){this.modules=t}register(t){let e=t.get(Kt(Kf));null==e&&t.register(Hh(Kf,e=b())),ih(e,...this.modules);t.register(Xl.define(class{compiling(t){const s="TEMPLATE"===t.tagName?t.content:t,i=[t,...T(s.querySelectorAll("[class]"))];for(const t of i){const s=t.getAttributeNode("class");if(null==s)continue;const i=s.value.split(/\s+/g).map((t=>e[t]||t)).join(" ");s.value=i}}}))}}function Pd(...t){return new Nd(t)}const jd=zh("IShadowDOMStyleFactory",(t=>t.cachedCallback((t=>_d.supported(t.get(kc))?t.get(qd):t.get(Fd)))));class Nd{constructor(t){this.css=t}register(t){const e=t.get(Dd),s=t.get(jd);t.register(Hh(Vd,s.createStyles(this.css,e)))}}class qd{constructor(){this.p=ut(kc),this.cache=new Map}createStyles(t,e){return new _d(this.p,t,this.cache,e)}}class Fd{constructor(){this.p=ut(kc)}createStyles(t,e){return new zd(this.p,t,e)}}const Vd=zh("IShadowDOMStyles"),Dd=zh("IShadowDOMGlobalStyles",(t=>t.instance({applyTo:Ft})));class _d{constructor(t,e,s,i=null){this.sharedStyles=i,this.styleSheets=e.map((e=>{let i;return e instanceof t.CSSStyleSheet?i=e:(i=s.get(e),void 0===i&&(i=new t.CSSStyleSheet,i.replaceSync(e),s.set(e,i))),i}))}static supported(t){return"adoptedStyleSheets"in t.ShadowRoot.prototype}applyTo(t){null!==this.sharedStyles&&this.sharedStyles.applyTo(t),t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets]}}class zd{constructor(t,e,s=null){this.p=t,this.localStyles=e,this.sharedStyles=s}applyTo(t){const e=this.localStyles,s=this.p;for(let i=e.length-1;i>-1;--i){const n=s.document.createElement("style");n.innerHTML=e[i],t.prepend(n)}null!==this.sharedStyles&&this.sharedStyles.applyTo(t)}}const Ud={shadowDOM:t=>wc.creating(St,(e=>{if(null!=t.sharedStyles){const s=e.get(jd);e.register(Hh(Dd,s.createStyles(t.sharedStyles,null)))}}))},{enter:Wd,exit:Hd}=Tr,{wrap:Gd,unwrap:Kd}=ko;class Qd{get value(){return this.v}constructor(t,e,s,i,n){this.obj=t,this.$get=s,this.useProxy=n,this.isBound=!1,this.running=!1,this.v=void 0,this.cb=i,this.oL=e}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(!this.isBound||this.running)return;const t=this.obj,e=this.v,s=this.compute();y(s,e)||this.cb.call(t,s,e,t)}compute(){this.running=!0,this.obs.version++;try{return Wd(this),this.v=Kd(this.$get.call(void 0,this.useProxy?Gd(this.obj):this.obj,this))}finally{this.obs.clear(),this.running=!1,Hd(this)}}}yr(Qd,null);class Xd{get value(){return this.v}constructor(t,e,s,i,n){this.scope=t,this.l=e,this.oL=s,this.isBound=!1,this.boundFn=!1,this.obj=t.bindingContext,this.Bt=i,this.cb=n}handleChange(t){const e=this.Bt,s=this.obj,i=this.v;"AccessScope"===e.$kind&&1===this.obs.count||(this.obs.version++,t=$h(e,this.scope,this,this),this.obs.clear()),y(t,i)||(this.v=t,this.cb.call(s,t,i,s))}bind(){this.isBound||(this.obs.version++,this.v=$h(this.Bt,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this.v=void 0)}}yr(Xd,null),Zc(!0)(Xd);class Jd{get lifecycleHooks(){return this.St}get isActive(){return(this.state&(yf|wf))>0&&!(this.state&xf)}get name(){if(null===this.parent)switch(this.vmKind){case mf:return`[${this.definition.name}]`;case gf:return this.definition.name;case vf:return this.viewFactory.name}switch(this.vmKind){case mf:return`${this.parent.name}>[${this.definition.name}]`;case gf:return`${this.parent.name}>${this.definition.name}`;case vf:return this.viewFactory.name===this.parent.definition?.name?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get viewModel(){return this.At}set viewModel(t){this.At=t,this.Et=null==t||this.vmKind===vf?ff.none:new ff(t)}constructor(t,e,s,i,n,r,o){this.container=t,this.vmKind=e,this.definition=s,this.viewFactory=i,this.host=r,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.scope=null,this.isBound=!1,this.Rt=!1,this.hostController=null,this.mountTarget=Zd,this.shadowRoot=null,this.nodes=null,this.location=null,this.St=null,this.state=bf,this.Tt=!1,this.$initiator=null,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.Lt=0,this.Mt=0,this.Dt=0,this.At=n,this.Et=e===vf?ff.none:new ff(n),this.location=o,this.r=t.root.get(Bd),this.coercion=e===vf?void 0:t.get(of)}static getCached(t){return Yd.get(t)}static getCachedOrThrow(t){const e=Jd.getCached(t);if(void 0===e)throw yh(500,t);return e}static $el(t,e,s,i,n=void 0,r=null){if(Yd.has(e))return Yd.get(e);n=n??Ap(e.constructor),Gh(t,n.Type,new Pt(n.key,e,n.Type));const o=new Jd(t,gf,n,null,e,s,r),a=t.get(Wt(Sf));return n.dependencies.length>0&&t.register(...n.dependencies),Gh(t,Sf,new Pt("IHydrationContext",new Rf(o,i,a))),Yd.set(e,o),null!=i&&!1===i.hydrate||o.hE(i,a),o}static $attr(t,e,s,i){if(Yd.has(e))return Yd.get(e);i=i??jc(e.constructor),Gh(t,i.Type,new Pt(i.key,e,i.Type));const n=new Jd(t,mf,i,null,e,s,null);return i.dependencies.length>0&&t.register(...i.dependencies),Yd.set(e,n),n.It(),n}static $view(t,e=void 0){const s=new Jd(t.container,vf,null,t,null,null,null);return s.parent=e??null,s.Pt(),s}hE(t,e){const s=this.container,i=this.At,n=this.definition;this.scope=wh.create(i,null,!0),n.watches.length>0&&cf(this,s,n,i),af(this,n,i),this.St=Dc.resolve(s),s.register(n.Type),null!==n.injectable&&Gh(s,n.injectable,new Pt("definition.injectable",i)),null!=t&&!1===t.hydrate||(this.hS(),this.hC())}hS(){null!=this.St.hydrating&&this.St.hydrating.forEach(Bf,this),this.Et.qt&&this.At.hydrating(this);const t=this.definition,e=this._t=this.r.compile(t,this.container),s=e.shadowOptions,i=e.hasSlots,n=e.containerless;let r=this.host,o=this.location;if(null!==(this.hostController=Cp(r,rf))&&(r=this.host=this.container.root.get(kc).document.createElement(t.name),n&&null==o&&(o=this.location=Yf(r))),Uf(r,vp,this),Uf(r,t.key,this),null!==s||i){if(null!=o)throw yh(501);Uf(this.shadowRoot=r.attachShadow(s??pf),vp,this),Uf(this.shadowRoot,t.key,this),this.mountTarget=ef}else null!=o?(Uf(o,vp,this),Uf(o,t.key,this),this.mountTarget=sf):this.mountTarget=tf;this.At.$controller=this,this.nodes=this.r.createNodes(e),void 0!==this.St.hydrated&&this.St.hydrated.forEach(Of,this),this.Et.Ot&&this.At.hydrated(this)}hC(){this.r.render(this,this.nodes.findTargets(),this._t,this.host),void 0!==this.St.created&&this.St.created.forEach(Lf,this),this.Et.Ft&&this.At.created(this)}It(){const t=this.definition,e=this.At;t.watches.length>0&&cf(this,this.container,t,e),af(this,t,e),e.$controller=this,this.St=Dc.resolve(this.container),void 0!==this.St.created&&this.St.created.forEach(Lf,this),this.Et.Ft&&this.At.created(this)}Pt(){this._t=this.r.compile(this.viewFactory.def,this.container),this.r.render(this,(this.nodes=this.r.createNodes(this._t)).findTargets(),this._t,void 0)}activate(t,e,s){switch(this.state){case bf:case kf:if(null!==e&&!e.isActive)return;this.state=yf;break;case wf:return;case $f:throw yh(502,this.name);default:throw yh(503,this.name,function(t){const e=[];(t&yf)===yf&&e.push("activating");(t&wf)===wf&&e.push("activated");(t&xf)===xf&&e.push("deactivating");(t&kf)===kf&&e.push("deactivated");(t&Cf)===Cf&&e.push("released");(t&$f)===$f&&e.push("disposed");return 0===e.length?"none":e.join("|")}(this.state))}switch(this.parent=e,this.vmKind){case gf:this.scope.parent=s??null;break;case mf:this.scope=s??null;break;case vf:if(null==s)throw yh(504,this.name);this.hasLockedScope||(this.scope=s)}let i;return this.$initiator=t,this.Vt(),this.vmKind!==vf&&null!=this.St.binding&&(i=E(...this.St.binding.map(Mf,this))),this.Et.Ht&&(i=E(i,this.At.binding(this.$initiator,this.parent))),h(i)?(this.$t(),i.then((()=>{this.Rt=!0,this.state!==yf?this.Nt():this.bind()})).catch((t=>{this.jt(t)})),this.$promise):(this.Rt=!0,this.bind(),this.$promise)}bind(){let t,e=0,s=0;if(null!==this.bindings)for(e=0,s=this.bindings.length;s>e;)this.bindings[e].bind(this.scope),++e;if(this.vmKind!==vf&&null!=this.St.bound&&(t=E(...this.St.bound.map(Ef,this))),this.Et.Wt&&(t=E(t,this.At.bound(this.$initiator,this.parent))),h(t))return this.$t(),void t.then((()=>{this.isBound=!0,this.state!==yf?this.Nt():this.zt()})).catch((t=>{this.jt(t)}));this.isBound=!0,this.zt()}Ut(...t){switch(this.mountTarget){case tf:this.host.append(...t);break;case ef:this.shadowRoot.append(...t);break;case sf:{let e=0;for(;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location);break}}}zt(){if(null!==this.hostController)switch(this.mountTarget){case tf:case ef:this.hostController.Ut(this.host);break;case sf:this.hostController.Ut(this.location.$start,this.location)}switch(this.mountTarget){case tf:this.nodes.appendTo(this.host,null!=this.definition&&this.definition.enhance);break;case ef:{const t=this.container;(t.has(Vd,!1)?t.get(Vd):t.get(Dd)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case sf:this.nodes.insertBefore(this.location)}let t,e=0;if(this.vmKind!==vf&&null!=this.St.attaching&&(t=E(...this.St.attaching.map(Pf,this))),this.Et.Gt&&(t=E(t,this.At.attaching(this.$initiator,this.parent))),h(t)&&(this.$t(),this.Vt(),t.then((()=>{this.Nt()})).catch((t=>{this.jt(t)}))),null!==this.children)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.scope);this.Nt()}deactivate(t,e){let s;switch(this.state&~Cf){case wf:this.state=xf;break;case yf:this.state=xf,s=this.$promise?.catch(Ft);break;case bf:case kf:case $f:case kf|$f:return;default:throw yh(505,this.name,this.state)}this.$initiator=t,t===this&&this.Kt();let i,n=0;if(null!==this.children)for(n=0;n<this.children.length;++n)this.children[n].deactivate(t,this);return M(s,(()=>{if(this.isBound&&(this.vmKind!==vf&&null!=this.St.detaching&&(i=E(...this.St.detaching.map(Nf,this))),this.Et.Xt&&(i=E(i,this.At.detaching(this.$initiator,this.parent)))),h(i)&&(this.$t(),t.Kt(),i.then((()=>{t.Qt()})).catch((e=>{t.jt(e)}))),null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.Qt(),this.$promise}))}removeNodes(){switch(this.vmKind){case gf:case vf:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case tf:case ef:this.host.remove();break;case sf:this.location.$start.remove(),this.location.remove()}}unbind(){let t=0;if(null!==this.bindings)for(;t<this.bindings.length;++t)this.bindings[t].unbind();switch(this.parent=null,this.vmKind){case mf:this.scope=null;break;case vf:this.hasLockedScope||(this.scope=null),(this.state&Cf)!==Cf||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case gf:this.scope.parent=null}this.state=kf,this.$initiator=null,this.Yt()}$t(){void 0===this.$promise&&(this.$promise=new Promise(((t,e)=>{this.$resolve=t,this.$reject=e})),this.$initiator!==this&&this.parent.$t())}Yt(){void 0!==this.$promise&&(Ff=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,Ff(),Ff=void 0)}jt(t){void 0!==this.$promise&&(Vf=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,Vf(t),Vf=void 0),this.$initiator!==this&&this.parent.jt(t)}Vt(){++this.Lt,this.$initiator!==this&&this.parent.Vt()}Nt(){if(this.state!==yf)return--this.Lt,this.Yt(),void(this.$initiator!==this&&this.parent.Nt());if(0==--this.Lt){if(this.vmKind!==vf&&null!=this.St.attached&&(Df=E(...this.St.attached.map(jf,this))),this.Et.Zt&&(Df=E(Df,this.At.attached(this.$initiator))),h(Df))return this.$t(),Df.then((()=>{this.state=wf,this.Yt(),this.$initiator!==this&&this.parent.Nt()})).catch((t=>{this.jt(t)})),void(Df=void 0);Df=void 0,this.state=wf,this.Yt()}this.$initiator!==this&&this.parent.Nt()}Kt(){++this.Mt}Qt(){if(0==--this.Mt){this.Jt(),this.removeNodes();let t,e=this.$initiator.head;for(;null!==e;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e.Rt&&(e.vmKind!==vf&&null!=e.St.unbinding&&(t=E(...e.St.unbinding.map(qf,e))),e.Et.te&&(e.debug&&e.logger.trace("unbinding()"),t=E(t,e.viewModel.unbinding(e.$initiator,e.parent)))),h(t)&&(this.$t(),this.Jt(),t.then((()=>{this.ee()})).catch((t=>{this.jt(t)}))),t=void 0,e=e.next;this.ee()}}Jt(){++this.Dt}ee(){if(0==--this.Dt){let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.Rt=!1,t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.Rt=!1,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addChild(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case mf:case gf:return this.definition.name===t;case vf:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return this.vmKind===gf&&(Uf(t,vp,this),Uf(t,this.definition.key,this)),this.host=t,this.mountTarget=tf,this}setShadowRoot(t){return this.vmKind===gf&&(Uf(t,vp,this),Uf(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=ef,this}setLocation(t){return this.vmKind===gf&&(Uf(t,vp,this),Uf(t,this.definition.key,this)),this.location=t,this.mountTarget=sf,this}release(){this.state|=Cf}dispose(){(this.state&$f)!==$f&&(this.state|=$f,this.Et.se&&this.At.dispose(),null!==this.children&&(this.children.forEach(If),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,null!==this.At&&(Yd.delete(this.At),this.At=null),this.At=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(t){if(!0===t(this))return!0;if(this.Et.ie&&!0===this.At.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let s=0,i=e.length;s<i;++s)if(!0===e[s].accept(t))return!0}}}const Yd=new WeakMap,Zd=0,tf=1,ef=2,sf=3,nf=sh({none:Zd,host:tf,shadowRoot:ef,location:sf}),rf={optional:!0},of=Xt(Yn);function af(t,e,s){const i=e.bindables,n=nh(i),r=n.length,o=t.container.get(Mo);if(r>0)for(let e=0;e<r;++e){const r=n[e],a=i[r],l=a.callback,h=o.getObserver(s,r);if(a.set!==Ft&&!0!==h.useCoercer?.(a.set,t.coercion))throw yh(507,r);if(null!=s[l]||null!=s.propertyChanged){const e=(e,i)=>{t.isBound&&(s[l]?.(e,i),s.propertyChanged?.(r,e,i))};if(!0!==h.useCallback?.(e))throw yh(508,r)}}}const lf=new Map,hf=t=>{let e=lf.get(t);return null==e&&(e=new Vs(t,0),lf.set(t,e)),e};function cf(t,e,s,i){const n=e.get(Mo),r=e.get(gi),o=s.watches,a=t.vmKind===gf?t.scope:wh.create(i,null,!0),l=o.length;let h,c,u,d=0;for(;l>d;++d){if(({expression:h,callback:c}=o[d]),c=p(c)?c:Reflect.get(i,c),!p(c))throw yh(506,c);p(h)?t.addBinding(new Qd(i,n,h,c,!0)):(u=g(h)?r.parse(h,fh):hf(h),t.addBinding(new Xd(a,e,n,u,c)))}}function uf(t){return t instanceof Jd&&t.vmKind===gf}function df(t){return e(t)&&kp(t.constructor)}class ff{constructor(t){this.ne="define"in t,this.qt="hydrating"in t,this.Ot="hydrated"in t,this.Ft="created"in t,this.Ht="binding"in t,this.Wt="bound"in t,this.Gt="attaching"in t,this.Zt="attached"in t,this.Xt="detaching"in t,this.te="unbinding"in t,this.se="dispose"in t,this.ie="accept"in t}}ff.none=new ff({});const pf={mode:"open"},gf="customElement",mf="customAttribute",vf="synthetic",bf=0,yf=1,wf=2,xf=4,kf=8,Cf=16,$f=32,Af=sh({none:bf,activating:yf,activated:wf,deactivating:xf,deactivated:kf,released:Cf,disposed:$f});const Tf=zh("IController"),Sf=zh("IHydrationContext");class Rf{constructor(t,e,s){this.instruction=e,this.parent=s,this.controller=t}}function If(t){t.dispose()}function Lf(t){t.instance.created(this.At,this)}function Bf(t){t.instance.hydrating(this.At,this)}function Of(t){t.instance.hydrated(this.At,this)}function Mf(t){return t.instance.binding(this.At,this.$initiator,this.parent)}function Ef(t){return t.instance.bound(this.At,this.$initiator,this.parent)}function Pf(t){return t.instance.attaching(this.At,this.$initiator,this.parent)}function jf(t){return t.instance.attached(this.At,this.$initiator)}function Nf(t){return t.instance.detaching(this.At,this.$initiator,this.parent)}function qf(t){return t.instance.unbinding(this.At,this.$initiator,this.parent)}let Ff,Vf,Df;class _f{}function zf(t,e){return t.$au?.[e]??null}function Uf(t,e,s){(t.$au??=new _f)[e]=s}const Wf=zh("INode"),Hf=zh("IEventTarget",(t=>t.cachedCallback((t=>t.has(Bp,!0)?t.get(Bp).host:t.get(kc).document)))),Gf=zh("IRenderLocation"),Kf=zh("ICssClassMapping"),Qf=new WeakMap;function Xf(t){if(Qf.has(t))return Qf.get(t);let e=0,s=t.nextSibling;for(;null!==s;){if(8===s.nodeType)switch(s.textContent){case"au-start":++e;break;case"au-end":if(0==e--)return s}s=s.nextSibling}if(null===t.parentNode&&11===t.nodeType){const e=Cp(t,{optional:!0});if(null==e)return null;if(e.mountTarget===nf.shadowRoot)return Xf(e.host)}return t.parentNode}function Jf(t,e){if(void 0===t.platform||t instanceof t.platform.Node)Qf.set(t,e);else{const s=t.childNodes;for(let t=0,i=s.length;t<i;++t)Qf.set(s[t],e)}}function Yf(t){if(Zf(t))return t;const e=t.ownerDocument.createComment("au-end"),s=e.$start=t.ownerDocument.createComment("au-start"),i=t.parentNode;return null!==i&&(i.replaceChild(e,t),i.insertBefore(s,e)),e}function Zf(t){return"au-end"===t.textContent}class tp{get firstChild(){return this.re}get lastChild(){return this.oe}constructor(t,e){this.platform=t,this.next=void 0,this.le=!1,this.ae=!1,this.ref=null;const s=(this.f=e).querySelectorAll("au-m");let i,n,r=0,o=s.length,a=this.t=Array(o);for(;o>r;)n=s[r],i=n.nextSibling,n.remove(),8===i.nodeType&&(n=i,(i=i.nextSibling).$start=n),a[r]=i,++r;const l=e.childNodes,h=this.childNodes=Array(o=l.length);for(r=0;o>r;)h[r]=l[r],++r;this.re=e.firstChild,this.oe=e.lastChild}findTargets(){return this.t}insertBefore(t){if(this.ae&&this.ref)this.addToLinked();else{const e=t.parentNode;if(this.le){let s,i=this.re;const n=this.oe;for(;null!=i&&(s=i.nextSibling,e.insertBefore(i,t),i!==n);)i=s}else this.le=!0,t.parentNode.insertBefore(this.f,t)}}appendTo(t,e=!1){if(this.le){let e,s=this.re;const i=this.oe;for(;null!=s&&(e=s.nextSibling,t.appendChild(s),s!==i);)s=e}else this.le=!0,e||t.appendChild(this.f)}remove(){if(this.le){this.le=!1;const t=this.f,e=this.oe;let s,i=this.re;for(;null!==i&&(s=i.nextSibling,t.appendChild(i),i!==e);)i=s}}addToLinked(){const t=this.ref,e=t.parentNode;if(this.le){let s,i=this.re;const n=this.oe;for(;null!=i&&(s=i.nextSibling,e.insertBefore(i,t),i!==n);)i=s}else this.le=!0,e.insertBefore(this.f,t)}unlink(){this.ae=!1,this.next=void 0,this.ref=void 0}link(t){this.ae=!0,Zf(t)?this.ref=t:(this.next=t,this.he())}he(){void 0!==this.next?this.ref=this.next.firstChild:this.ref=void 0}}const ep=zh("IWindow",(t=>t.callback((t=>t.get(kc).window)))),sp=zh("ILocation",(t=>t.callback((t=>t.get(ep).location)))),ip=zh("IHistory",(t=>t.callback((t=>t.get(ep).history)))),np=(t,e,s=t.get(kc))=>(Gh(t,s.HTMLElement,Gh(t,s.Element,Gh(t,Wf,new Pt("ElementResolver",e)))),t);function rp(t){return function(e,s){return s.addInitializer((function(){xp(t,this)})),e}}function op(t,e){return void 0===t?function(t,e){e.addInitializer((function(){wp(this,"shadowOptions",{mode:"open"})}))}:p(t)?void e.addInitializer((function(){wp(this,"shadowOptions",{mode:"open"})})):function(e,s){s.addInitializer((function(){wp(this,"shadowOptions",t)}))}}function ap(t,e){if(void 0===t)return function(t,e){e.addInitializer((function(){lp(t)}))};e.addInitializer((function(){lp(t)}))}function lp(t){const e=Oh(vp,t);void 0!==e?e.containerless=!0:wp(t,"containerless",!0)}const hp=new WeakMap;class cp{get type(){return"custom-element"}constructor(t,e,s,i,n,r,o,a,l,h,c,u,d,f,p,g,m,v){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.capture=n,this.template=r,this.instructions=o,this.dependencies=a,this.injectable=l,this.needsCompile=h,this.surrogates=c,this.bindables=u,this.containerless=d,this.shadowOptions=f,this.hasSlots=p,this.enhance=g,this.watches=m,this.processContent=v}static create(t,e=null){if(null===e){const s=t;if(g(s))throw yh(761,t);const i=Y("name",s,yp);e=p(s.Type)?s.Type:Tp($(i));for(const t of Object.values(Fh.from(s.bindables)))Fh.i(t,e);return new cp(e,i,R(s.aliases),Y("key",s,(()=>bp(i))),X("capture",s,e,fp),Y("template",s,dp),R(s.instructions),R($p(e,"dependencies"),s.dependencies),Y("injectable",s,dp),Y("needsCompile",s,pp),R(s.surrogates),Fh.from($p(e,"bindables"),s.bindables),X("containerless",s,e,fp),Y("shadowOptions",s,dp),Y("hasSlots",s,fp),Y("enhance",s,fp),Y("watches",s,gp),J("processContent",e,dp))}if(g(t))return new cp(e,t,R($p(e,"aliases"),e.aliases),bp(t),J("capture",e,fp),J("template",e,dp),R($p(e,"instructions"),e.instructions),R($p(e,"dependencies"),e.dependencies),J("injectable",e,dp),J("needsCompile",e,pp),R($p(e,"surrogates"),e.surrogates),Fh.from(...Fh.getAll(e),$p(e,"bindables"),e.bindables),J("containerless",e,fp),J("shadowOptions",e,dp),J("hasSlots",e,fp),J("enhance",e,fp),R(Ac.getDefinitions(e),e.watches),J("processContent",e,dp));const s=Y("name",t,yp);for(const s of Object.values(Fh.from(t.bindables)))Fh.i(s,e);return new cp(e,s,R($p(e,"aliases"),t.aliases,e.aliases),bp(s),X("capture",t,e,fp),X("template",t,e,dp),R($p(e,"instructions"),t.instructions,e.instructions),R($p(e,"dependencies"),t.dependencies,e.dependencies),X("injectable",t,e,dp),X("needsCompile",t,e,pp),R($p(e,"surrogates"),t.surrogates,e.surrogates),Fh.from(...Fh.getAll(e),$p(e,"bindables"),e.bindables,t.bindables),X("containerless",t,e,fp),X("shadowOptions",t,e,dp),X("hasSlots",t,e,fp),X("enhance",t,e,fp),R(t.watches,Ac.getDefinitions(e),e.watches),X("processContent",t,e,dp))}static getOrCreate(t){if(t instanceof cp)return t;if(hp.has(t))return hp.get(t);const e=cp.create(t);return hp.set(t,e),Eh(e,e.Type,vp),e}register(t,e){const s=this.Type,i="string"==typeof e?bp(e):this.key,n=this.aliases;t.has(i,!1)?console.warn(yh(153,this.name)):t.register(t.has(s,!1)?null:Uh(s,s),Wh(s,i),...n.map((t=>Wh(s,bp(t)))))}toString(){return`au:ce:${this.name}`}}const up={name:void 0,searchParents:!1,optional:!1},dp=()=>null,fp=()=>!1,pp=()=>!0,gp=()=>Nt,mp="custom-element",vp=G(mp),bp=t=>`${vp}:${t}`,yp=(t=>()=>"unnamed-"+ ++t)(0),wp=(t,e,s)=>{Eh(s,t,jh(e))},xp=(t,e)=>{const s=cp.create(t,e),i=s.Type;return Eh(s,i,vp,H),i},kp=t=>p(t)&&(Mh(vp,t)||t.$au?.type===mp),Cp=(t,e=up)=>{if(void 0===e.name&&!0!==e.searchParents){const s=zf(t,vp);if(null===s){if(!0===e.optional)return null;throw yh(762,t)}return s}if(void 0!==e.name){if(!0!==e.searchParents){const s=zf(t,vp);if(null===s)throw yh(763,t);return s.is(e.name)?s:void 0}let s=t,i=!1;for(;null!==s;){const t=zf(s,vp);if(null!==t&&(i=!0,t.is(e.name)))return t;s=Xf(s)}if(i)return;throw yh(764,t)}let s=t;for(;null!==s;){const t=zf(s,vp);if(null!==t)return t;s=Xf(s)}throw yh(765,t)},$p=(t,e)=>Oh(jh(e),t),Ap=t=>{const e=Oh(vp,t)??Xh(t,mp,cp.create);if(null==e)throw yh(760,t);return e},Tp=function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(s,i=e){const n=class{};return t.value=s,hh(n,"name",t),i!==e&&ih(n.prototype,i),n}}(),Sp=sh({name:vp,keyFrom:bp,isType:kp,for:Cp,define:xp,getDefinition:Ap,annotate:wp,getAnnotation:$p,generateName:yp,createInjectable:()=>{const t={$isInterface:!1,register:()=>({$isResolver:!0,resolve:(e,s)=>s.has(t,!0)?s.get(t):null})};return t},generateType:Tp,find(t,e){const s=t.find(mp,e);return null==s?null:Oh(vp,s)??Xh(s,mp,cp.create)??null}}),Rp=jh("processContent");function Ip(t){return void 0===t?function(t,e){if(!e.static||"method"!==e.kind)throw yh(766,t);e.addInitializer((function(){Eh(t,this,Rp)}))}:function(e,s){return s.addInitializer((function(){if((g(t)||m(t))&&(t=this[t]),!p(t))throw yh(766,t);const e=Oh(vp,this);void 0!==e?e.processContent=t:Eh(t,this,Rp)})),e}}function Lp(t){return function(e,s){const i=!p(t)||t;s.addInitializer((function(){wp(this,"capture",i),kp(this)&&(Ap(this).capture=i)}))}}const Bp=zh("IAppRoot");class Op{get controller(){return this.M}constructor(t,e,s,i=!1){this.config=t,this.container=e,this.ce=void 0,this.ue=i;const n=this.host=t.host;s.prepare(this),Gh(e,Hf,new Pt("IEventTarget",n)),np(e,n,this.platform=this.fe(e,n)),this.ce=M(this.de("creating"),(()=>{!1!=!t.allowActionlessForm&&n.addEventListener("submit",(t=>{const e=t.target,s=!e.getAttribute("action");"FORM"===e.tagName&&s&&t.preventDefault()}),!1);const s=i?e:e.createChild(),r=t.component;let o;p(r)?(o=s.invoke(r),Hh(r,o)):o=t.component;const a={hydrate:!1,projections:null},l=i?cp.create({name:yp(),template:this.host,enhance:!0}):void 0,h=this.M=Jd.$el(s,o,n,a,l);return h.hE(a,null),M(this.de("hydrating"),(()=>(h.hS(),M(this.de("hydrated"),(()=>{h.hC(),this.ce=void 0})))))}))}activate(){return M(this.ce,(()=>M(this.de("activating"),(()=>M(this.M.activate(this.M,null,void 0),(()=>this.de("activated")))))))}deactivate(){return M(this.de("deactivating"),(()=>M(this.M.deactivate(this.M,null),(()=>this.de("deactivated")))))}de(t){const e=this.container,s=this.ue&&!e.has(bc,!1)?[]:e.getAll(bc);return E(...s.reduce(((e,s)=>(s.slot===t&&e.push(s.run()),e)),[]))}fe(t,e){let s;if(t.has(kc,!1))s=t.get(kc);else{if(null===e.ownerDocument.defaultView)throw yh(769);s=new es(e.ownerDocument.defaultView),t.register(Hh(kc,s))}return s}dispose(){this.M?.dispose()}}const Mp=zh("IAurelia");class Ep{get isRunning(){return this.ir}get isStarting(){return this.me}get isStopping(){return this.ge}get root(){if(null==this.pe){if(null==this.next)throw yh(767);return this.next}return this.pe}constructor(t=Tt.createContainer()){if(this.container=t,this.ir=!1,this.me=!1,this.ge=!1,this.pe=void 0,this.next=void 0,this.ve=void 0,this.xe=void 0,t.has(Mp,!0)||t.has(Ep,!0))throw yh(768);Gh(t,Mp,new Pt("IAurelia",this)),Gh(t,Ep,new Pt("Aurelia",this)),Gh(t,Bp,this.be=new Pt("IAppRoot"))}register(...t){return this.container.register(...t),this}app(t){return this.next=new Op(t,this.container,this.be),this}enhance(t){const e=t.container??this.container.createChild(),s=Gh(e,Bp,new Pt("IAppRoot")),i=new Op({host:t.host,component:t.component},e,s,!0);return M(i.activate(),(()=>i))}async waitForIdle(){const t=this.root.platform;await t.domQueue.yield(),await t.taskQueue.yield()}start(t=this.next){if(null==t)throw yh(770);return h(this.ve)?this.ve:this.ve=M(this.stop(),(()=>(Reflect.set(t.host,"$aurelia",this),this.be.prepare(this.pe=t),this.me=!0,M(t.activate(),(()=>{this.ir=!0,this.me=!1,this.ve=void 0,this.we(t,"au-started",t.host)})))))}stop(t=!1){if(h(this.xe))return this.xe;if(!0===this.ir){const e=this.pe;return this.ir=!1,this.ge=!0,this.xe=M(e.deactivate(),(()=>{Reflect.deleteProperty(e.host,"$aurelia"),t&&e.dispose(),this.pe=void 0,this.be.dispose(),this.ge=!1,this.we(e,"au-stopped",e.host)}))}}dispose(){if(this.ir||this.ge)throw yh(771);this.container.dispose()}we(t,e,s){const i=new t.platform.window.CustomEvent(e,{detail:this,bubbles:!0,cancelable:!0});s.dispatchEvent(i)}}const Pp=zh("ISVGAnalyzer",(t=>t.singleton(Np))),jp=t=>{const e=b();let s;for(s of t=g(t)?t.split(" "):t)e[s]=!0;return e};class Np{isStandardSvgAttribute(t,e){return!1}}class qp{static register(t){t.register(Uh(this,this),Wh(this,Pp))}constructor(){this.ye=ih(b(),{a:jp("class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage target transform xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),altGlyph:jp("class dx dy externalResourcesRequired format glyphRef id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rotate style systemLanguage x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y"),altglyph:b(),altGlyphDef:jp("id xml:base xml:lang xml:space"),altglyphdef:b(),altGlyphItem:jp("id xml:base xml:lang xml:space"),altglyphitem:b(),animate:jp("accumulate additive attributeName attributeType begin by calcMode dur end externalResourcesRequired fill from id keySplines keyTimes max min onbegin onend onload onrepeat repeatCount repeatDur requiredExtensions requiredFeatures restart systemLanguage to values xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),animateColor:jp("accumulate additive attributeName attributeType begin by calcMode dur end externalResourcesRequired fill from id keySplines keyTimes max min onbegin onend onload onrepeat repeatCount repeatDur requiredExtensions requiredFeatures restart systemLanguage to values xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),animateMotion:jp("accumulate additive begin by calcMode dur end externalResourcesRequired fill from id keyPoints keySplines keyTimes max min onbegin onend onload onrepeat origin path repeatCount repeatDur requiredExtensions requiredFeatures restart rotate systemLanguage to values xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),animateTransform:jp("accumulate additive attributeName attributeType begin by calcMode dur end externalResourcesRequired fill from id keySplines keyTimes max min onbegin onend onload onrepeat repeatCount repeatDur requiredExtensions requiredFeatures restart systemLanguage to type values xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),circle:jp("class cx cy externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup r requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space"),clipPath:jp("class clipPathUnits externalResourcesRequired id requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space"),"color-profile":jp("id local name rendering-intent xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),cursor:jp("externalResourcesRequired id requiredExtensions requiredFeatures systemLanguage x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y"),defs:jp("class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space"),desc:jp("class id style xml:base xml:lang xml:space"),ellipse:jp("class cx cy externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rx ry style systemLanguage transform xml:base xml:lang xml:space"),feBlend:jp("class height id in in2 mode result style width x xml:base xml:lang xml:space y"),feColorMatrix:jp("class height id in result style type values width x xml:base xml:lang xml:space y"),feComponentTransfer:jp("class height id in result style width x xml:base xml:lang xml:space y"),feComposite:jp("class height id in in2 k1 k2 k3 k4 operator result style width x xml:base xml:lang xml:space y"),feConvolveMatrix:jp("bias class divisor edgeMode height id in kernelMatrix kernelUnitLength order preserveAlpha result style targetX targetY width x xml:base xml:lang xml:space y"),feDiffuseLighting:jp("class diffuseConstant height id in kernelUnitLength result style surfaceScale width x xml:base xml:lang xml:space y"),feDisplacementMap:jp("class height id in in2 result scale style width x xChannelSelector xml:base xml:lang xml:space y yChannelSelector"),feDistantLight:jp("azimuth elevation id xml:base xml:lang xml:space"),feFlood:jp("class height id result style width x xml:base xml:lang xml:space y"),feFuncA:jp("amplitude exponent id intercept offset slope tableValues type xml:base xml:lang xml:space"),feFuncB:jp("amplitude exponent id intercept offset slope tableValues type xml:base xml:lang xml:space"),feFuncG:jp("amplitude exponent id intercept offset slope tableValues type xml:base xml:lang xml:space"),feFuncR:jp("amplitude exponent id intercept offset slope tableValues type xml:base xml:lang xml:space"),feGaussianBlur:jp("class height id in result stdDeviation style width x xml:base xml:lang xml:space y"),feImage:jp("class externalResourcesRequired height id preserveAspectRatio result style width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y"),feMerge:jp("class height id result style width x xml:base xml:lang xml:space y"),feMergeNode:jp("id xml:base xml:lang xml:space"),feMorphology:jp("class height id in operator radius result style width x xml:base xml:lang xml:space y"),feOffset:jp("class dx dy height id in result style width x xml:base xml:lang xml:space y"),fePointLight:jp("id x xml:base xml:lang xml:space y z"),feSpecularLighting:jp("class height id in kernelUnitLength result specularConstant specularExponent style surfaceScale width x xml:base xml:lang xml:space y"),feSpotLight:jp("id limitingConeAngle pointsAtX pointsAtY pointsAtZ specularExponent x xml:base xml:lang xml:space y z"),feTile:jp("class height id in result style width x xml:base xml:lang xml:space y"),feTurbulence:jp("baseFrequency class height id numOctaves result seed stitchTiles style type width x xml:base xml:lang xml:space y"),filter:jp("class externalResourcesRequired filterRes filterUnits height id primitiveUnits style width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y"),font:jp("class externalResourcesRequired horiz-adv-x horiz-origin-x horiz-origin-y id style vert-adv-y vert-origin-x vert-origin-y xml:base xml:lang xml:space"),"font-face":jp("accent-height alphabetic ascent bbox cap-height descent font-family font-size font-stretch font-style font-variant font-weight hanging id ideographic mathematical overline-position overline-thickness panose-1 slope stemh stemv strikethrough-position strikethrough-thickness underline-position underline-thickness unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical widths x-height xml:base xml:lang xml:space"),"font-face-format":jp("id string xml:base xml:lang xml:space"),"font-face-name":jp("id name xml:base xml:lang xml:space"),"font-face-src":jp("id xml:base xml:lang xml:space"),"font-face-uri":jp("id xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),foreignObject:jp("class externalResourcesRequired height id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform width x xml:base xml:lang xml:space y"),g:jp("class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space"),glyph:jp("arabic-form class d glyph-name horiz-adv-x id lang orientation style unicode vert-adv-y vert-origin-x vert-origin-y xml:base xml:lang xml:space"),glyphRef:jp("class dx dy format glyphRef id style x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y"),glyphref:b(),hkern:jp("g1 g2 id k u1 u2 xml:base xml:lang xml:space"),image:jp("class externalResourcesRequired height id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup preserveAspectRatio requiredExtensions requiredFeatures style systemLanguage transform width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y"),line:jp("class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform x1 x2 xml:base xml:lang xml:space y1 y2"),linearGradient:jp("class externalResourcesRequired gradientTransform gradientUnits id spreadMethod style x1 x2 xlink:arcrole xlink:href xlink:role xlink:title xlink:type xml:base xml:lang xml:space y1 y2"),marker:jp("class externalResourcesRequired id markerHeight markerUnits markerWidth orient preserveAspectRatio refX refY style viewBox xml:base xml:lang xml:space"),mask:jp("class externalResourcesRequired height id maskContentUnits maskUnits requiredExtensions requiredFeatures style systemLanguage width x xml:base xml:lang xml:space y"),metadata:jp("id xml:base xml:lang xml:space"),"missing-glyph":jp("class d horiz-adv-x id style vert-adv-y vert-origin-x vert-origin-y xml:base xml:lang xml:space"),mpath:jp("externalResourcesRequired id xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),path:jp("class d externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup pathLength requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space"),pattern:jp("class externalResourcesRequired height id patternContentUnits patternTransform patternUnits preserveAspectRatio requiredExtensions requiredFeatures style systemLanguage viewBox width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y"),polygon:jp("class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup points requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space"),polyline:jp("class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup points requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space"),radialGradient:jp("class cx cy externalResourcesRequired fx fy gradientTransform gradientUnits id r spreadMethod style xlink:arcrole xlink:href xlink:role xlink:title xlink:type xml:base xml:lang xml:space"),rect:jp("class externalResourcesRequired height id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rx ry style systemLanguage transform width x xml:base xml:lang xml:space y"),script:jp("externalResourcesRequired id type xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),set:jp("attributeName attributeType begin dur end externalResourcesRequired fill id max min onbegin onend onload onrepeat repeatCount repeatDur requiredExtensions requiredFeatures restart systemLanguage to xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space"),stop:jp("class id offset style xml:base xml:lang xml:space"),style:jp("id media title type xml:base xml:lang xml:space"),svg:jp("baseProfile class contentScriptType contentStyleType externalResourcesRequired height id onabort onactivate onclick onerror onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup onresize onscroll onunload onzoom preserveAspectRatio requiredExtensions requiredFeatures style systemLanguage version viewBox width x xml:base xml:lang xml:space y zoomAndPan"),switch:jp("class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform xml:base xml:lang xml:space"),symbol:jp("class externalResourcesRequired id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup preserveAspectRatio style viewBox xml:base xml:lang xml:space"),text:jp("class dx dy externalResourcesRequired id lengthAdjust onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rotate style systemLanguage textLength transform x xml:base xml:lang xml:space y"),textPath:jp("class externalResourcesRequired id lengthAdjust method onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures spacing startOffset style systemLanguage textLength xlink:arcrole xlink:href xlink:role xlink:title xlink:type xml:base xml:lang xml:space"),title:jp("class id style xml:base xml:lang xml:space"),tref:jp("class dx dy externalResourcesRequired id lengthAdjust onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rotate style systemLanguage textLength x xlink:arcrole xlink:href xlink:role xlink:title xlink:type xml:base xml:lang xml:space y"),tspan:jp("class dx dy externalResourcesRequired id lengthAdjust onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures rotate style systemLanguage textLength x xml:base xml:lang xml:space y"),use:jp("class externalResourcesRequired height id onactivate onclick onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup requiredExtensions requiredFeatures style systemLanguage transform width x xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y"),view:jp("externalResourcesRequired id preserveAspectRatio viewBox viewTarget xml:base xml:lang xml:space zoomAndPan"),vkern:jp("g1 g2 id k u1 u2 xml:base xml:lang xml:space")}),this.ke=jp("a altGlyph animate animateColor circle clipPath defs ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feFlood feGaussianBlur feImage feMerge feMorphology feOffset feSpecularLighting feTile feTurbulence filter font foreignObject g glyph glyphRef image line linearGradient marker mask missing-glyph path pattern polygon polyline radialGradient rect stop svg switch symbol text textPath tref tspan use"),this.Ce=jp("alignment-baseline baseline-shift clip-path clip-rule clip color-interpolation-filters color-interpolation color-profile color-rendering color cursor direction display dominant-baseline enable-background fill-opacity fill-rule fill filter flood-color flood-opacity font-family font-size-adjust font-size font-stretch font-style font-variant font-weight glyph-orientation-horizontal glyph-orientation-vertical image-rendering kerning letter-spacing lighting-color marker-end marker-mid marker-start mask opacity overflow pointer-events shape-rendering stop-color stop-opacity stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width stroke text-anchor text-decoration text-rendering unicode-bidi visibility word-spacing writing-mode");const t=ut(kc);this.SVGElement=t.globalThis.SVGElement;const e=t.document.createElement("div");if(e.innerHTML="<svg><altGlyph /></svg>","altglyph"===e.firstElementChild.nodeName){const t=this.ye;let e=t.altGlyph;t.altGlyph=t.altglyph,t.altglyph=e,e=t.altGlyphDef,t.altGlyphDef=t.altglyphdef,t.altglyphdef=e,e=t.altGlyphItem,t.altGlyphItem=t.altglyphitem,t.altglyphitem=e,e=t.glyphRef,t.glyphRef=t.glyphref,t.glyphref=e}}isStandardSvgAttribute(t,e){return t instanceof this.SVGElement&&(!0===this.ke[t.nodeName]&&!0===this.Ce[e]||!0===this.ye[t.nodeName]?.[e])}}class Fp{constructor(){this.fns=[],this.Be=b(),this.Se=b(),this.svg=ut(Pp),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}useMapping(t){let e,s,i,n;for(i in t)for(n in e=t[i],s=this.Be[i]??=b(),e){if(void 0!==s[n])throw Vp(n,i);s[n]=e[n]}}useGlobalMapping(t){const e=this.Se;for(const s in t){if(void 0!==e[s])throw Vp(s,"*");e[s]=t[s]}}useTwoWay(t){this.fns.push(t)}isTwoWay(t,e){return function(t,e){switch(t.nodeName){case"INPUT":switch(t.type){case"checkbox":case"radio":return"checked"===e;default:return"value"===e||"files"===e||"value-as-number"===e||"value-as-date"===e}case"TEXTAREA":case"SELECT":return"value"===e;default:switch(e){case"textcontent":case"innerhtml":return t.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(t,e)||this.fns.length>0&&this.fns.some((s=>s(t,e)))}map(t,e){return this.Be[t.nodeName]?.[e]??this.Se[e]??(ah(t,e,this.svg)?e:null)}}function Vp(t,e){return yh(719,t,e)}Fp.register=_(na);const Dp={register(t){t.register(El,Fp,zp)}};class _p{constructor(t,e,s){this.attrs=t,this.bindables=e,this.primary=s}}class zp{constructor(){this.Ae=new WeakMap,this.Ee=new WeakMap}el(t,e){let s=this.Ae.get(t);return null==s&&this.Ae.set(t,s=new Up),e in s.Re?s.Re[e]:s.Re[e]=Sp.find(t,e)}attr(t,e){let s=this.Ae.get(t);return null==s&&this.Ae.set(t,s=new Up),e in s.Te?s.Te[e]:s.Te[e]=Nc.find(t,e)}bindables(t){let e=this.Ee.get(t);if(null==e){const s=t.bindables,i=b();let n,r,o,a,l=!1;for(r in s){if(n=s[r],a=n.attribute,!0===n.primary){if(l)throw yh(714,t);l=!0,o=n}else l||null!=o||(o=n);i[a]=Vh.create(r,n)}null==n&&"custom-attribute"===t.type&&(o=i.value=Vh.create("value",{mode:t.defaultBindingMode??Sh})),this.Ee.set(t,e=new _p(i,s,o??null))}return e}}zp.register=_(Ul);class Up{constructor(){this.Re=b(),this.Te=b()}}const Wp=b();class Hp{static forNs(t){return Wp[t]??=new Hp(t)}constructor(t){this.ns=t,this.type=vh|bh}getValue(t,e){return t.getAttributeNS(this.ns,e)}setValue(t,e,s){null==t?e.removeAttributeNS(this.ns,s):e.setAttributeNS(this.ns,s,t)}}Gu(Hp);class Gp{constructor(){this.type=vh|bh}getValue(t,e){return t.getAttribute(e)}setValue(t,e,s){null==t?e.removeAttribute(s):e.setAttribute(s,t)}}Gu(Gp);const Kp=new Gp;class Qp{static Le(t){const e=[];if(0===t.length)return e;const s=t.length;let i,n=0;for(;s>n;)i=t[n],i.selected&&(e[e.length]=eh.call(i,"model")?i.model:i.value),++n;return e}static Me(t,e){return t===e}constructor(t,e,s,i){this.type=vh|mh|bh,this.v=void 0,this.ov=void 0,this.De=!1,this.Ie=void 0,this.Pe=void 0,this.iO=!1,this.rt=!1,this.nt=t,this.oL=i,this.cf=s}getValue(){return this.iO?this.v:this.nt.multiple?Qp.Le(this.nt.options):this.nt.value}setValue(t){this.ov=this.v,this.v=t,this.De=t!==this.ov,this.qe(t instanceof Array?t:null),this.ut()}ut(){this.De&&(this.De=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const t=this.v,e=this.nt,s=c(t),i=e.matcher??Qp.Me,n=e.options;let r=n.length;for(;r-- >0;){const e=n[r],o=eh.call(e,"model")?e.model:e.value;s?e.selected=-1!==t.findIndex((t=>!!i(o,t))):e.selected=!!i(o,t)}}syncValue(){const t=this.nt,e=t.options,s=e.length,i=this.v;let n=0;if(t.multiple){if(!(i instanceof Array))return!0;let r;const o=t.matcher||Qp.Me,a=[];for(;n<s;)r=e[n],r.selected&&a.push(eh.call(r,"model")?r.model:r.value),++n;let l;for(n=0;n<i.length;)l=i[n],-1===a.findIndex((t=>!!o(l,t)))?i.splice(n,1):++n;for(n=0;n<a.length;)l=a[n],-1===i.findIndex((t=>!!o(l,t)))&&i.push(l),++n;return!1}let r,o=null;for(;n<s;){if(r=e[n],r.selected){o=eh.call(r,"model")?r.model:r.value;break}++n}return this.ov=this.v,this.v=o,!0}ot(){(this.Pe=Ou(this.nt,this._e.bind(this))).observe(this.nt,{childList:!0,subtree:!0,characterData:!0}),this.qe(this.v instanceof Array?this.v:null),this.iO=!0}lt(){this.Pe.disconnect(),this.Ie?.unsubscribe(this),this.Pe=this.Ie=void 0,this.iO=!1}qe(t){if(this.Ie?.unsubscribe(this),this.Ie=void 0,null!=t){if(!this.nt.multiple)throw yh(654);(this.Ie=this.oL.getArrayObserver(t)).subscribe(this)}}handleEvent(){this.syncValue()&&this.Oe()}_e(t){this.syncOptions();this.syncValue()&&this.Oe()}Oe(){const t=this.ov;this.ov=this.v,this.subs.notify(this.v,t)}}Hu(Qp),lr(Qp,null);class Xp{constructor(t){this.obj=t,this.type=vh|bh,this.v="",this.ov="",this.styles={},this.version=0,this.De=!1}getValue(){return this.obj.style.cssText}setValue(t){this.v=t,this.De=t!==this.ov,this.ut()}Fe(t){const e=[],s=/url\([^)]+$/;let i,n,r,o,a=0,l="";for(;a<t.length;)i=t.indexOf(";",a),-1===i&&(i=t.length),l+=t.substring(a,i),a=i+1,s.test(l)?l+=";":(n=l.indexOf(":"),r=l.substring(0,n).trim(),o=l.substring(n+1).trim(),e.push([r,o]),l="");return e}Ve(t){let e,s;const i=[];for(s in t)if(e=t[s],null!=e)if(g(e)){if(s.startsWith("--")){i.push([s,e]);continue}i.push([A(s),e])}else i.push(...this.He(e));return i}$e(t){const e=t.length;if(e>0){const s=[];let i=0;for(;e>i;++i)s.push(...this.He(t[i]));return s}return Nt}He(t){return g(t)?this.Fe(t):t instanceof Array?this.$e(t):t instanceof Object?this.Ve(t):Nt}ut(){if(this.De){this.De=!1;const t=this.v,e=this.styles,s=this.He(t);let i,n,r,o,a=this.version;this.ov=t;let l=0;const h=s.length;for(;l<h;++l)n=s[l],r=n[0],o=n[1],this.setProperty(r,o),e[r]=a;if(this.styles=e,this.version+=1,0===a)return;for(i in a-=1,e)eh.call(e,i)&&e[i]===a&&this.obj.style.removeProperty(i)}}setProperty(t,e){let s="";null!=e&&p(e.indexOf)&&e.includes("!important")&&(s="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,s)}bind(){this.v=this.ov=this.obj.style.cssText}}Gu(Xp);class Jp{constructor(t,e,s){this.type=vh|mh|bh,this.v="",this.ov="",this.De=!1,this.rt=!1,this.nt=t,this.k=e,this.cf=s}getValue(){return this.v}setValue(t){y(t,this.v)||(this.ov=this.v,this.v=t,this.De=!0,this.cf.readonly||this.ut())}ut(){this.De&&(this.De=!1,this.nt[this.k]=this.v??this.cf.default,this.Oe())}handleEvent(){this.ov=this.v,this.v=this.nt[this.k],this.ov!==this.v&&(this.De=!1,this.Oe())}ot(){this.v=this.ov=this.nt[this.k]}Oe(){const t=this.ov;this.ov=this.v,this.subs.notify(this.v,t)}}Hu(Jp),lr(Jp,null);const Yp=(()=>{const t="http://www.w3.org/1999/xlink",e="http://www.w3.org/XML/1998/namespace",s="http://www.w3.org/2000/xmlns/";return ih(b(),{"xlink:actuate":["actuate",t],"xlink:arcrole":["arcrole",t],"xlink:href":["href",t],"xlink:role":["role",t],"xlink:show":["show",t],"xlink:title":["title",t],"xlink:type":["type",t],"xml:lang":["lang",e],"xml:space":["space",e],xmlns:["xmlns",s],"xmlns:xlink":["xlink",s]})})(),Zp=new Io;Zp.type=vh|bh;class tg{constructor(){this.allowDirtyCheck=!0,this.Ne=b(),this.je=b(),this.We=b(),this.ze=b(),this.Ue=ut(Rt),this.p=ut(kc),this.Ge=ut($o),this.svg=ut(Pp);const t=["change","input"],e={events:t,default:""};this.useConfig({INPUT:{value:e,valueAsNumber:{events:t,default:0},checked:{type:ig,events:t},files:{events:t,readonly:!0}},SELECT:{value:{type:Qp,events:["change"],default:""}},TEXTAREA:{value:e}});const s={events:["change","input","blur","keyup","paste"],default:""},i={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:i,scrollLeft:i,textContent:s,innerHTML:s}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}handles(t,e){return t instanceof this.p.Node}useConfig(t,e,s){const i=this.Ne;let n;if(g(t))n=i[t]??=b(),null==n[e]?n[e]=s:eg(t,e);else for(const s in t){n=i[s]??=b();const r=t[s];for(e in r)null==n[e]?n[e]=r[e]:eg(s,e)}}useConfigGlobal(t,e){const s=this.je;if("object"==typeof t)for(const e in t)null==s[e]?s[e]=t[e]:eg("*",e);else null==s[t]?s[t]=e:eg("*",t)}getAccessor(t,e,s){if(e in this.ze||e in(this.We[t.tagName]??qt))return this.getObserver(t,e,s);switch(e){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":case"popovertarget":case"popovertargetaction":return Kp;default:{const s=Yp[e];return void 0!==s?Hp.forNs(s[1]):ah(t,e,this.svg)?Kp:Zp}}}overrideAccessor(t,e){let s;if(g(t))s=this.We[t]??=b(),s[e]=!0;else for(const e in t)for(const i of t[e])s=this.We[e]??=b(),s[i]=!0}overrideAccessorGlobal(...t){for(const e of t)this.ze[e]=!0}getNodeObserverConfig(t,e){return this.Ne[t.tagName]?.[e]??this.je[e]}getNodeObserver(t,e,s){const i=this.Ne[t.tagName]?.[e]??this.je[e];let n;return null!=i?(n=new(i.type??Jp)(t,e,i,s,this.Ue),n.doNotCache||(Do(t)[e]=n),n):null}getObserver(t,e,s){switch(e){case"class":return new Ku(t);case"css":case"style":return new Xp(t)}const i=this.getNodeObserver(t,e,s);if(null!=i)return i;const n=Yp[e];if(void 0!==n)return Hp.forNs(n[1]);if(ah(t,e,this.svg))return Kp;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.Ge.createProperty(t,e);throw yh(652,e)}return new Lo(t,e)}}function eg(t,e){throw yh(653,t,e)}function sg(t,e){return t===e}tg.register=_(Eo);class ig{constructor(t,e,s,i){this.type=vh|mh|bh,this.v=void 0,this.ov=void 0,this.Ke=void 0,this.Xe=void 0,this.rt=!1,this.nt=t,this.oL=i,this.cf=s}getValue(){return this.v}setValue(t){const e=this.v;t!==e&&(this.v=t,this.ov=e,this.Qe(),this.Ye(),this.Oe())}handleCollectionChange(){this.Ye()}handleChange(t,e){this.Ye()}Ye(){const t=this.v,e=this.nt,s=eh.call(e,"model")?e.model:e.value,i="radio"===e.type,n=void 0!==e.matcher?e.matcher:sg;if(i)e.checked=!!n(t,s);else if(!0===t)e.checked=!0;else{let i=!1;if(c(t))i=-1!==t.findIndex((t=>!!n(t,s)));else if(t instanceof Set){for(const e of t)if(n(e,s)){i=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],r=e[1];if(n(t,s)&&!0===r){i=!0;break}}e.checked=i}}handleEvent(){let t=this.ov=this.v;const e=this.nt,s=eh.call(e,"model")?e.model:e.value,i=e.checked,n=void 0!==e.matcher?e.matcher:sg;if("checkbox"===e.type){if(c(t)){const e=t.findIndex((t=>!!n(t,s)));return void(i&&-1===e?t.push(s):i||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let r=e;for(const e of t)if(!0===n(e,s)){r=e;break}return void(i&&r===e?t.add(s):i||r===e||t.delete(r))}if(t instanceof Map){let e;for(const i of t){const t=i[0];if(!0===n(t,s)){e=t;break}}return void t.set(e,i)}t=i}else{if(!i)return;t=s}this.v=t,this.Oe()}ot(){this.Qe()}lt(){this.Ke?.unsubscribe(this),this.Xe?.unsubscribe(this),this.Ke=this.Xe=void 0}Oe(){ng=this.ov,this.ov=this.v,this.subs.notify(this.v,ng)}Qe(){const t=this.nt;(this.Xe??=t.$observers?.model??t.$observers?.value)?.subscribe(this),this.Ke?.unsubscribe(this),this.Ke=void 0,"checkbox"===t.type&&(this.Ke=function(t,e){return t instanceof Array?e.getArrayObserver(t):t instanceof Map?e.getMapObserver(t):t instanceof Set?e.getSetObserver(t):void 0}(this.v,this.oL))?.subscribe(this)}}let ng;Hu(ig),lr(ig,null);class rg{bind(t,e){if(!(e instanceof pu))throw yh(9994,e);e.useTargetObserver(Kp)}}rg.$au={type:Zh,name:"attr"};class og{bind(t,e){if(!("handleEvent"in e))throw yh(801);e.self=!0}unbind(t,e){e.self=!1}}og.$au={type:Zh,name:"self"};class ag{constructor(){this.oL=ut(Mo),this.Ze=ut(Eo)}bind(t,e,...s){if(!(this.Ze instanceof tg))throw yh(9993);if(0===s.length)throw yh(802);if(!(e instanceof pu&&e.mode&Lh))throw yh(803);const i=this.Ze.getNodeObserverConfig(e.target,e.targetProperty);if(null==i)throw yh(9992,e);const n=this.Ze.getNodeObserver(e.target,e.targetProperty,this.oL);n.useConfig({readonly:i.readonly,default:i.default,events:s}),e.useTargetObserver(n)}}ag.$au={type:Zh,name:"updateTrigger"};class lg{constructor(){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this.Je=!1,this.ts=0,this.es=ut(Ru),this.l=ut(Gf)}attaching(t,e){return this.ss(this.value)}detaching(t,e){return this.Je=!0,M(this.pending,(()=>{this.Je=!1,this.pending=void 0,this.view?.deactivate(t,this.$controller)}))}valueChanged(t,e){if(this.$controller.isActive)return(t=!!t)!==(e=!!e)?this.ss(t):void 0}ss(t){const e=this.view,s=this.$controller,i=this.ts++,n=()=>!this.Je&&this.ts===i+1;let r;return M(this.pending,(()=>this.pending=M(e?.deactivate(e,s),(()=>{if(n()&&(r=this.view=t?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.es.create():this.elseView=this.cache&&null!=this.elseView?this.elseView:this.elseFactory?.create(),null!=r))return r.setLocation(this.l),M(r.activate(r,s,s.scope),(()=>{n()&&(this.pending=void 0)}))}))))}dispose(){this.ifView?.dispose(),this.elseView?.dispose(),this.ifView=this.elseView=this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}lg.$au={type:Ic,name:"if",isTemplateController:!0,bindables:{value:!0,cache:{set:t=>""===t||!!t&&"false"!==t}}};class hg{constructor(){this.f=ut(Ru)}link(t,e,s,i){const n=t.children,r=n[n.length-1];if(r instanceof lg)r.elseFactory=this.f;else{if(!(r.viewModel instanceof lg))throw yh(810);r.viewModel.elseFactory=this.f}}}function cg(t){t.dispose()}hg.$au={type:"custom-attribute",name:"else",isTemplateController:!0};const ug=["BindingBehavior","ValueConverter"];class dg{constructor(){this.views=[],this.rs=[],this.key=null,this.os=new Map,this.ls=new Map,this.cs=void 0,this.us=!1,this.ds=!1,this.gs=null,this.ps=void 0,this.xs=!1,this.l=ut(Gf),this.bs=ut(Tf),this.f=ut(Ru),this.ws=ut(vg);const t=ut(Oa).props[0].props[0];if(void 0!==t){const{to:e,value:s,command:i}=t;if("key"!==e)throw yh(776,e);if(null===i)this.key=s;else{if("bind"!==i)throw yh(775,i);this.key=ut(gi).parse(s,fh)}}}binding(t,e){const s=this.bs.bindings,i=s.length;let n,r,o=0;for(;i>o;++o)if(n=s[o],n.target===this&&"items"===n.targetProperty){r=this.forOf=n.ast,this.ys=n;let t=r.iterable;for(;null!=t&&ug.includes(t.$kind);)t=t.expression,this.us=!0;this.gs=t;break}this.ks();const a=r.declaration;(this.xs="ArrayDestructuring"===a.$kind||"ObjectDestructuring"===a.$kind)||(this.local=$h(a,this.$controller.scope,n,null))}attaching(t,e){return this.Cs(),this.Bs(t,this.ps??Nt)}detaching(t,e){return this.ks(),this.Ss(t)}unbinding(t,e){this.ls.clear(),this.os.clear()}itemsChanged(){this.$controller.isActive&&(this.ks(),this.Cs(),this.As(this.items,void 0))}handleCollectionChange(t,e){const s=this.$controller;if(s.isActive){if(this.us){if(this.ds)return;return this.ds=!0,this.items=$h(this.forOf.iterable,s.scope,this.ys,null),void(this.ds=!1)}this.Cs(),this.As(t,e)}}As(t,e){const s=this.views;this.rs=s.slice();const i=s.length,n=this.key,r=null!==n;if(r||void 0===e){const t=this.local,o=this.ps,a=o.length,l=this.forOf,h=l.declaration,c=this.ys,u=this.xs;e=er(a);let d=0;if(0===i)for(;d<a;++d)e[d]=-2;else if(0===a)if(u)for(d=0;d<i;++d)e.deletedIndices.push(d),e.deletedItems.push($h(h,s[d].scope,c,null));else for(d=0;d<i;++d)e.deletedIndices.push(d),e.deletedItems.push(s[d].scope.bindingContext[t]);else{const f=Array(i);if(u)for(d=0;d<i;++d)f[d]=$h(h,s[d].scope,c,null);else for(d=0;d<i;++d)f[d]=s[d].scope.bindingContext[t];let p,g,m,v,b=0;const y=i-1,w=a-1,x=new Map,k=new Map,C=this.os,$=this.ls,A=this.$controller.scope;d=0;t:{for(;;){if(r?(p=f[d],g=o[d],m=Sg(C,n,p,Rg($,p,l,A,c,t,u),c),v=Sg(C,n,g,Rg($,g,l,A,c,t,u),c)):(p=m=Ig(f[d],d),g=v=Ig(o[d],d)),m!==v){C.set(p,m),C.set(g,v);break}if(++d,d>y||d>w)break t}if(y===w)for(b=w;;){if(r?(p=f[b],g=o[b],m=Sg(C,n,p,Rg($,p,l,A,c,t,u),c),v=Sg(C,n,g,Rg($,g,l,A,c,t,u),c)):(p=m=Ig(f[d],d),g=v=Ig(o[d],d)),m!==v){C.set(p,m),C.set(g,v);break}if(--b,d>b)break t}}const T=d,S=d;for(d=S;d<=w;++d)C.has(g=r?o[d]:Ig(o[d],d))?v=C.get(g):(v=r?Sg(C,n,g,Rg($,g,l,A,c,t,u),c):g,C.set(g,v)),k.set(v,d);for(d=T;d<=y;++d)m=C.has(p=r?f[d]:Ig(f[d],d))?C.get(p):r?Sg(C,n,p,s[d].scope,c):p,x.set(m,d),k.has(m)?e[k.get(m)]=d:(e.deletedIndices.push(d),e.deletedItems.push(p));for(d=S;d<=w;++d)x.has(C.get(r?o[d]:Ig(o[d],d)))||(e[d]=-2);x.clear(),k.clear()}}if(void 0===e){const t=M(this.Ss(null),(()=>this.Bs(null,this.ps??Nt)));h(t)&&t.catch(lh)}else if(e.deletedIndices.length>0){const t=M(this.Es(e),(()=>this.Rs(i,e)));h(t)&&t.catch(lh)}else this.Rs(i,e)}ks(){const t=this.$controller.scope;let e,s=this.Ts,i=this.us;i&&(s=this.Ts=$h(this.gs,t,this.ys,null)??null,i=this.us=!y(this.items,s));const n=this.cs;if(this.$controller.isActive){const t=i?s:this.items;e=this.cs=this.ws.resolve(t).getObserver?.(t),n!==e&&(n?.unsubscribe(this),e?.subscribe(this))}else n?.unsubscribe(this),this.cs=void 0}Cs(){const t=this.items;if(c(t))return void(this.ps=t.slice(0));const e=[];this.ws.resolve(t).iterate(t,((t,s)=>{e[s]=t})),this.ps=e}Bs(t,e){let s,i,n,r;const{$controller:o,f:a,local:l,l:c,ls:u,ys:d,forOf:f,xs:p}=this,g=o.scope,m=e.length,v=this.views=Array(m);if(e.forEach(((e,b)=>{n=v[b]=a.create().setLocation(c),n.nodes.unlink(),r=Rg(u,e,f,g,d,l,p),mg(r.overrideContext,b,m),i=n.activate(t??n,o,r),h(i)&&(s??=[]).push(i)})),void 0!==s)return 1===s.length?s[0]:Promise.all(s)}Ss(t){let e,s,i,n=0;const{views:r,$controller:o}=this,a=r.length;for(;a>n;++n)i=r[n],i.release(),s=i.deactivate(t??i,o),h(s)&&(e??(e=[])).push(s);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}Es(t){let e,s,i;const{$controller:n,views:r}=this,o=t.deletedIndices.slice().sort(Lg),a=o.length;let l=0;for(;a>l;++l)i=r[o[l]],i.release(),s=i.deactivate(i,n),h(s)&&(e??(e=[])).push(s);for(l=0;a>l;++l)r.splice(o[l]-l,1);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}Rs(t,e){let s,i,n,r,o=0;const{$controller:a,f:l,local:c,ps:u,l:d,views:f,xs:p,ys:g,ls:m,rs:v,forOf:b}=this,y=e.length;for(;y>o;++o)-2===e[o]&&(n=l.create(),f.splice(o,0,n));if(f.length!==y)throw yh(814,[f.length,y]);const w=a.scope,x=e.length;let k=0;for(o=0;o<e.length;++o)-2!==(k=e[o])&&(f[o]=v[k]);const C=function(t){const e=t.length;e>fg&&(fg=e,pg=new Int32Array(e),gg=new Int32Array(e));let s=0,i=0,n=0,r=0,o=0,a=0,l=0,h=0;for(;r<e;r++)if(i=t[r],-2!==i){if(o=pg[s],n=t[o],-2!==n&&n<i){gg[r]=o,pg[++s]=r;continue}for(a=0,l=s;a<l;)h=a+l>>1,n=t[pg[h]],-2!==n&&n<i?a=h+1:l=h;n=t[pg[a]],(i<n||-2===n)&&(a>0&&(gg[r]=pg[a-1]),pg[a]=r)}r=++s;const c=new Int32Array(r);i=pg[s-1];for(;s-- >0;)c[s]=i,i=gg[i];for(;r-- >0;)pg[r]=0;return c}(e),$=C.length,A=b.declaration;let T,S=$-1;for(o=x-1;o>=0;--o)n=f[o],T=f[o+1],n.nodes.link(T?.nodes??d),-2===e[o]?(r=Rg(m,u[o],b,w,g,c,p),mg(r.overrideContext,o,x),n.setLocation(d),i=n.activate(n,a,r),h(i)&&(s??(s=[])).push(i)):S<0||1===$||o!==C[S]?(p?Ch(A,n.scope,g,u[o]):n.scope.bindingContext[c]=u[o],mg(n.scope.overrideContext,o,x),n.nodes.insertBefore(n.location)):(p?Ch(A,n.scope,g,u[o]):n.scope.bindingContext[c]=u[o],t!==x&&mg(n.scope.overrideContext,o,x),--S);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}dispose(){this.views.forEach(cg),this.views=void 0}accept(t){const{views:e}=this;if(void 0!==e)for(let s=0,i=e.length;s<i;++s)if(!0===e[s].accept(t))return!0}}dg.$au={type:Ic,name:"repeat",isTemplateController:!0,bindables:["items"]};let fg=16,pg=new Int32Array(fg),gg=new Int32Array(fg);const mg=(t,e,s)=>{const i=0===e,n=e===s-1,r=e%2==0;t.$index=e,t.$first=i,t.$last=n,t.$middle=!i&&!n,t.$even=r,t.$odd=!r,t.$length=s},vg=zh("IRepeatableHandlerResolver",(t=>t.singleton(bg)));class bg{constructor(){this.Ls=ut(_t(wg))}resolve(t){if(xg.handles(t))return xg;if(kg.handles(t))return kg;if(Cg.handles(t))return Cg;if($g.handles(t))return $g;if(Ag.handles(t))return Ag;const e=this.Ls.find((e=>e.handles(t)));return void 0!==e?e:Tg}}class yg{static register(t){t.register(Uh(wg,this))}handles(t){return"length"in t&&v(t.length)}iterate(t,e){for(let s=0,i=t.length;s<i;++s)e(t[s],s,t)}}const wg=zh("IRepeatableHandler"),xg={handles:c,getObserver:qo,iterate(t,e){const s=t.length;let i=0;for(;i<s;++i)e(t[i],i,t)}},kg={handles:u,getObserver:qo,iterate(t,e){let s,i=0;for(s of t.keys())e(s,i++,t)}},Cg={handles:d,getObserver:qo,iterate(t,e){let s,i=0;for(s of t.entries())e(s,i++,t)}},$g={handles:v,iterate(t,e){let s=0;for(;s<t;++s)e(s,s,t)}},Ag={handles:t=>null==t,iterate(){}},Tg={handles:t=>!1,iterate(t,e){throw yh(777,t)}},Sg=(t,e,s,i,n)=>{let r=t.get(s);return void 0===r&&(r="string"==typeof e?s[e]:$h(e,i,n,null),t.set(s,r)),r},Rg=(t,e,s,i,n,r,o)=>{let a=t.get(e);return void 0===a&&(o?Ch(s.declaration,a=wh.fromParent(i,new xh),n,e):a=wh.fromParent(i,new xh(r,e)),t.set(e,a)),a},Ig=(t,e)=>{const s=typeof t;switch(s){case"object":if(null!==t)return t;case"string":case"number":case"bigint":case"undefined":case"boolean":return`${e}${s}${t}`;default:return t}},Lg=(t,e)=>t-e;class Bg{constructor(){this.view=ut(Ru).create().setLocation(ut(Gf))}valueChanged(t,e){const s=this.$controller,i=this.view.bindings;let n,r=0,o=0;if(s.isActive&&null!=i)for(n=wh.fromParent(s.scope,void 0===t?{}:t),o=i.length;o>r;++r)i[r].bind(n)}attaching(t,e){const{$controller:s,value:i}=this,n=wh.fromParent(s.scope,void 0===i?{}:i);return this.view.activate(t,s,n)}detaching(t,e){return this.view.deactivate(t,this.$controller)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}Bg.$au={type:Ic,name:"with",isTemplateController:!0,bindables:["value"]};class Og{constructor(){this.cases=[],this.activeCases=[],this.promise=void 0,this.f=ut(Ru),this.l=ut(Gf)}link(t,e,s,i){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e){const s=this.view,i=this.$controller;return this.queue((()=>s.activate(t,i,i.scope))),this.queue((()=>this.swap(t,this.value))),this.promise}detaching(t,e){return this.queue((()=>this.view.deactivate(t,this.$controller))),this.promise}dispose(){this.view?.dispose(),this.view=void 0}valueChanged(t,e){this.$controller.isActive&&this.queue((()=>this.swap(null,this.value)))}caseChanged(t){this.queue((()=>this.Ms(t)))}Ms(t){const e=t.isMatch(this.value),s=this.activeCases,i=s.length;if(!e)return i>0&&s[0].id===t.id?this.Ds(null):void 0;if(i>0&&s[0].id<t.id)return;const n=[];let r=t.fallThrough;if(r){const e=this.cases,s=e.indexOf(t);for(let t=s,i=e.length;t<i&&r;t++){const s=e[t];n.push(s),r=s.fallThrough}}else n.push(t);return M(this.Ds(null,n),(()=>(this.activeCases=n,this.Is(null))))}swap(t,e){const s=[];let i=!1;for(const t of this.cases)if((i||t.isMatch(e))&&(s.push(t),i=t.fallThrough),s.length>0&&!i)break;const n=this.defaultCase;return 0===s.length&&void 0!==n&&s.push(n),M(this.activeCases.length>0?this.Ds(t,s):void 0,(()=>{if(this.activeCases=s,0!==s.length)return this.Is(t)}))}Is(t){const e=this.$controller;if(!e.isActive)return;const s=this.activeCases,i=s.length;if(0===i)return;const n=e.scope;return 1===i?s[0].activate(t,n):E(...s.map((e=>e.activate(t,n))))}Ds(t,e=[]){const s=this.activeCases,i=s.length;if(0!==i){if(1===i){const i=s[0];return e.includes(i)?void 0:(s.length=0,i.deactivate(t))}return M(E(...s.reduce(((s,i)=>(e.includes(i)||s.push(i.deactivate(t)),s)),[])),(()=>{s.length=0}))}}queue(t){const e=this.promise;let s;s=this.promise=M(M(e,t),(()=>{this.promise===s&&(this.promise=void 0)}))}accept(t){return!0===this.$controller.accept(t)||(!!this.activeCases.some((e=>e.accept(t)))||void 0)}}Og.$au={type:Ic,name:"switch",isTemplateController:!0,bindables:["value"]};let Mg=0;const Eg=["value",{name:"fallThrough",mode:Rh,set(t){switch(t){case"true":return!0;case"false":return!1;default:return!!t}}}];class Pg{constructor(){this.id=++Mg,this.fallThrough=!1,this.view=void 0,this.f=ut(Ru),this.Ue=ut(Mo),this.l=ut(Gf),this.Ps=ut(le).scopeTo(`${this.constructor.name}-#${this.id}`)}link(t,e,s,i){const n=t.parent,r=n?.viewModel;if(!(r instanceof Og))throw yh(815);this.$switch=r,this.linkToSwitch(r)}detaching(t,e){return this.deactivate(t)}isMatch(t){this.Ps.debug("isMatch()");const e=this.value;return c(e)?(void 0===this.cs&&(this.cs=this.qs(e)),e.includes(t)):e===t}valueChanged(t,e){c(t)?(this.cs?.unsubscribe(this),this.cs=this.qs(t)):void 0!==this.cs&&this.cs.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(t,e){let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(t??s,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(t??e,this.$controller)}dispose(){this.cs?.unsubscribe(this),this.view?.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}qs(t){const e=this.Ue.getArrayObserver(t);return e.subscribe(this),e}accept(t){return!0===this.$controller.accept(t)||this.view?.accept(t)}}Pc({name:"case",bindables:Eg,isTemplateController:!0},Pg);class jg extends Pg{linkToSwitch(t){if(void 0!==t.defaultCase)throw yh(816);t.defaultCase=this}}Pc({name:"default-case",bindables:Eg,isTemplateController:!0},jg);class Ng{constructor(){this.preSettledTask=null,this.postSettledTask=null,this.f=ut(Ru),this.l=ut(Gf),this.p=ut(kc),this.logger=ut(le).scopeTo("promise.resolve")}link(t,e,s,i){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e){const s=this.view,i=this.$controller;return M(s.activate(t,i,this.viewScope=wh.fromParent(i.scope,{})),(()=>this.swap(t)))}valueChanged(t,e){this.$controller.isActive&&this.swap(null)}swap(t){const e=this.value;if(!h(e))return;const s=this.p.domQueue,i=this.fulfilled,n=this.rejected,r=this.pending,o=this.viewScope;let a;const l=()=>{E(a=(this.preSettledTask=s.queueTask((()=>E(i?.deactivate(t),n?.deactivate(t),r?.activate(t,o))))).result.catch((t=>{if(!(t instanceof Ve))throw t})),e.then((l=>{if(this.value!==e)return;const h=()=>{this.postSettlePromise=(this.postSettledTask=s.queueTask((()=>E(r?.deactivate(t),n?.deactivate(t),i?.activate(t,o,l))))).result};this.preSettledTask.status===gh?a.then(h):(this.preSettledTask.cancel(),h())}),(l=>{if(this.value!==e)return;const h=()=>{this.postSettlePromise=(this.postSettledTask=s.queueTask((()=>E(r?.deactivate(t),i?.deactivate(t),n?.activate(t,o,l))))).result};this.preSettledTask.status===gh?a.then(h):(this.preSettledTask.cancel(),h())})))};this.postSettledTask?.status===gh?this.postSettlePromise.then(l):(this.postSettledTask?.cancel(),l())}detaching(t,e){return this.preSettledTask?.cancel(),this.postSettledTask?.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(t,this.$controller)}dispose(){this.view?.dispose(),this.view=void 0}}Ng.$au={type:Ic,name:"promise",isTemplateController:!0,bindables:["value"]};class qg{constructor(){this.view=void 0,this.f=ut(Ru),this.l=ut(Gf)}link(t,e,s,i){Dg(t).pending=this}activate(t,e){let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(s,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}}qg.$au={type:Ic,name:"pending",isTemplateController:!0,bindables:{value:{mode:Ih}}};class Fg{constructor(){this.view=void 0,this.f=ut(Ru),this.l=ut(Gf)}link(t,e,s,i){Dg(t).fulfilled=this}activate(t,e,s){this.value=s;let i=this.view;if(void 0===i&&(i=this.view=this.f.create().setLocation(this.l)),!i.isActive)return i.activate(i,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t,e){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}}Fg.$au={type:Ic,name:"then",isTemplateController:!0,bindables:{value:{mode:Lh}}};class Vg{constructor(){this.view=void 0,this.f=ut(Ru),this.l=ut(Gf)}link(t,e,s,i){Dg(t).rejected=this}activate(t,e,s){this.value=s;let i=this.view;if(void 0===i&&(i=this.view=this.f.create().setLocation(this.l)),!i.isActive)return i.activate(i,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t,e){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}}function Dg(t){const e=t.parent,s=e?.viewModel;if(s instanceof Ng)return s;throw yh(813)}Vg.$au={type:Ic,name:"catch",isTemplateController:!0,bindables:{value:{mode:Lh}}};class _g{"promise.resolve"(t,e){return new va(t,e,"promise","bind")}}_g[Symbol.metadata]={[Z]:ka.create([{pattern:"promise.resolve",symbols:""}],_g)};class zg{then(t,e){return new va(t,e,"then","from-view")}}zg[Symbol.metadata]={[Z]:ka.create([{pattern:"then",symbols:""}],zg)};class Ug{catch(t,e){return new va(t,e,"catch","from-view")}}Ug[Symbol.metadata]={[Z]:ka.create([{pattern:"catch",symbols:""}],Ug)};class Wg{constructor(){this._s=!1,this.Re=ut(Wf),this.p=ut(kc)}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.Os():this._s=!0}attached(){this._s&&(this._s=!1,this.Os()),this.Re.addEventListener("focus",this),this.Re.addEventListener("blur",this)}detaching(){const t=this.Re;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){"focus"===t.type?this.value=!0:this.Fs||(this.value=!1)}Os(){const t=this.Re,e=this.Fs,s=this.value;s&&!e?t.focus():!s&&e&&t.blur()}get Fs(){return this.Re===this.p.document.activeElement}}Wg.$au={type:Ic,name:"focus",bindables:{value:{mode:Bh}}};class Hg{constructor(){this.position="beforeend",this.strict=!1;const t=ut(Ru),e=ut(Gf),s=ut(kc);this.p=s,this.Vs=s.document.createElement("div"),(this.view=t.create()).setLocation(this.Hs=Lu(s)),Jf(this.view.nodes,e)}attaching(t){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const e=this.Vs=this.$s();return this.Ns(e,this.position),this.js(t,e)}detaching(t){return this.Ws(t,this.Vs)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this.$s();if(this.Vs===e)return;this.Vs=e;const s=M(this.Ws(null,e),(()=>(this.Ns(e,this.position),this.js(null,e))));h(s)&&s.catch(lh)}positionChanged(){const{$controller:t,Vs:e}=this;if(!t.isActive)return;const s=M(this.Ws(null,e),(()=>(this.Ns(e,this.position),this.js(null,e))));h(s)&&s.catch(lh)}js(t,e){const{activating:s,callbackContext:i,view:n}=this;return M(s?.call(i,e,n),(()=>this.zs(t,e)))}zs(t,e){const{$controller:s,view:i}=this;return null!==t?M(i.activate(t??i,s,s.scope),(()=>this.Us(e))):(i.nodes.insertBefore(this.Hs),this.Us(e))}Us(t){const{activated:e,callbackContext:s,view:i}=this;return e?.call(s,t,i)}Ws(t,e){const{deactivating:s,callbackContext:i,view:n}=this;return M(s?.call(i,e,n),(()=>this.Gs(t,e)))}Gs(t,e){const{$controller:s,view:i}=this;return null!==t?M(i.deactivate(t,s),(()=>this.Ks(e))):(i.nodes.remove(),this.Ks(e))}Ks(t){const{deactivated:e,callbackContext:s,view:i}=this;return M(e?.call(s,t,i),(()=>this.Xs()))}$s(){const t=this.p,e=t.document;let s=this.target,i=this.renderContext;if(""===s){if(this.strict)throw yh(811);return e.body}if(g(s)){let n=e;g(i)&&(i=e.querySelector(i)),i instanceof t.Node&&(n=i),s=n.querySelector(s)}if(s instanceof t.Node)return s;if(null==s){if(this.strict)throw yh(812);return e.body}return s}Xs(){this.Hs.remove(),this.Hs.$start.remove()}Ns(t,e){const s=this.Hs,i=s.$start,n=t.parentNode,r=[i,s];switch(e){case"beforeend":Bu(t,null,r);break;case"afterbegin":Bu(t,t.firstChild,r);break;case"beforebegin":Bu(n,t,r);break;case"afterend":Bu(n,t.nextSibling,r);break;default:throw yh(779,e)}}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){if(!0===this.view?.accept(t))return!0}}let Gg;Hg.$au={type:Ic,name:"portal",isTemplateController:!0,bindables:[{name:"target",primary:!0},"position","activated","activating","callbackContext",{name:"renderContext",callback:"targetChanged"},"strict","deactivated","deactivating"]};class Kg{constructor(){this.Qs=null,this.Ys=null,this.Zt=!1,this.expose=null,this.slotchange=null,this.Zs=new Set,this.cs=null;const t=ut(Sf),e=ut(Gf),s=ut(Oa),i=ut(Bd),n=this.name=s.data.name,r=s.projections?.[Eu],o=t.instruction?.projections?.[n],a=t.controller.container;let l,h;null==o?(h=a.createChild({inheritParentResources:!0}),l=i.getViewFactory(r??(Gg??=cp.create({name:"au-slot-empty-template",template:"",needsCompile:!1})),h),this.Js=!1):(h=a.createChild(),h.useResources(t.parent.controller.container),Gh(h,Sf,new Pt(void 0,t.parent)),l=i.getViewFactory(o,h),this.Js=!0,this.ti=a.getAll(Nu,!1)?.filter((t=>"*"===t.slotName||t.slotName===n))??Nt),this.ei=(this.ti??=Nt).length>0,this.si=t,this.view=l.create().setLocation(this.l=e)}get nodes(){const t=[],e=this.l;let s=e.$start.nextSibling;for(;null!=s&&s!==e;)8!==s.nodeType&&t.push(s),s=s.nextSibling;return t}subscribe(t){this.Zs.add(t)}unsubscribe(t){this.Zs.delete(t)}binding(t,e){for(this.Qs=e.scope;"synthetic"===e.vmKind&&e.parent?.viewModel instanceof Kg;)e=e.parent.parent;const s=e.scope.bindingContext;let i;this.Js&&(i=this.si.controller.scope.parent,(this.Ys=wh.fromParent(i,i.bindingContext)).overrideContext.$host=this.expose??s)}attaching(t,e){return M(this.view.activate(t,this.$controller,this.Js?this.Ys:this.Qs),(()=>{this.ei&&(this.ti.forEach((t=>t.watch(this))),this.Qe(),this.ii(),this.Zt=!0)}))}detaching(t,e){return this.Zt=!1,this.ni(),this.ti.forEach((t=>t.unwatch(this))),this.view.deactivate(t,this.$controller)}exposeChanged(t){this.Js&&null!=this.Ys&&(this.Ys.overrideContext.$host=t)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}Qe(){if(null!=this.cs)return;const t=this.l,e=t.parentElement;null!=e&&(this.cs=Ou(e,(e=>{Xg(t,e)&&this.ii()}))).observe(e,{childList:!0})}ni(){this.cs?.disconnect(),this.cs=null}ii(){const t=this.nodes,e=new Set(this.Zs);let s;for(s of(this.Zt&&this.slotchange?.call(void 0,this.name,t),e))s.handleSlotChange(this,t)}}Kg.$au={type:mp,name:"au-slot",template:null,containerless:!0,processContent(t,e,s){s.name=t.getAttribute("name")??Eu;let i=t.firstChild,n=null;for(;null!==i;)n=i.nextSibling,Mu(i)&&i.hasAttribute("au-slot")&&t.removeChild(i),i=n},bindables:["expose","slotchange"]};const Qg=(t,e)=>t.compareDocumentPosition(e),Xg=(t,e)=>{for(const{addedNodes:s,removedNodes:i,nextSibling:n}of e){let e,r=0,o=s.length;for(;r<o;++r)if(e=s[r],4===Qg(t.$start,e)&&2===Qg(t,e))return!0;if(i.length>0&&null!=n&&4===Qg(t.$start,n)&&2===Qg(t,n))return!0}};class Jg{constructor(){this.scopeBehavior="auto",this.ri=void 0,this.tag=null,this.c=ut(St),this.parent=ut(Tf),this.oi=ut(Wf),this.l=ut(Gf),this.p=ut(kc),this.r=ut(Bd),this.li=ut(Oa),this.ai=ut(Lt(Zg)),this.gt=ut(ia),this.J=ut(Sf),this.ep=ut(gi),this.oL=ut(Mo)}get composing(){return this.hi}get composition(){return this.ri}attaching(t,e){return this.hi=M(this.queue(new tm(this.template,this.component,this.model,void 0),t),(t=>{this.ai.ci(t)&&(this.hi=void 0)}))}detaching(t){const e=this.ri,s=this.hi;return this.ai.invalidate(),this.ri=this.hi=void 0,M(s,(()=>e?.deactivate(t)))}propertyChanged(t){"composing"!==t&&"composition"!==t&&("model"!==t||null==this.ri?"tag"===t&&this.ri?.controller.vmKind===gf||(this.hi=M(this.hi,(()=>M(this.queue(new tm(this.template,this.component,this.model,t),void 0),(t=>{this.ai.ci(t)&&(this.hi=void 0)}))))):this.ri.update(this.model))}queue(t,e){const s=this.ai,i=this.ri;return M(s.create(t),(t=>s.ci(t)?M(this.compose(t),(n=>s.ci(t)?M(n.activate(e),(()=>s.ci(t)?(this.ri=n,M(i?.deactivate(e),(()=>t))):M(n.controller.deactivate(n.controller,this.$controller),(()=>(n.controller.dispose(),t))))):(n.controller.dispose(),t))):t))}compose(t){const{ui:e,fi:s,di:i}=t.change,{c:n,$controller:r,l:o,li:a}=this,l=this.mi(this.J.controller.container,s),h=n.createChild(),c=this.p.document.createElement(null==l?this.tag??"div":l.name);let u;o.parentNode.insertBefore(c,o),u=null==l?null==this.tag?Yf(c):null:l.containerless?Yf(c):null;const d=()=>{if(c.remove(),null!=u){let t=u.$start.nextSibling,e=null;for(;null!==t&&t!==u;)e=t.nextSibling,t.remove(),t=e;u.$start?.remove(),u.remove()}},f=this.gi(h,"string"==typeof s?l.Type:s,c,u),g=()=>{const s=a.captures??Nt;if(null!==l){const e=l.capture,[i,n]=s.reduce(((t,s)=>(t[!(s.target in l.bindables)&&(!0===e||p(e)&&!!e(s.target))?0:1].push(s),t)),[[],[]]),o=Jd.$el(h,f,c,{projections:a.projections,captures:i},l,u);return this.pi(c,l,n).forEach((t=>o.addBinding(t))),new im(o,(t=>o.activate(t??o,r,r.scope.parent)),(t=>M(o.deactivate(t??o,r),d)),(t=>f.activate?.(t)),t)}{const i=cp.create({name:Sp.generateName(),template:e}),n=this.r.getViewFactory(i,h),o=Jd.$view(n,r),a="auto"===this.scopeBehavior?wh.fromParent(this.parent.scope,f):wh.create(f);return o.setHost(c),null==u?this.pi(c,i,s).forEach((t=>o.addBinding(t))):o.setLocation(u),new im(o,(t=>o.activate(t??o,r,a)),(t=>M(o.deactivate(t??o,r),d)),(t=>f.activate?.(t)),t)}};return"activate"in f?M(f.activate(i),(()=>g())):g()}gi(t,e,s,i){if(null==e)return new Yg;if("object"==typeof e)return e;const n=this.p;np(t,s,n),Gh(t,Gf,new Pt("IRenderLocation",i));const r=t.invoke(e);return Gh(t,e,new Pt("au-compose.component",r)),r}mi(t,e){if("string"==typeof e){const s=Sp.find(t,e);if(null==s)throw yh(806,e);return s}const s=p(e)?e:e?.constructor;return Sp.isType(s,void 0)?Sp.getDefinition(s,null):null}pi(t,e,s){const i=new Rf(this.$controller,{projections:null,captures:s},this.J.parent);return _u.create(i,t,e,this.r,this.gt,this.p,this.ep,this.oL)}}Jg.$au={type:mp,name:"au-compose",capture:!0,containerless:!0,bindables:["template","component","model",{name:"scopeBehavior",set:t=>{if("scoped"===t||"auto"===t)return t;throw yh(805,t)}},{name:"composing",mode:Lh},{name:"composition",mode:Lh},"tag"]};class Yg{}class Zg{constructor(){this.id=0}ci(t){return t.id===this.id}create(t){return M(t.load(),(t=>new sm(++this.id,t)))}invalidate(){this.id++}}class tm{constructor(t,e,s,i){this.ui=t,this.fi=e,this.di=s,this.xi=i}load(){return h(this.ui)||h(this.fi)?Promise.all([this.ui,this.fi]).then((([t,e])=>new em(t,e,this.di,this.xi))):new em(this.ui,this.fi,this.di,this.xi)}}class em{constructor(t,e,s,i){this.ui=t,this.fi=e,this.di=s,this.xi=i}}class sm{constructor(t,e){this.id=t,this.change=e}}class im{constructor(t,e,s,i,n){this.controller=t,this.start=e,this.stop=s,this.update=i,this.context=n,this.state=0}activate(t){if(0!==this.state)throw yh(807,this);return this.state=1,this.start(t)}deactivate(t){switch(this.state){case 1:return this.state=-1,this.stop(t);case-1:throw yh(808);default:this.state=-1}}}const nm=zh("ISanitizer",(t=>t.singleton(class{sanitize(){throw yh(99,"sanitize")}})));class rm{constructor(){this.bi=ut(nm)}toView(t){return null==t?null:this.bi.sanitize(t)}}rm.$au={type:Hc,name:"sanitize"};class om{constructor(){this.el=ut(Wf),this.p=ut(kc),this.wi=!1,this.L=null,this.$val="",this.$prio="",this.update=()=>{this.L=null,Boolean(this.value)!==this.yi&&(this.yi===this.ki?(this.yi=!this.ki,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.yi=this.ki,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))};const t=ut(Oa);this.yi=this.ki="hide"!==t.alias}binding(){this.wi=!0,this.update()}detaching(){this.wi=!1,this.L?.cancel(),this.L=null}valueChanged(){this.wi&&null===this.L&&(this.L=this.p.domQueue.queueTask(this.update))}}om.$au={type:Ic,name:"show",bindables:["value"],aliases:["hide"]};const am=[Dp,To,tg],lm=[$a,Ca,Aa,Su],hm=[Sa,Ta],cm=[ul,al,hl,ll,cl,dl,bl,fl,pl,vl,ml,gl,yl],um=[dc,ac,lc,hc,gc,vc,cc,rm,lg,hg,dg,Bg,Og,Pg,jg,Ng,qg,Fg,Vg,_g,zg,Ug,rg,og,ag,Jg,Hg,Wg,om,Kg],dm=[hd,cd,ad,ld,sd,id,nd,rd,od,fd,bd,pd,gd,md,vd,ud,yd,wd],fm=pm(Ft);function pm(t){return{optionsProvider:t,register(e){const s={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return t(s),e.register(Hh(Yn,s.coercingOptions),...am,...um,...lm,...cm,...dm)},customize:e=>pm(e??t)}}function gm(t,e){let s;gm.mixed||(gm.mixed=!0,lr(mm,null),zc()(vm,null));const i=jh("dependencies");function n(t,e){if("field"===e.kind)s.name=e.name;(e.metadata[i]??=[]).push(new vm(s??{}))}return arguments.length>1?(s={},void n(0,e)):g(t)?(s={query:t},n):(s=void 0===t?{}:t,n)}gm.mixed=!1;class mm{constructor(t,e,s,i,n,r){this.Ci=void 0,this.isBound=!1,this.obj=e,this.cb=s,this.X=i,this.Bi=n,this.Si=r,this.cs=Ou(this.oi=t,(()=>{this.Ai()}))}getValue(){return this.isBound?this.Ci:this.Ei()}setValue(t){}bind(){this.isBound||(this.isBound=!0,this.cs.observe(this.oi,{childList:!0}),this.Ci=this.Ei())}unbind(){this.isBound&&(this.isBound=!1,this.cs.takeRecords(),this.cs.disconnect(),this.Ci=Nt)}Ai(){this.Ci=this.Ei(),this.cb?.call(this.obj),this.subs.notify(this.Ci,void 0)}get(){throw yh(99,"get")}Ei(){const t=this.X,e=this.Bi,s=this.Si,i="$all"===t?this.oi.childNodes:this.oi.querySelectorAll(`:scope > ${t}`),n=i.length,r=[],o={optional:!0};let a,l,h,c=0;for(;n>c;)h=i[c],a=Cp(h,o),l=a?.viewModel??null,(null==e||e(h,l))&&r.push(null==s?l??h:s(h,l)),++c;return r}}class vm{constructor(t){this.Y=t}register(t){Hh(qc,this).register(t)}hydrating(t,e){const s=this.Y,i=s.query??"*",n=new mm(e.host,t,t[s.callback??`${Zl(s.name)}Changed`],i,s.filter,s.map);if(/[\s>]/.test(i))throw yh(9989,i);hh(t,s.name,{enumerable:!0,configurable:!0,get:ih((()=>n.getValue()),{getObserver:()=>n}),set:()=>{}}),e.addBinding(n)}}export{Fs as AccessBoundaryExpression,Ns as AccessGlobalExpression,zs as AccessKeyedExpression,_s as AccessMemberExpression,Vs as AccessScopeExpression,qs as AccessThisExpression,Zn as AccessorType,_d as AdoptedStyleSheetsStyles,Te as AnalyzedModule,Op as AppRoot,wc as AppTask,ei as ArrayBindingPattern,yg as ArrayLikeHandler,Js as ArrayLiteralExpression,hi as ArrowFunction,Ps as AssignExpression,Sa as AtPrefixedTriggerAttributePattern,rg as AttrBindingBehavior,gl as AttrBindingCommand,Fp as AttrMapper,va as AttrSyntax,au as AttributeBinding,Xa as AttributeBindingInstruction,bd as AttributeBindingRenderer,Hp as AttributeNSAccessor,wa as AttributeParser,ka as AttributePattern,Jg as AuCompose,Kg as AuSlot,ju as AuSlotsInfo,Ep as Aurelia,Ks as BinaryExpression,Fh as Bindable,Vh as BindableDefinition,ic as BindingBehavior,Yh as BindingBehaviorDefinition,Ms as BindingBehaviorExpression,ol as BindingCommand,el as BindingCommandDefinition,xh as BindingContext,ii as BindingIdentifier,sa as BindingMode,oc as BindingModeBehavior,Jc as BindingTargetSubscriber,es as BrowserPlatform,Ed as CSSModulesProcessorRegistry,Hs as CallFunctionExpression,Gs as CallGlobalExpression,Ws as CallMemberExpression,Us as CallScopeExpression,pl as CaptureBindingCommand,Pg as Case,ig as CheckedObserver,mm as ChildrenBinding,Ku as ClassAttributeAccessor,vl as ClassBindingCommand,cr as CollectionLengthObserver,ur as CollectionSizeObserver,Ta as ColonPrefixedBindAttributePattern,Co as ComputedObserver,Qd as ComputedWatcher,js as ConditionalExpression,Tr as ConnectableSwitcher,ye as ConsoleSink,et as ContainerConfiguration,du as ContentBinding,Jd as Controller,Nc as CustomAttribute,Rc as CustomAttributeDefinition,nd as CustomAttributeRenderer,Sp as CustomElement,cp as CustomElementDefinition,id as CustomElementRenderer,Os as CustomExpression,Tt as DI,Gp as DataAttributeAccessor,dc as DebounceBindingBehavior,ul as DefaultBindingCommand,cm as DefaultBindingLanguage,lm as DefaultBindingSyntax,jg as DefaultCase,am as DefaultComponents,ve as DefaultLogEvent,be as DefaultLogEventFactory,we as DefaultLogger,dm as DefaultRenderers,tt as DefaultResolver,um as DefaultResources,oi as DestructuringAssignmentExpression,li as DestructuringAssignmentRestExpression,ai as DestructuringAssignmentSingleExpression,So as DirtyCheckProperty,Ao as DirtyCheckSettings,To as DirtyChecker,Ca as DotSeparatedAttributePattern,hg as Else,Be as EventAggregator,Aa as EventAttributePattern,Tu as EventModifier,Su as EventModifierRegistration,mi as ExpressionParser,Xd as ExpressionWatcher,su as FlushQueue,Wg as Focus,dl as ForBindingCommand,ni as ForOfStatement,tp as FragmentNodeSequence,hc as FromViewBindingBehavior,hl as FromViewBindingCommand,Fg as FulfilledTemplateController,Va as HydrateAttributeInstruction,Fa as HydrateElementInstruction,_a as HydrateLetElementInstruction,Da as HydrateTemplateController,Bp as IAppRoot,bc as IAppTask,na as IAttrMapper,ya as IAttributeParser,ba as IAttributePattern,Nu as IAuSlotWatcher,Pu as IAuSlotsInfo,Mp as IAurelia,Wl as IBindingCommandResolver,Yn as ICoercionConfiguration,jo as IComputedObserverLocator,St as IContainer,Tf as IController,$o as IDirtyChecker,Le as IEventAggregator,Au as IEventModifier,Hf as IEventTarget,gi as IExpressionParser,eu as IFlushQueue,ip as IHistory,Sf as IHydrationContext,Oa as IInstruction,xu as IKeyMapping,qc as ILifecycleHooks,dd as IListenerBindingOptions,sp as ILocation,re as ILogConfig,ae as ILogEventFactory,le as ILogger,wu as IModifiedEventHandlerCreator,ke as IModuleLoader,Wf as INode,Eo as INodeObserverLocator,_o as IObservation,Mo as IObserverLocator,Vt as IPlatform,Gf as IRenderLocation,Yu as IRenderer,Bd as IRendering,wg as IRepeatableHandler,vg as IRepeatableHandlerResolver,Ul as IResourceResolver,Pp as ISVGAnalyzer,nm as ISanitizer,Rt as IServiceLocator,Dd as IShadowDOMGlobalStyles,jd as IShadowDOMStyleFactory,Vd as IShadowDOMStyles,fc as ISignaler,oe as ISink,fa as ISyntaxInterpreter,ia as ITemplateCompiler,Ql as ITemplateCompilerHooks,wl as ITemplateElementFactory,Ru as IViewFactory,ep as IWindow,lg as If,Pt as InstanceProvider,Ba as InstructionType,ri as Interpolation,hu as InterpolationBinding,ld as InterpolationBindingRenderer,Ma as InterpolationInstruction,cu as InterpolationPartBinding,aa as Interpretation,Pa as IteratorBindingInstruction,cd as IteratorBindingRenderer,fu as LetBinding,za as LetBindingInstruction,od as LetElementRenderer,Dc as LifecycleHooks,Vc as LifecycleHooksDefinition,Fc as LifecycleHooksEntry,yu as ListenerBinding,Wa as ListenerBindingInstruction,bu as ListenerBindingOptions,fd as ListenerBindingRenderer,fe as LogConfig,ne as LogLevel,xe as LoggerConfiguration,i as Metadata,Se as ModuleItem,qa as MultiAttrInstruction,tg as NodeObserverLocator,Np as NoopSVGAnalyzer,si as ObjectBindingPattern,Ys as ObjectLiteralExpression,zo as Observation,No as ObserverLocator,ac as OneTimeBindingBehavior,al as OneTimeBindingCommand,qg as PendingTemplateController,qe as Platform,Hg as Portal,Xs as PrimitiveLiteralExpression,Ro as PrimitiveObserver,Ng as PromiseTemplateController,Io as PropertyAccessor,pu as PropertyBinding,Ea as PropertyBindingInstruction,hd as PropertyBindingRenderer,K as Protocol,ko as ProxyObservable,$a as RefAttributePattern,vu as RefBinding,bl as RefBindingCommand,ja as RefBindingInstruction,ad as RefBindingRenderer,D as Registration,Vg as RejectedTemplateController,Od as Rendering,dg as Repeat,Dp as RuntimeTemplateCompilerImplementation,qp as SVGAnalyzer,rm as SanitizeValueConverter,wh as Scope,Qp as SelectValueObserver,og as SelfBindingBehavior,Ga as SetAttributeInstruction,pd as SetAttributeRenderer,Ka as SetClassAttributeInstruction,gd as SetClassAttributeRenderer,Na as SetPropertyInstruction,sd as SetPropertyRenderer,Qa as SetStyleAttributeInstruction,md as SetStyleAttributeRenderer,Lo as SetterObserver,Nd as ShadowDOMRegistry,hm as ShortHandBindingSyntax,gc as SignalBindingBehavior,Ya as SpreadElementPropBindingInstruction,yd as SpreadRenderer,Ja as SpreadTransferedBindingInstruction,yl as SpreadValueBindingCommand,Za as SpreadValueBindingInstruction,fm as StandardConfiguration,Af as State,Xp as StyleAttributeAccessor,ml as StyleBindingCommand,Ud as StyleConfiguration,zd as StyleElementStyles,Ha as StylePropertyBindingInstruction,vd as StylePropertyBindingRenderer,Og as Switch,pa as SyntaxInterpreter,ti as TaggedTemplateExpression,_e as Task,Ve as TaskAbortError,Fe as TaskQueue,El as TemplateCompiler,Xl as TemplateCompilerHooks,rd as TemplateControllerRenderer,Zs as TemplateExpression,Ua as TextBindingInstruction,ud as TextBindingRenderer,vc as ThrottleBindingBehavior,lc as ToViewBindingBehavior,ll as ToViewBindingCommand,fl as TriggerBindingCommand,cc as TwoWayBindingBehavior,cl as TwoWayBindingCommand,Qs as UnaryExpression,fi as Unparser,ag as UpdateTriggerBindingBehavior,Jp as ValueAttributeObserver,Xc as ValueConverter,Wc as ValueConverterDefinition,Es as ValueConverterExpression,Iu as ViewFactory,Ac as Watch,Bg as With,Kh as alias,Re as aliasedResourcesRegistry,_t as all,Jt as allResources,y as areEqual,Ch as astAssign,Ah as astBind,$h as astEvaluate,Th as astUnbind,di as astVisit,xa as attributePattern,or as batch,Nh as bindable,Jh as bindingBehavior,tl as bindingCommand,S as bound,C as camelCase,Lp as capture,gm as children,sr as cloneIndexMap,Dh as coercer,yr as connectable,ap as containerless,Yf as convertToRenderLocation,tr as copyIndexMap,_ as createImplementationRegister,er as createIndexMap,b as createLookup,Dt as createResolver,Md as cssModules,Tc as customAttribute,rp as customElement,Nt as emptyArray,qt as emptyObject,ts as ensureEmpty,Gt as factory,I as firstDefined,de as format,X as fromAnnotationOrDefinitionOrTypeOrDefault,J as fromAnnotationOrTypeOrDefault,Y as fromDefinitionOrDefault,Ml as generateElementName,qo as getCollectionObserver,Xf as getEffectiveParentNode,Do as getObserverLookup,L as getPrototypeChain,zf as getRef,G as getResourceKeyFor,Ht as ignore,t as initializeTC39Metadata,At as inject,c as isArray,x as isArrayIndex,uf as isCustomElementController,df as isCustomElementViewModel,p as isFunction,ir as isIndexMap,d as isMap,O as isNativeFunction,s as isNullOrUndefined,v as isNumber,f as isObject,h as isPromise,Zf as isRenderLocation,u as isSet,g as isString,m as isSymbol,A as kebabCase,zt as last,Ut as lazy,zc as lifecycleHooks,R as mergeArrays,Zc as mixinAstEvaluator,Yc as mixinUseScope,nu as mixingBindingLimited,Yt as newInstanceForScope,Zt as newInstanceOf,Ft as noop,Ho as nowrap,Wo as observable,M as onResolve,E as onResolveAll,Wt as optional,Xt as optionalResource,Kt as own,Ki as parseExpression,$ as pascalCase,Ip as processContent,Qh as registerAliases,np as registerHostNode,Z as registrableMetadataKey,Zu as renderer,Ze as reportTaskQueue,ut as resolve,Qt as resource,H as resourceBaseName,Jf as setEffectiveParentNode,Uf as setRef,Pd as shadowCSS,Mt as singleton,ue as sink,Vu as slotted,lr as subscriberCollection,Jl as templateCompilerHooks,Sc as templateController,T as toArray,Lt as transient,op as useShadowDOM,Uc as valueConverter,Cc as watch};
