function t(t){return"object"==typeof t&&null!==t||"function"==typeof t}function e(t){return null==t}let s=new WeakMap;function i(t,e,s,i,n){return new TypeError(`${t}(${e.map(String).join(",")}) - Expected '${s}' to be of type ${n}, but got: ${Object.prototype.toString.call(i)} (${String(i)})`)}function n(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:return`${t}`}}function r(t,e,i){let n=s.get(t);if(void 0===n){if(!i)return;n=new Map,s.set(t,n)}let r=n.get(e);if(void 0===r){if(!i)return;r=new Map,n.set(e,r)}return r}function o(t,e,s){const i=r(e,s,!1);return void 0!==i&&i.has(t)}function a(t,e,s){if(o(t,e,s))return!0;const i=Object.getPrototypeOf(e);return null!==i&&a(t,i,s)}function l(t,e,s){const i=r(e,s,!1);if(void 0!==i)return i.get(t)}function h(t,e,s){if(o(t,e,s))return l(t,e,s);const i=Object.getPrototypeOf(e);return null!==i?h(t,i,s):void 0}function c(t,e,s,i){r(s,i,!0).set(t,e)}function u(t,e){const s=[],i=r(t,e,!1);if(void 0===i)return s;const n=i.keys();let o=0;for(const t of n)s[o]=t,++o;return s}function d(t,e){const s=u(t,e),i=Object.getPrototypeOf(t);if(null===i)return s;const n=d(i,e),r=s.length;if(0===r)return n;const o=n.length;if(0===o)return s;const a=new Set,l=[];let h,c=0;for(let t=0;t<r;++t)h=s[t],a.has(h)||(a.add(h),l[c]=h,++c);for(let t=0;t<o;++t)h=n[t],a.has(h)||(a.add(h),l[c]=h,++c);return l}function p(e,s){return function(n,r){if(!t(n))throw i("@metadata",[e,s,n,r],"target",n,"Object or Function");c(e,s,n,function(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:throw new TypeError(`Invalid metadata propertyKey: ${t}.`)}}(r))}}function f(s,n,r,o){if(void 0!==r){if(!Array.isArray(s))throw i("Metadata.decorate",[s,n,r,o],"decorators",s,"Array");if(!t(n))throw i("Metadata.decorate",[s,n,r,o],"target",n,"Object or Function");if(!t(o)&&!e(o))throw i("Metadata.decorate",[s,n,r,o],"attributes",o,"Object, Function, null, or undefined");return null===o&&(o=void 0),r=function(t){switch(typeof t){case"string":case"symbol":return t;default:return`${t}`}}(r),function(s,n,r,o){for(let a=s.length-1;a>=0;--a){const l=(0,s[a])(n,r,o);if(!e(l)){if(!t(l))throw i("DecorateProperty",[s,n,r,o],"decorated",l,"Object, Function, null, or undefined");o=l}}return o}(s,n,r,o)}if(!Array.isArray(s))throw i("Metadata.decorate",[s,n,r,o],"decorators",s,"Array");if("function"!=typeof n)throw i("Metadata.decorate",[s,n,r,o],"target",n,"Function");return function(t,s){for(let n=t.length-1;n>=0;--n){const r=(0,t[n])(s);if(!e(r)){if("function"!=typeof r)throw i("DecorateConstructor",[t,s],"decorated",r,"Function, null, or undefined");s=r}}return s}(s,n)}function g(e,s,r,o){if(!t(r))throw i("Metadata.define",[e,s,r,o],"target",r,"Object or Function");return c(e,s,r,n(o))}function v(e,s,r){if(!t(s))throw i("Metadata.has",[e,s,r],"target",s,"Object or Function");return a(e,s,n(r))}function m(e,s,r){if(!t(s))throw i("Metadata.hasOwn",[e,s,r],"target",s,"Object or Function");return o(e,s,n(r))}function b(e,s,r){if(!t(s))throw i("Metadata.get",[e,s,r],"target",s,"Object or Function");return h(e,s,n(r))}function w(e,s,r){if(!t(s))throw i("Metadata.getOwn",[e,s,r],"target",s,"Object or Function");return l(e,s,n(r))}function y(e,s){if(!t(e))throw i("Metadata.getKeys",[e,s],"target",e,"Object or Function");return d(e,n(s))}function x(e,s){if(!t(e))throw i("Metadata.getOwnKeys",[e,s],"target",e,"Object or Function");return u(e,n(s))}function k(e,s,o){if(!t(s))throw i("Metadata.delete",[e,s,o],"target",s,"Object or Function");return function(t,e,s){const i=r(t,s,!1);return void 0!==i&&i.delete(e)}(s,e,n(o))}const C={define:g,has:v,hasOwn:m,get:b,getOwn:w,getKeys:y,getOwnKeys:x,delete:k};function $(t,e,s,i,n){if(!Reflect.defineProperty(t,e,{writable:i,enumerable:!1,configurable:n,value:s}))throw new Error(`Unable to apply metadata polyfill: could not add property '${e}' to the global Reflect object`)}const A="[[$au]]";function R(t,e,i){$(t,A,s,e,i),$(t,"metadata",p,e,i),$(t,"decorate",f,e,i),$(t,"defineMetadata",g,e,i),$(t,"hasMetadata",v,e,i),$(t,"hasOwnMetadata",m,e,i),$(t,"getMetadata",b,e,i),$(t,"getOwnMetadata",w,e,i),$(t,"getMetadataKeys",y,e,i),$(t,"getOwnMetadataKeys",x,e,i),$(t,"deleteMetadata",k,e,i)}function E(t,e=!0,i=!1,n=!0,r=!0){if(function(t){return A in t}(t)){if(t[A]===s)return;if(t[A]instanceof WeakMap)return void(s=t[A]);throw new Error("Conflicting @aurelia/metadata module import detected. Please make sure you have the same version of all Aurelia packages in your dependency tree.")}const o=["metadata","decorate","defineMetadata","hasMetadata","hasOwnMetadata","getMetadata","getOwnMetadata","getMetadataKeys","getOwnMetadataKeys","deleteMetadata"].filter((function(t){return t in Reflect}));if(o.length>0){if(e){const t=o.map((function(t){return`${t}:\n${`${Reflect[t].toString().slice(0,100)}...`}`})).join("\n\n");throw new Error(`Conflicting reflect.metadata polyfill found. If you have 'reflect-metadata' or any other reflect polyfill imported, please remove it, if not (or if you must use a specific polyfill) please file an issue at https://github.com/aurelia/aurelia/issues so that we can look into compatibility options for this scenario. Implementation summary:\n\n${t}`)}i&&R(t,n,r)}else R(t,n,r)}const T=C.getOwn,S=C.hasOwn,O=C.define,I=t=>"function"==typeof t,L=t=>"string"==typeof t,B=()=>Object.create(null),M={};function P(t){switch(typeof t){case"number":return t>=0&&(0|t)===t;case"string":{const e=M[t];if(void 0!==e)return e;const s=t.length;if(0===s)return M[t]=!1;let i=0,n=0;for(;n<s;++n)if(i=t.charCodeAt(n),0===n&&48===i&&s>1||i<48||i>57)return M[t]=!1;return M[t]=!0}default:return!1}}function U(t){switch(typeof t){case"number":case"bigint":return!0;default:return!1}}function j(t){switch(typeof t){case"string":return!0;case"object":return t instanceof Date;default:return!1}}const q=function(){let t;!function(t){t[t.none=0]="none",t[t.digit=1]="digit",t[t.upper=2]="upper",t[t.lower=3]="lower"}(t||(t={}));const e=Object.assign(B(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0});function s(t){return""===t?0:t!==t.toUpperCase()?3:t!==t.toLowerCase()?2:!0===e[t]?1:0}return function(t,e){const i=t.length;if(0===i)return t;let n,r=!1,o="",a="",l=0,h=t.charAt(0),c=s(h),u=0;for(;u<i;++u)n=l,a=h,l=c,h=t.charAt(u+1),c=s(h),0===l?o.length>0&&(r=!0):(!r&&o.length>0&&2===l&&(r=3===n||3===c),o+=e(a,r),r=!1);return o}}(),F=function(){const t=B();function e(t,e){return e?t.toUpperCase():t.toLowerCase()}return function(s){let i=t[s];return void 0===i&&(i=t[s]=q(s,e)),i}}(),V=function(){const t=B();return function(e){let s=t[e];return void 0===s&&(s=F(e),s.length>0&&(s=s[0].toUpperCase()+s.slice(1)),t[e]=s),s}}(),D=function(){const t=B();function e(t,e){return e?`-${t.toLowerCase()}`:t.toLowerCase()}return function(s){let i=t[s];return void 0===i&&(i=t[s]=q(s,e)),i}}();function N(t){const{length:e}=t,s=Array(e);let i=0;for(;i<e;++i)s[i]=t[i];return s}const H={};function z(t){return void 0===H[t]&&(H[t]=0),++H[t]}function K(t){H[t]=0}function W(t,e){return t-e}function G(t,e,s){if(null==t||t===ie)return null==e||e===ie?ie:s?e.slice(0):e;if(null==e||e===ie)return s?t.slice(0):t;const i={},n=s?t.slice(0):t;let r,o=t.length,a=e.length;for(;o-- >0;)i[t[o]]=!0;for(;a-- >0;)r=e[a],void 0===i[r]&&(n.push(r),i[r]=!0);return n}function Q(t,e,s){return{configurable:!0,enumerable:s.enumerable,get(){const t=s.value.bind(this);return Reflect.defineProperty(this,e,{value:t,writable:!0,configurable:!0,enumerable:s.enumerable}),t}}}function X(...t){const e=[];let s=0;const i=t.length;let n,r=0,o=0;for(;o<i;++o)if(n=t[o],void 0!==n){r=n.length;let t=0;for(;t<r;++t)e[s++]=n[t]}return e}function Y(...t){const e={},s=t.length;let i,n,r=0;for(;s>r;++r)if(i=t[r],void 0!==i)for(n in i)e[n]=i[n];return e}function Z(...t){const e=t.length;let s,i=0;for(;e>i;++i)if(s=t[i],void 0!==s)return s;throw new Error("No default value found")}const J=function(){const t=Function.prototype,e=Object.getPrototypeOf,s=new WeakMap;let i,n=t,r=0;return function(o){if(i=s.get(o),void 0===i)for(s.set(o,i=[n=o]),r=0;(n=e(n))!==t;)i[++r]=n;return i}}();function _(...t){return Object.assign(B(),...t)}const tt=function(){const t=new WeakMap;let e=!1,s="",i=0;return function(n){return e=t.get(n),void 0===e&&(s=n.toString(),i=s.length,e=i>=29&&i<=100&&125===s.charCodeAt(i-1)&&s.charCodeAt(i-2)<=32&&93===s.charCodeAt(i-3)&&101===s.charCodeAt(i-4)&&100===s.charCodeAt(i-5)&&111===s.charCodeAt(i-6)&&99===s.charCodeAt(i-7)&&32===s.charCodeAt(i-8)&&101===s.charCodeAt(i-9)&&118===s.charCodeAt(i-10)&&105===s.charCodeAt(i-11)&&116===s.charCodeAt(i-12)&&97===s.charCodeAt(i-13)&&110===s.charCodeAt(i-14)&&88===s.charCodeAt(i-15),t.set(n,e)),e}}();function et(t,e){return t instanceof Promise?t.then(e):e(t)}function st(...t){let e,s,i,n=0,r=t.length;for(;n<r;++n)e=t[n],(e=t[n])instanceof Promise&&(void 0===s?s=e:void 0===i?i=[s,e]:i.push(e));return void 0===i?s:Promise.all(i)}const it="au:annotation",nt=(t,e)=>void 0===e?`${it}:${t}`:`${it}:${t}:${e}`,rt=(t,e)=>{const s=T(it,t);void 0===s?O(it,[e],t):s.push(e)},ot=Object.freeze({name:"au:annotation",appendTo:rt,set(t,e,s){O(nt(e),s,t)},get:(t,e)=>T(nt(e),t),getKeys(t){let e=T(it,t);return void 0===e&&O(it,e=[],t),e},isKey:t=>t.startsWith(it),keyFor:nt}),at="au:resource",lt=Object.freeze({name:at,appendTo(t,e){const s=T(at,t);void 0===s?O(at,[e],t):s.push(e)},has:t=>S(at,t),getAll(t){const e=T(at,t);return void 0===e?ie:e.map((e=>T(e,t)))},getKeys(t){let e=T(at,t);return void 0===e&&O(at,e=[],t),e},isKey:t=>t.startsWith(at),keyFor:(t,e)=>void 0===e?`${at}:${t}`:`${at}:${t}:${e}`}),ht={annotation:ot,resource:lt},ct=Object.prototype.hasOwnProperty;function ut(t,e,s,i){let n=T(nt(t),s);return void 0===n?(n=e[t],void 0===n?(n=s[t],void 0!==n&&ct.call(s,t)?n:i()):n):n}function dt(t,e,s){let i=T(nt(t),e);return void 0===i?(i=e[t],void 0!==i&&ct.call(e,t)?i:s()):i}function pt(t,e,s){const i=e[t];return void 0===i?s():i}E(Reflect,!1,!1);class ft{constructor(t,e){this.container=t,this.key=e}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,Zt(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,e){const{container:s,key:i}=this;return this.container=this.key=void 0,s.registerResolver(i,new qt(i,t,e))}}function gt(t){const e=t.slice(),s=Object.keys(t),i=s.length;let n;for(let r=0;r<i;++r)n=s[r],P(n)||(e[n]=t[n]);return e}const vt={none(t){throw Error(`AUR0002:${t.toString()}`)},singleton:t=>new qt(t,1,t),transient:t=>new qt(t,2,t)};class mt{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){var e,s;return void 0===t||t===mt.DEFAULT?mt.DEFAULT:new mt(null!==(e=t.inheritParentResources)&&void 0!==e&&e,null!==(s=t.defaultResolver)&&void 0!==s?s:vt.singleton)}}mt.DEFAULT=mt.from({});const bt={createContainer:t=>new Qt(null,mt.from(t)),getDesignParamtypes:t=>T("design:paramtypes",t),getAnnotationParamtypes(t){const e=nt("di:paramtypes");return T(e,t)},getOrCreateAnnotationParamTypes:yt,getDependencies:wt,createInterface(t,e){const s=I(t)?t:e,i=L(t)?t:void 0,n=function(t,e,s){if(null==t||void 0!==new.target)throw new Error(`AUR0001:${n.friendlyName}`);yt(t)[s]=n};return n.$isInterface=!0,n.friendlyName=null==i?"(anonymous)":i,null!=s&&(n.register=function(t,e){return s(new ft(t,null!=e?e:n))}),n.toString=function(){return`InterfaceSymbol<${n.friendlyName}>`},n},inject:(...t)=>function(e,s,i){if("number"==typeof i){const s=yt(e),n=t[0];void 0!==n&&(s[i]=n)}else if(s){const i=yt(e.constructor),n=t[0];void 0!==n&&(i[s]=n)}else if(i){const e=yt(i.value);let s;for(let i=0;i<t.length;++i)s=t[i],void 0!==s&&(e[i]=s)}else{const s=yt(e);let i;for(let e=0;e<t.length;++e)i=t[e],void 0!==i&&(s[e]=i)}},transient:t=>(t.register=function(e){return Jt.transient(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=Et)=>(t.register=function(e){return Jt.singleton(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)};function wt(t){const e=nt("di:dependencies");let s=T(e,t);if(void 0===s){const i=t.inject;if(void 0===i){const e=bt.getDesignParamtypes(t),i=bt.getAnnotationParamtypes(t);if(void 0===e)if(void 0===i){const e=Object.getPrototypeOf(t);s=I(e)&&e!==Function.prototype?gt(wt(e)):[]}else s=gt(i);else if(void 0===i)s=gt(e);else{s=gt(e);let t,n=i.length,r=0;for(;r<n;++r)t=i[r],void 0!==t&&(s[r]=t);const o=Object.keys(i);let a;for(r=0,n=o.length,r=0;r<n;++r)a=o[r],P(a)||(s[a]=i[a])}}else s=gt(i);O(e,s,t),rt(t,e)}return s}function yt(t){const e=nt("di:paramtypes");let s=T(e,t);return void 0===s&&(O(e,s=[],t),rt(t,e)),s}const xt=bt.createInterface("IContainer"),kt=xt;function Ct(t){return function(e){const s=function(t,e,i){bt.inject(s)(t,e,i)};return s.$isResolver=!0,s.resolve=function(s,i){return t(e,s,i)},s}}const $t=bt.inject;function At(t){return bt.transient(t)}function Rt(t){return null==t?At:At(t)}const Et={scoped:!1};function Tt(t){return I(t)?bt.singleton(t):function(e){return bt.singleton(e,t)}}const St=function(t){return function(e,s){s=!!s;const i=function(t,e,s){bt.inject(i)(t,e,s)};return i.$isResolver=!0,i.resolve=function(i,n){return t(e,i,n,s)},i}}(((t,e,s,i)=>s.getAll(t,i))),Ot=Ct(((t,e,s)=>()=>s.get(t))),It=Ct(((t,e,s)=>s.has(t,!0)?s.get(t):void 0));function Lt(t,e,s){bt.inject(Lt)(t,e,s)}Lt.$isResolver=!0,Lt.resolve=()=>{};const Bt=Ct(((t,e,s)=>(...i)=>e.getFactory(t).construct(s,i))),Mt=Ct(((t,e,s)=>{const i=Ut(t,e,s),n=new _t(String(t),i);return s.registerResolver(t,n,!0),i})),Pt=Ct(((t,e,s)=>Ut(t,e,s)));function Ut(t,e,s){return e.getFactory(t).construct(s)}var jt;!function(t){t[t.instance=0]="instance",t[t.singleton=1]="singleton",t[t.transient=2]="transient",t[t.callback=3]="callback",t[t.array=4]="array",t[t.alias=5]="alias"}(jt||(jt={}));class qt{constructor(t,e,s){this.key=t,this.strategy=e,this.state=s,this.resolving=!1}get $isResolver(){return!0}register(t,e){return t.registerResolver(e||this.key,this)}resolve(t,e){switch(this.strategy){case 0:return this.state;case 1:if(this.resolving)throw new Error(`AUR0003:${this.state.name}`);return this.resolving=!0,this.state=t.getFactory(this.state).construct(e),this.strategy=0,this.resolving=!1,this.state;case 2:{const s=t.getFactory(this.state);if(null===s)throw new Error(`AUR0004:${String(this.key)}`);return s.construct(e)}case 3:return this.state(t,e,this);case 4:return this.state[0].resolve(t,e);case 5:return e.get(this.state);default:throw new Error(`AUR0005:${this.strategy}`)}}getFactory(t){var e,s,i;switch(this.strategy){case 1:case 2:return t.getFactory(this.state);case 5:return null!==(i=null===(s=null===(e=t.getResolver(this.state))||void 0===e?void 0:e.getFactory)||void 0===s?void 0:s.call(e,t))&&void 0!==i?i:null;default:return null}}}function Ft(t){return this.get(t)}function Vt(t,e){return e(t)}class Dt{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){let s;return s=void 0===e?new this.Type(...this.dependencies.map(Ft,t)):new this.Type(...this.dependencies.map(Ft,t),...e),null==this.transformers?s:this.transformers.reduce(Vt,s)}registerTransformer(t){var e;(null!==(e=this.transformers)&&void 0!==e?e:this.transformers=[]).push(t)}}const Nt={$isResolver:!0,resolve:(t,e)=>e};function Ht(t){return I(t.register)}function zt(t){return function(t){return Ht(t)&&"boolean"==typeof t.registerInRequestor}(t)&&t.registerInRequestor}function Kt(t){return void 0!==t.prototype}const Wt=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]);let Gt=0;class Qt{constructor(t,e){this.parent=t,this.config=e,this.id=++Gt,this.t=0,this.i=new Map,null===t?(this.root=this,this.u=new Map,this.h=new Map,this.res=B()):(this.root=t.root,this.u=new Map,this.h=t.h,e.inheritParentResources?this.res=Object.assign(B(),t.res,this.root.res):this.res=B()),this.u.set(xt,Nt)}get depth(){return null===this.parent?0:this.parent.depth+1}register(...e){if(100==++this.t)throw new Error(`AUR0006:${e.map(String)}`);let s,i,n,r,o,a=0,l=e.length;for(;a<l;++a)if(s=e[a],t(s))if(Ht(s))s.register(this);else if(ht.resource.has(s)){const t=ht.resource.getAll(s);if(1===t.length)t[0].register(this);else for(r=0,o=t.length;o>r;)t[r].register(this),++r}else if(Kt(s))Jt.singleton(s,s).register(this);else for(i=Object.keys(s),r=0,o=i.length;r<o;++r)n=s[i[r]],t(n)&&(Ht(n)?n.register(this):this.register(n));return--this.t,this}registerResolver(t,e,s=!1){te(t);const i=this.u,n=i.get(t);if(null==n){if(i.set(t,e),function(t){return L(t)&&t.indexOf(":")>0}(t)){if(void 0!==this.res[t])throw new Error(`AUR0007:${t}`);this.res[t]=e}}else n instanceof qt&&4===n.strategy?n.state.push(e):i.set(t,new qt(t,4,[n,e]));return s&&this.i.set(t,e),e}registerTransformer(t,e){const s=this.getResolver(t);if(null==s)return!1;if(s.getFactory){const t=s.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(te(t),void 0!==t.resolve)return t;let s,i=this;for(;null!=i;){if(s=i.u.get(t),null!=s)return s;if(null==i.parent){const s=zt(t)?this:i;return e?this.R(t,s):null}i=i.parent}return null}has(t,e=!1){return!!this.u.has(t)||!(!e||null==this.parent)&&this.parent.has(t,!0)}get(t){if(te(t),t.$isResolver)return t.resolve(this,this);let e,s=this;for(;null!=s;){if(e=s.u.get(t),null!=e)return e.resolve(s,this);if(null==s.parent){const i=zt(t)?this:s;return e=this.R(t,i),e.resolve(s,this)}s=s.parent}throw new Error(`AUR0008:${String(t)}`)}getAll(t,e=!1){te(t);const s=this;let i,n=s;if(e){let e=ie;for(;null!=n;)i=n.u.get(t),null!=i&&(e=e.concat(ee(i,n,s))),n=n.parent;return e}for(;null!=n;){if(i=n.u.get(t),null!=i)return ee(i,n,s);if(n=n.parent,null==n)return ie}return ie}invoke(t,e){if(tt(t))throw se(t);return void 0===e?new t(...wt(t).map(Ft,this)):new t(...wt(t).map(Ft,this),...e)}getFactory(t){let e=this.h.get(t);if(void 0===e){if(tt(t))throw se(t);this.h.set(t,e=new Dt(t,wt(t)))}return e}registerFactory(t,e){this.h.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===mt.DEFAULT?new Qt(this,this.config):new Qt(this,mt.from({...this.config,inheritParentResources:!1})):new Qt(this,mt.from(null!=t?t:this.config))}disposeResolvers(){const t=this.u,e=this.i;let s,i;for([i,s]of e.entries())s.dispose(),t.delete(i);e.clear()}find(t,e){const s=t.keyFrom(e);let i=this.res[s];if(void 0===i&&(i=this.root.res[s],void 0===i))return null;if(null===i)return null;if(I(i.getFactory)){const e=i.getFactory(this);if(null==e)return null;const s=T(t.name,e.Type);return void 0===s?null:s}return null}create(t,e){var s,i;const n=t.keyFrom(e);let r=this.res[n];return void 0===r?(r=this.root.res[n],void 0===r?null:null!==(s=r.resolve(this.root,this))&&void 0!==s?s:null):null!==(i=r.resolve(this,this))&&void 0!==i?i:null}dispose(){this.i.size>0&&this.disposeResolvers(),this.u.clear()}R(t,e){if(!I(t))throw new Error(`AUR0009:${t}`);if(Wt.has(t.name))throw new Error(`AUR0010:${t.name}`);if(Ht(t)){const s=t.register(e,t);if(!(s instanceof Object)||null==s.resolve){const s=e.u.get(t);if(null!=s)return s;throw new Error("AUR0011")}return s}if(ht.resource.has(t)){const s=ht.resource.getAll(t);if(1===s.length)s[0].register(e);else{const t=s.length;for(let i=0;i<t;++i)s[i].register(e)}const i=e.u.get(t);if(null!=i)return i;throw new Error("AUR0011")}if(t.$isInterface)throw new Error(`AUR0012:${t.friendlyName}`);{const s=this.config.defaultResolver(t,e);return e.u.set(t,s),s}}}class Xt{constructor(t,e){this.key=t,this.params=e}register(t){if(t.has(this.key,!0)){t.get(this.key).register(t,...this.params)}else t.register(...this.params.filter((t=>"object"==typeof t)))}}const Yt=new WeakMap;function Zt(t){return function(e,s,i){let n=Yt.get(e);if(void 0===n&&Yt.set(e,n=new WeakMap),n.has(i))return n.get(i);const r=t(e,s,i);return n.set(i,r),r}}const Jt={instance:(t,e)=>new qt(t,0,e),singleton:(t,e)=>new qt(t,1,e),transient:(t,e)=>new qt(t,2,e),callback:(t,e)=>new qt(t,3,e),cachedCallback:(t,e)=>new qt(t,3,Zt(e)),aliasTo:(t,e)=>new qt(e,5,t),defer:(t,...e)=>new Xt(t,e)};class _t{constructor(t,e){this.C=null,this.$=t,void 0!==e&&(this.C=e)}get friendlyName(){return this.$}prepare(t){this.C=t}get $isResolver(){return!0}resolve(){if(null==this.C)throw new Error(`AUR0013:${this.$}`);return this.C}dispose(){this.C=null}}function te(t){if(null==t)throw new Error("AUR0014")}function ee(t,e,s){if(t instanceof qt&&4===t.strategy){const i=t.state;let n=i.length;const r=new Array(n);for(;n--;)r[n]=i[n].resolve(e,s);return r}return[t.resolve(e,s)]}function se(t){return new Error(`AUR0015:${t.name}`)}const ie=Object.freeze([]),ne=Object.freeze({});function re(){}const oe=bt.createInterface("IPlatform");function ae(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}function le(t,e){return function(s,i){e(s,i,t)}}var he,ce;!function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.fatal=5]="fatal",t[t.none=6]="none"}(he||(he={})),function(t){t[t.noColors=0]="noColors",t[t.colors=1]="colors"}(ce||(ce={}));const ue=bt.createInterface("ILogConfig",(t=>t.instance(new we(0,3)))),de=bt.createInterface("ISink"),pe=bt.createInterface("ILogEventFactory",(t=>t.singleton(Ce))),fe=bt.createInterface("ILogger",(t=>t.singleton(Ae))),ge=bt.createInterface("ILogScope"),ve=Object.freeze({key:nt("logger-sink-handles"),define(t,e){return O(this.key,e.handles,t.prototype),t},getHandles(t){return C.get(this.key,t)}});function me(t){return function(e){return ve.define(e,t)}}const be=_({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class we{constructor(t,e){this.colorOptions=t,this.level=e}}const ye=function(){const t=[_({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),_({TRC:be.grey("TRC"),DBG:be.grey("DBG"),INF:be.white("INF"),WRN:be.yellow("WRN"),ERR:be.red("ERR"),FTL:be.red("FTL"),QQQ:be.grey("???")})];return function(e,s){return e<=0?t[s].TRC:e<=1?t[s].DBG:e<=2?t[s].INF:e<=3?t[s].WRN:e<=4?t[s].ERR:e<=5?t[s].FTL:t[s].QQQ}}();function xe(t,e){return 0===e?new Date(t).toISOString():be.grey(new Date(t).toISOString())}class ke{constructor(t,e,s,i,n,r){this.severity=t,this.message=e,this.optionalParams=s,this.scope=i,this.colorOptions=n,this.timestamp=r}toString(){const{severity:t,message:e,scope:s,colorOptions:i,timestamp:n}=this;return 0===s.length?`${xe(n,i)} [${ye(t,i)}] ${e}`:`${xe(n,i)} [${ye(t,i)} ${function(t,e){return 0===e?t.join("."):t.map(be.cyan).join(".")}(s,i)}] ${e}`}}let Ce=class{constructor(t){this.config=t}createLogEvent(t,e,s,i){return new ke(e,s,i,t.scope,this.config.colorOptions,Date.now())}};Ce=ae([le(0,ue)],Ce);let $e=class t{constructor(t){const e=t.console;this.handleEvent=function(t){const s=t.optionalParams;if(void 0===s||0===s.length){const s=t.toString();switch(t.severity){case 0:case 1:return e.debug(s);case 2:return e.info(s);case 3:return e.warn(s);case 4:case 5:return e.error(s)}}else{let i=t.toString(),n=0;for(;i.includes("%s");)i=i.replace("%s",String(s[n++]));switch(t.severity){case 0:case 1:return e.debug(i,...s.slice(n));case 2:return e.info(i,...s.slice(n));case 3:return e.warn(i,...s.slice(n));case 4:case 5:return e.error(i,...s.slice(n))}}}}static register(e){Jt.singleton(de,t).register(e)}};$e=ae([le(0,oe)],$e);let Ae=class t{constructor(t,e,s,i=[],n=null){var r,o,a,l,h,c;let u,d,p,f,g,v;if(this.config=t,this.factory=e,this.scope=i,this.scopedLoggers=B(),null===n){this.root=this,this.parent=this,u=this.traceSinks=[],d=this.debugSinks=[],p=this.infoSinks=[],f=this.warnSinks=[],g=this.errorSinks=[],v=this.fatalSinks=[];for(const t of s){const e=ve.getHandles(t);(null===(r=null==e?void 0:e.includes(0))||void 0===r||r)&&u.push(t),(null===(o=null==e?void 0:e.includes(1))||void 0===o||o)&&d.push(t),(null===(a=null==e?void 0:e.includes(2))||void 0===a||a)&&p.push(t),(null===(l=null==e?void 0:e.includes(3))||void 0===l||l)&&f.push(t),(null===(h=null==e?void 0:e.includes(4))||void 0===h||h)&&g.push(t),(null===(c=null==e?void 0:e.includes(5))||void 0===c||c)&&v.push(t)}}else this.root=n.root,this.parent=n,u=this.traceSinks=n.traceSinks,d=this.debugSinks=n.debugSinks,p=this.infoSinks=n.infoSinks,f=this.warnSinks=n.warnSinks,g=this.errorSinks=n.errorSinks,v=this.fatalSinks=n.fatalSinks}trace(t,...e){this.config.level<=0&&this.emit(this.traceSinks,0,t,e)}debug(t,...e){this.config.level<=1&&this.emit(this.debugSinks,1,t,e)}info(t,...e){this.config.level<=2&&this.emit(this.infoSinks,2,t,e)}warn(t,...e){this.config.level<=3&&this.emit(this.warnSinks,3,t,e)}error(t,...e){this.config.level<=4&&this.emit(this.errorSinks,4,t,e)}fatal(t,...e){this.config.level<=5&&this.emit(this.fatalSinks,5,t,e)}scopeTo(e){const s=this.scopedLoggers;let i=s[e];return void 0===i&&(i=s[e]=new t(this.config,this.factory,void 0,this.scope.concat(e),this)),i}emit(t,e,s,i){const n=I(s)?s():s,r=this.factory.createLogEvent(this,e,n,i);for(let e=0,s=t.length;e<s;++e)t[e].handleEvent(r)}};ae([Q],Ae.prototype,"trace",null),ae([Q],Ae.prototype,"debug",null),ae([Q],Ae.prototype,"info",null),ae([Q],Ae.prototype,"warn",null),ae([Q],Ae.prototype,"error",null),ae([Q],Ae.prototype,"fatal",null),Ae=ae([le(0,ue),le(1,pe),le(2,St(de)),le(3,It(ge)),le(4,Lt)],Ae);const Re=_({create:({level:t=3,colorOptions:e=0,sinks:s=[]}={})=>_({register(i){i.register(Jt.instance(ue,new we(e,t)));for(const t of s)I(t)?i.register(Jt.singleton(de,t)):i.register(t);return i}})}),Ee=bt.createInterface((t=>t.singleton(Oe)));function Te(t){return t}class Se{constructor(t){this.$transform=t,this.A=new Map,this.j=new Map}transform(t){if(t instanceof Promise)return this.I(t);if("object"==typeof t&&null!==t)return this.O(t);throw new Error(`Invalid input: ${String(t)}. Expected Promise or Object.`)}I(t){if(this.A.has(t))return this.A.get(t);const e=t.then((t=>this.O(t)));return this.A.set(t,e),e.then((e=>{this.A.set(t,e)})),e}O(t){if(this.j.has(t))return this.j.get(t);const e=this.$transform(this.M(t));return this.j.set(t,e),e instanceof Promise&&e.then((e=>{this.j.set(t,e)})),e}M(t){let e,s,i,n;const r=[];for(const o in t){switch(typeof(e=t[o])){case"object":if(null===e)continue;s=I(e.register),i=!1,n=ie;break;case"function":s=I(e.register),i=void 0!==e.prototype,n=ht.resource.getAll(e);break;default:continue}r.push(new Le(o,e,s,i,n))}return new Ie(t,r)}}class Oe{constructor(){this.transformers=new Map}load(t,e=Te){const s=this.transformers;let i=s.get(e);return void 0===i&&s.set(e,i=new Se(e)),i.transform(t)}dispose(){this.transformers.clear()}}class Ie{constructor(t,e){this.raw=t,this.items=e}}class Le{constructor(t,e,s,i,n){this.key=t,this.value=e,this.isRegistry=s,this.isConstructable=i,this.definitions=n}}class Be{constructor(t,e){this.messageType=t,this.callback=e}handle(t){t instanceof this.messageType&&this.callback.call(null,t)}}const Me=bt.createInterface("IEventAggregator",(t=>t.singleton(Pe)));class Pe{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){if(!t)throw new Error(`Invalid channel name or instance: ${t}.`);if(L(t)){let s=this.eventLookup[t];if(void 0!==s){s=s.slice();let i=s.length;for(;i-- >0;)s[i](e,t)}}else{const e=this.messageHandlers.slice();let s=e.length;for(;s-- >0;)e[s].handle(t)}}subscribe(t,e){if(!t)throw new Error(`Invalid channel name or type: ${t}.`);let s,i;return L(t)?(void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]),s=e,i=this.eventLookup[t]):(s=new Be(t,e),i=this.messageHandlers),i.push(s),{dispose(){const t=i.indexOf(s);-1!==t&&i.splice(t,1)}}}subscribeOnce(t,e){const s=this.subscribe(t,(function(t,i){s.dispose(),e(t,i)}));return s}}const Ue=new Map;function je(t){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)}}class qe{constructor(t,e={}){var s,i,n,r,o,a,l,h,c,u,d,p,f;this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,this.decodeURI="decodeURI"in e?e.decodeURI:t.decodeURI,this.decodeURIComponent="decodeURIComponent"in e?e.decodeURIComponent:t.decodeURIComponent,this.encodeURI="encodeURI"in e?e.encodeURI:t.encodeURI,this.encodeURIComponent="encodeURIComponent"in e?e.encodeURIComponent:t.encodeURIComponent,this.Date="Date"in e?e.Date:t.Date,this.Reflect="Reflect"in e?e.Reflect:t.Reflect,this.clearInterval="clearInterval"in e?e.clearInterval:null!==(i=null===(s=t.clearInterval)||void 0===s?void 0:s.bind(t))&&void 0!==i?i:je("clearInterval"),this.clearTimeout="clearTimeout"in e?e.clearTimeout:null!==(r=null===(n=t.clearTimeout)||void 0===n?void 0:n.bind(t))&&void 0!==r?r:je("clearTimeout"),this.queueMicrotask="queueMicrotask"in e?e.queueMicrotask:null!==(a=null===(o=t.queueMicrotask)||void 0===o?void 0:o.bind(t))&&void 0!==a?a:je("queueMicrotask"),this.setInterval="setInterval"in e?e.setInterval:null!==(h=null===(l=t.setInterval)||void 0===l?void 0:l.bind(t))&&void 0!==h?h:je("setInterval"),this.setTimeout="setTimeout"in e?e.setTimeout:null!==(u=null===(c=t.setTimeout)||void 0===c?void 0:c.bind(t))&&void 0!==u?u:je("setTimeout"),this.console="console"in e?e.console:t.console,this.performanceNow="performanceNow"in e?e.performanceNow:null!==(f=null===(p=null===(d=t.performance)||void 0===d?void 0:d.now)||void 0===p?void 0:p.bind(t.performance))&&void 0!==f?f:je("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new Ve(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let s=Ue.get(t);return void 0===s&&Ue.set(t,s=new qe(t,e)),s}static set(t,e){Ue.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}function Fe(t){return t.persistent}class Ve{constructor(t,e,s){this.platform=t,this.$request=e,this.$cancel=s,this.t=void 0,this.i=0,this.processing=[],this.pending=[],this.delayed=[],this.flushRequested=!1,this.h=void 0,this.taskPool=[],this.u=0,this.T=0,this.$=0,this.I=()=>{this.flushRequested||(this.flushRequested=!0,this.T=this.platform.performanceNow(),this.$request())},this.M=new We(t.console)}get isEmpty(){return 0===this.i&&0===this.processing.length&&0===this.pending.length&&0===this.delayed.length}get P(){return 0===this.i&&this.processing.every(Fe)&&this.pending.every(Fe)&&this.delayed.every(Fe)}flush(t=this.platform.performanceNow()){if(this.flushRequested=!1,this.$=t,void 0===this.t){if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let e=-1;for(;++e<this.delayed.length&&this.delayed[e].queueTime<=t;);this.processing.push(...this.delayed.splice(0,e))}let e;for(;this.processing.length>0;)if((e=this.processing.shift()).run(),1===e.status){if(!0===e.suspend)return this.t=e,void this.I();++this.i}if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let e=-1;for(;++e<this.delayed.length&&this.delayed[e].queueTime<=t;);this.processing.push(...this.delayed.splice(0,e))}if((this.processing.length>0||this.delayed.length>0||this.i>0)&&this.I(),void 0!==this.h&&this.P){const t=this.h;this.h=void 0,t.resolve()}}else this.I()}cancel(){this.flushRequested&&(this.$cancel(),this.flushRequested=!1)}async yield(){this.isEmpty||(void 0===this.h&&(this.h=Ze()),await this.h)}queueTask(t,e){const{delay:s,preempt:i,persistent:n,reusable:r,suspend:o}={...Ge,...e};if(i){if(s>0)throw new Error("Invalid arguments: preempt cannot be combined with a greater-than-zero delay");if(n)throw new Error("Invalid arguments: preempt cannot be combined with persistent")}0===this.processing.length&&this.I();const a=this.platform.performanceNow();let l;if(r){const e=this.taskPool,h=this.u-1;h>=0?(l=e[h],e[h]=void 0,this.u=h,l.reuse(a,s,i,n,o,t)):l=new Ke(this.M,this,a,a+s,i,n,o,r,t)}else l=new Ke(this.M,this,a,a+s,i,n,o,r,t);return i?this.processing[this.processing.length]=l:0===s?this.pending[this.pending.length]=l:this.delayed[this.delayed.length]=l,l}remove(t){let e=this.processing.indexOf(t);if(e>-1)this.processing.splice(e,1);else if(e=this.pending.indexOf(t),e>-1)this.pending.splice(e,1);else{if(e=this.delayed.indexOf(t),!(e>-1))throw new Error(`Task #${t.id} could not be found`);this.delayed.splice(e,1)}}returnToPool(t){this.taskPool[this.u++]=t}resetPersistentTask(t){t.reset(this.platform.performanceNow()),t.createdTime===t.queueTime?this.pending[this.pending.length]=t:this.delayed[this.delayed.length]=t}completeAsyncTask(t){var e;if(!0===t.suspend){if(this.t!==t)throw new Error(`Async task completion mismatch: suspenderTask=${null===(e=this.t)||void 0===e?void 0:e.id}, task=${t.id}`);this.t=void 0}else--this.i;if(void 0!==this.h&&this.P){const t=this.h;this.h=void 0,t.resolve()}this.isEmpty&&this.cancel()}}class De extends Error{constructor(t){super("Task was canceled."),this.task=t}}let Ne=0;var He,ze;!function(t){t[t.pending=0]="pending",t[t.running=1]="running",t[t.completed=2]="completed",t[t.canceled=3]="canceled"}(He||(He={}));class Ke{constructor(t,e,s,i,n,r,o,a,l){this.taskQueue=e,this.createdTime=s,this.queueTime=i,this.preempt=n,this.persistent=r,this.suspend=o,this.reusable=a,this.callback=l,this.id=++Ne,this.R=void 0,this.A=void 0,this.q=void 0,this.C=0,this.M=t}get result(){const t=this.q;if(void 0===t)switch(this.C){case 0:{const t=this.q=Ze();return this.R=t.resolve,this.A=t.reject,t}case 1:throw new Error("Trying to await task from within task will cause a deadlock.");case 2:return this.q=Promise.resolve();case 3:return this.q=Promise.reject(new De(this))}return t}get status(){return this.C}run(t=this.taskQueue.platform.performanceNow()){if(0!==this.C)throw new Error(`Cannot run task in ${this.C} state`);const{persistent:e,reusable:s,taskQueue:i,callback:n,R:r,A:o,createdTime:a}=this;let l;this.C=1;try{l=n(t-a),l instanceof Promise?l.then((t=>{this.persistent?i.resetPersistentTask(this):(this.C=e?3:2,this.dispose()),i.completeAsyncTask(this),void 0!==r&&r(t),!this.persistent&&s&&i.returnToPool(this)})).catch((t=>{if(this.persistent||this.dispose(),i.completeAsyncTask(this),void 0===o)throw t;o(t)})):(this.persistent?i.resetPersistentTask(this):(this.C=e?3:2,this.dispose()),void 0!==r&&r(l),!this.persistent&&s&&i.returnToPool(this))}catch(t){if(this.persistent||this.dispose(),void 0===o)throw t;o(t)}}cancel(){if(0===this.C){const t=this.taskQueue,e=this.reusable,s=this.A;return t.remove(this),t.isEmpty&&t.cancel(),this.C=3,this.dispose(),e&&t.returnToPool(this),void 0!==s&&s(new De(this)),!0}return!(1!==this.C||!this.persistent)&&(this.persistent=!1,!0)}reset(t){const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this.C=0,this.R=void 0,this.A=void 0,this.q=void 0}reuse(t,e,s,i,n,r){this.createdTime=t,this.queueTime=t+e,this.preempt=s,this.persistent=i,this.suspend=n,this.callback=r,this.C=0}dispose(){this.callback=void 0,this.R=void 0,this.A=void 0,this.q=void 0}}class We{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,s){if(e instanceof Ve){const i=`processing=${e.processing.length} pending=${e.pending.length} delayed=${e.delayed.length} flushReq=${e.flushRequested} susTask=${!!e.t}`;this.console.log(`${t}[Q.${s}] ${i}`)}else{const i=e.id,n=Math.round(10*e.createdTime)/10,r=Math.round(10*e.queueTime)/10,o=e.preempt,a=e.reusable,l=e.persistent,h=e.suspend,c=function(t){switch(t){case 0:return"pending";case 1:return"running";case 3:return"canceled";case 2:return"completed"}}(e.C),u=`id=${i} created=${n} queue=${r} preempt=${o} persistent=${l} reusable=${a} status=${c} suspend=${h}`;this.console.log(`${t}[T.${s}] ${u}`)}}}!function(t){t[t.render=0]="render",t[t.macroTask=1]="macroTask",t[t.postRender=2]="postRender"}(ze||(ze={}));const Ge={delay:0,preempt:!1,persistent:!1,reusable:!0,suspend:!1};let Qe,Xe;function Ye(t,e){Qe=t,Xe=e}function Ze(){const t=new Promise(Ye);return t.resolve=Qe,t.reject=Xe,t}const Je=new Map;class _e extends qe{constructor(t,e={}){super(t,e),this.t=!1,this.i=-1,this.h=!1,this.u=-1,"Node,Element,HTMLElement,CustomEvent,CSSStyleSheet,ShadowRoot,MutationObserver,window,document,location,history,navigator,customElements".split(",").forEach((s=>{this[s]=s in e?e[s]:t[s]})),"fetch,requestAnimationFrame,cancelAnimationFrame".split(",").forEach((s=>{var i,n;this[s]=s in e?e[s]:null!==(n=null===(i=t[s])||void 0===i?void 0:i.bind(t))&&void 0!==n?n:function(t){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)}}(s)})),this.flushDomRead=this.flushDomRead.bind(this),this.flushDomWrite=this.flushDomWrite.bind(this),this.domReadQueue=new Ve(this,this.requestDomRead.bind(this),this.cancelDomRead.bind(this)),this.domWriteQueue=new Ve(this,this.requestDomWrite.bind(this),this.cancelDomWrite.bind(this))}static getOrCreate(t,e={}){let s=Je.get(t);return void 0===s&&Je.set(t,s=new _e(t,e)),s}static set(t,e){Je.set(t,e)}requestDomRead(){this.t=!0,-1===this.u&&(this.u=this.requestAnimationFrame(this.flushDomWrite))}cancelDomRead(){this.t=!1,this.i>-1&&(this.clearTimeout(this.i),this.i=-1),!1===this.h&&this.u>-1&&(this.cancelAnimationFrame(this.u),this.u=-1)}flushDomRead(){this.i=-1,!0===this.t&&(this.t=!1,this.domReadQueue.flush())}requestDomWrite(){this.h=!0,-1===this.u&&(this.u=this.requestAnimationFrame(this.flushDomWrite))}cancelDomWrite(){this.h=!1,this.u>-1&&(!1===this.t||this.i>-1)&&(this.cancelAnimationFrame(this.u),this.u=-1)}flushDomWrite(){this.u=-1,!0===this.h&&(this.h=!1,this.domWriteQueue.flush()),!0===this.t&&-1===this.i&&(this.i=this.setTimeout(this.flushDomRead,0))}}const ts=Object.prototype.hasOwnProperty,es=Reflect.defineProperty,ss=t=>"function"==typeof t,is=t=>"string"==typeof t;function ns(t,e,s){return es(t,e,{enumerable:!1,configurable:!0,writable:!0,value:s}),s}function rs(t,e,s,i=!1){!i&&ts.call(t,e)||ns(t,e,s)}const os=()=>Object.create(null),as=C.getOwn,ls=C.hasOwn,hs=C.define,cs=ht.annotation.keyFor,us=ht.resource.keyFor,ds=ht.resource.appendTo;function ps(...t){return function(e){const s=cs("aliases"),i=as(s,e);void 0===i?hs(s,t,e):i.push(...t)}}function fs(t,e,s,i){for(let n=0,r=t.length;n<r;++n)Jt.aliasTo(s,e.keyFrom(t[n])).register(i)}Object.freeze({});class gs{constructor(t,e){if(void 0!==t)if(void 0!==e)this[t]=e;else for(const e in t)ts.call(t,e)&&(this[e]=t[e])}static create(t,e){return new gs(t,e)}static get(t,e,s,i){var n,r;if(null==t)throw new Error(`AUR0203:${t}`);let o=t.overrideContext,a=t;if(s>0){for(;s>0;)if(s--,a=a.parentScope,null==(null==a?void 0:a.overrideContext))return;return o=a.overrideContext,e in o?o:o.bindingContext}for(;!((null==a?void 0:a.isBoundary)||null==o||e in o||o.bindingContext&&e in o.bindingContext);)a=null!==(n=a.parentScope)&&void 0!==n?n:null,o=null!==(r=null==a?void 0:a.overrideContext)&&void 0!==r?r:null;return o?e in o?o:o.bindingContext:t.bindingContext||t.overrideContext}}class vs{constructor(t,e,s,i){this.parentScope=t,this.bindingContext=e,this.overrideContext=s,this.isBoundary=i}static create(t,e,s){return new vs(null,t,null==e?ms.create(t):e,null!=s&&s)}static fromOverride(t){if(null==t)throw new Error(`AUR0204:${t}`);return new vs(null,t.bindingContext,t,!1)}static fromParent(t,e){if(null==t)throw new Error(`AUR0205:${t}`);return new vs(t,e,ms.create(e),!1)}}class ms{constructor(t){this.bindingContext=t}static create(t){return new ms(t)}}const bs=bt.createInterface("ISignaler",(t=>t.singleton(ws)));class ws{constructor(){this.signals=os()}dispatchSignal(t,e){const s=this.signals[t];if(void 0===s)return;let i;for(i of s.keys())i.handleChange(void 0,void 0,e)}addSignalListener(t,e){const s=this.signals,i=s[t];void 0===i?s[t]=new Set([e]):i.add(e)}removeSignalListener(t,e){const s=this.signals[t];s&&s.delete(e)}}var ys;function xs(t){return function(e){return Es.define(t,e)}}!function(t){t[t.singleton=1]="singleton",t[t.interceptor=2]="interceptor"}(ys||(ys={}));class ks{constructor(t,e,s,i,n){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.strategy=n}static create(t,e){let s,i;is(t)?(s=t,i={name:s}):(s=t.name,i=t);const n=Object.getPrototypeOf(e)===$s;return new ks(e,Z(Rs(e,"name"),s),X(Rs(e,"aliases"),i.aliases,e.aliases),Es.keyFrom(s),ut("strategy",i,e,(()=>n?2:1)))}register(t){const{Type:e,key:s,aliases:i,strategy:n}=this;switch(n){case 1:Jt.singleton(s,e).register(t);break;case 2:Jt.instance(s,new Cs(t,e)).register(t)}Jt.aliasTo(s,e).register(t),fs(i,Es,s,t)}}class Cs{constructor(t,e){this.ctn=t,this.Type=e,this.deps=bt.getDependencies(e)}construct(t,e){const s=this.ctn,i=this.deps;switch(i.length){case 0:return new this.Type(t,e);case 1:return new this.Type(s.get(i[0]),t,e);case 2:return new this.Type(s.get(i[0]),s.get(i[1]),t,e);default:return new this.Type(...i.map((t=>s.get(t))),t,e)}}}class $s{constructor(t,e){let s;for(this.binding=t,this.expr=e,this.interceptor=this;t.interceptor!==this;)s=t.interceptor,t.interceptor=this,t=s}updateTarget(t,e){this.binding.updateTarget(t,e)}updateSource(t,e){this.binding.updateSource(t,e)}callSource(t){return this.binding.callSource(t)}handleChange(t,e,s){this.binding.handleChange(t,e,s)}handleCollectionChange(t,e){this.binding.handleCollectionChange(t,e)}observe(t,e){this.binding.observe(t,e)}observeCollection(t){this.binding.observeCollection(t)}$bind(t,e){this.binding.$bind(t,e)}$unbind(t){this.binding.$unbind(t)}}["isBound","$scope","obs","sourceExpression","locator","oL"].forEach((t=>{es($s.prototype,t,{enumerable:!1,configurable:!0,get:function(){return this.binding[t]}})}));const As=us("binding-behavior"),Rs=(t,e)=>as(cs(e),t),Es=Object.freeze({name:As,keyFrom:t=>`${As}:${t}`,isType:t=>ss(t)&&ls(As,t),define(t,e){const s=ks.create(t,e);return hs(As,s,s.Type),hs(As,s,s),ds(e,As),s.Type},getDefinition(t){const e=as(As,t);if(void 0===e)throw new Error(`AUR0151:${t.name}`);return e},annotate(t,e,s){hs(cs(e),s,t)},getAnnotation:Rs});function Ts(t){return function(e){return Ls.define(t,e)}}class Ss{constructor(t,e,s,i){this.Type=t,this.name=e,this.aliases=s,this.key=i}static create(t,e){let s,i;return is(t)?(s=t,i={name:s}):(s=t.name,i=t),new Ss(e,Z(Is(e,"name"),s),X(Is(e,"aliases"),i.aliases,e.aliases),Ls.keyFrom(s))}register(t){const{Type:e,key:s,aliases:i}=this;Jt.singleton(s,e).register(t),Jt.aliasTo(s,e).register(t),fs(i,Ls,s,t)}}const Os=us("value-converter"),Is=(t,e)=>as(cs(e),t),Ls=Object.freeze({name:Os,keyFrom:t=>`${Os}:${t}`,isType:t=>ss(t)&&ls(Os,t),define(t,e){const s=Ss.create(t,e);return hs(Os,s,s.Type),hs(Os,s,s),ds(e,Os),s.Type},getDefinition(t){const e=as(Os,t);if(void 0===e)throw new Error(`AUR0152:${t.name}`);return e},annotate(t,e,s){hs(cs(e),s,t)},getAnnotation:Is});var Bs;!function(t){t[t.CallsFunction=128]="CallsFunction",t[t.HasAncestor=256]="HasAncestor",t[t.IsPrimary=512]="IsPrimary",t[t.IsLeftHandSide=1024]="IsLeftHandSide",t[t.HasBind=2048]="HasBind",t[t.HasUnbind=4096]="HasUnbind",t[t.IsAssignable=8192]="IsAssignable",t[t.IsLiteral=16384]="IsLiteral",t[t.IsResource=32768]="IsResource",t[t.IsForDeclaration=65536]="IsForDeclaration",t[t.Type=31]="Type",t[t.AccessThis=1793]="AccessThis",t[t.AccessScope=10082]="AccessScope",t[t.ArrayLiteral=17955]="ArrayLiteral",t[t.ObjectLiteral=17956]="ObjectLiteral",t[t.PrimitiveLiteral=17925]="PrimitiveLiteral",t[t.Template=17958]="Template",t[t.Unary=39]="Unary",t[t.CallScope=1448]="CallScope",t[t.CallMember=1161]="CallMember",t[t.CallFunction=1162]="CallFunction",t[t.AccessMember=9323]="AccessMember",t[t.AccessKeyed=9324]="AccessKeyed",t[t.TaggedTemplate=1197]="TaggedTemplate",t[t.Binary=46]="Binary",t[t.Conditional=63]="Conditional",t[t.Assign=8208]="Assign",t[t.ValueConverter=36913]="ValueConverter",t[t.BindingBehavior=38962]="BindingBehavior",t[t.HtmlLiteral=51]="HtmlLiteral",t[t.ArrayBindingPattern=65556]="ArrayBindingPattern",t[t.ObjectBindingPattern=65557]="ObjectBindingPattern",t[t.BindingIdentifier=65558]="BindingIdentifier",t[t.ForOfStatement=6199]="ForOfStatement",t[t.Interpolation=24]="Interpolation",t[t.ArrayDestructuring=90137]="ArrayDestructuring",t[t.ObjectDestructuring=106521]="ObjectDestructuring",t[t.DestructuringAssignmentLeaf=139289]="DestructuringAssignmentLeaf"}(Bs||(Bs={}));class Ms{constructor(){this.text=""}static unparse(t){const e=new Ms;return t.accept(e),e.text}visitAccessMember(t){t.object.accept(this),this.text+=`.${t.name}`}visitAccessKeyed(t){t.object.accept(this),this.text+="[",t.key.accept(this),this.text+="]"}visitAccessThis(t){if(0===t.ancestor)return void(this.text+="$this");this.text+="$parent";let e=t.ancestor-1;for(;e--;)this.text+=".$parent"}visitAccessScope(t){let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name}visitArrayLiteral(t){const e=t.elements;this.text+="[";for(let t=0,s=e.length;t<s;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+="]"}visitObjectLiteral(t){const e=t.keys,s=t.values;this.text+="{";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,s[t].accept(this);this.text+="}"}visitPrimitiveLiteral(t){if(this.text+="(",is(t.value)){const e=t.value.replace(/'/g,"\\'");this.text+=`'${e}'`}else this.text+=`${t.value}`;this.text+=")"}visitCallFunction(t){this.text+="(",t.func.accept(this),this.writeArgs(t.args),this.text+=")"}visitCallMember(t){this.text+="(",t.object.accept(this),this.text+=`.${t.name}`,this.writeArgs(t.args),this.text+=")"}visitCallScope(t){this.text+="(";let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name,this.writeArgs(t.args),this.text+=")"}visitTemplate(t){const{cooked:e,expressions:s}=t,i=s.length;this.text+="`",this.text+=e[0];for(let t=0;t<i;t++)s[t].accept(this),this.text+=e[t+1];this.text+="`"}visitTaggedTemplate(t){const{cooked:e,expressions:s}=t,i=s.length;t.func.accept(this),this.text+="`",this.text+=e[0];for(let t=0;t<i;t++)s[t].accept(this),this.text+=e[t+1];this.text+="`"}visitUnary(t){this.text+=`(${t.operation}`,t.operation.charCodeAt(0)>=97&&(this.text+=" "),t.expression.accept(this),this.text+=")"}visitBinary(t){this.text+="(",t.left.accept(this),105===t.operation.charCodeAt(0)?this.text+=` ${t.operation} `:this.text+=t.operation,t.right.accept(this),this.text+=")"}visitConditional(t){this.text+="(",t.condition.accept(this),this.text+="?",t.yes.accept(this),this.text+=":",t.no.accept(this),this.text+=")"}visitAssign(t){this.text+="(",t.target.accept(this),this.text+="=",t.value.accept(this),this.text+=")"}visitValueConverter(t){const e=t.args;t.expression.accept(this),this.text+=`|${t.name}`;for(let t=0,s=e.length;t<s;++t)this.text+=":",e[t].accept(this)}visitBindingBehavior(t){const e=t.args;t.expression.accept(this),this.text+=`&${t.name}`;for(let t=0,s=e.length;t<s;++t)this.text+=":",e[t].accept(this)}visitArrayBindingPattern(t){const e=t.elements;this.text+="[";for(let t=0,s=e.length;t<s;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+="]"}visitObjectBindingPattern(t){const e=t.keys,s=t.values;this.text+="{";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,s[t].accept(this);this.text+="}"}visitBindingIdentifier(t){this.text+=t.name}visitHtmlLiteral(t){throw new Error("visitHtmlLiteral")}visitForOfStatement(t){t.declaration.accept(this),this.text+=" of ",t.iterable.accept(this)}visitInterpolation(t){const{parts:e,expressions:s}=t,i=s.length;this.text+="${",this.text+=e[0];for(let t=0;t<i;t++)s[t].accept(this),this.text+=e[t+1];this.text+="}"}visitDestructuringAssignmentExpression(t){const e=106521===t.$kind;this.text+=e?"{":"[";const s=t.list,i=s.length;let n,r;for(n=0;n<i;n++)switch(r=s[n],r.$kind){case 139289:r.accept(this);break;case 90137:case 106521:{const t=r.source;t&&(t.accept(this),this.text+=":"),r.accept(this);break}}this.text+=e?"}":"]"}visitDestructuringAssignmentSingleExpression(t){t.source.accept(this),this.text+=":",t.target.accept(this);const e=t.initializer;void 0!==e&&(this.text+="=",e.accept(this))}visitDestructuringAssignmentRestExpression(t){this.text+="...",t.accept(this)}writeArgs(t){this.text+="(";for(let e=0,s=t.length;e<s;++e)0!==e&&(this.text+=","),t[e].accept(this);this.text+=")"}}class Ps{constructor(t){this.value=t}evaluate(t,e,s,i){return this.value}}class Us{constructor(t,e,s){this.expression=t,this.name=e,this.args=s,this.behaviorKey=Es.keyFrom(e)}get $kind(){return 38962}get hasBind(){return!0}get hasUnbind(){return!0}evaluate(t,e,s,i){return this.expression.evaluate(t,e,s,i)}assign(t,e,s,i){return this.expression.assign(t,e,s,i)}bind(t,e,s){this.expression.hasBind&&this.expression.bind(t,e,s);const i=s.locator.get(this.behaviorKey);if(null==i)throw new Error(`AUR0101:${this.name}`);if(!(i instanceof Cs)){if(void 0!==s[this.behaviorKey])throw new Error(`AUR0102:${this.name}`);s[this.behaviorKey]=i,i.bind.call(i,t,e,s,...this.args.map((i=>i.evaluate(t,e,s.locator,null))))}}unbind(t,e,s){const i=this.behaviorKey,n=s;void 0!==n[i]&&(ss(n[i].unbind)&&n[i].unbind(t,e,s),n[i]=void 0),this.expression.hasUnbind&&this.expression.unbind(t,e,s)}accept(t){return t.visitBindingBehavior(this)}toString(){return Ms.unparse(this)}}class js{constructor(t,e,s){this.expression=t,this.name=e,this.args=s,this.converterKey=Ls.keyFrom(e)}get $kind(){return 36913}get hasBind(){return!1}get hasUnbind(){return!0}evaluate(t,e,s,i){const n=s.get(this.converterKey);if(null==n)throw new Error(`AUR0103:${this.name}`);if(null!==i&&"handleChange"in i){const t=n.signals;if(null!=t){const e=s.get(bs);for(let s=0,n=t.length;s<n;++s)e.addSignalListener(t[s],i)}}return"toView"in n?n.toView(this.expression.evaluate(t,e,s,i),...this.args.map((n=>n.evaluate(t,e,s,i)))):this.expression.evaluate(t,e,s,i)}assign(t,e,s,i){const n=s.get(this.converterKey);if(null==n)throw new Error(`AUR0104:${this.name}`);return"fromView"in n&&(i=n.fromView(i,...this.args.map((i=>i.evaluate(t,e,s,null))))),this.expression.assign(t,e,s,i)}unbind(t,e,s){const i=s.locator.get(this.converterKey);if(void 0===i.signals)return;const n=s.locator.get(bs);for(let t=0;t<i.signals.length;++t)n.removeSignalListener(i.signals[t],s)}accept(t){return t.visitValueConverter(this)}toString(){return Ms.unparse(this)}}class qs{constructor(t,e){this.target=t,this.value=e}get $kind(){return 8208}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){return this.target.assign(t,e,s,this.value.evaluate(t,e,s,i))}assign(t,e,s,i){return this.value.assign(t,e,s,i),this.target.assign(t,e,s,i)}accept(t){return t.visitAssign(this)}toString(){return Ms.unparse(this)}}class Fs{constructor(t,e,s){this.condition=t,this.yes=e,this.no=s}get $kind(){return 63}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){return this.condition.evaluate(t,e,s,i)?this.yes.evaluate(t,e,s,i):this.no.evaluate(t,e,s,i)}assign(t,e,s,i){}accept(t){return t.visitConditional(this)}toString(){return Ms.unparse(this)}}class Vs{constructor(t=0){this.ancestor=t}get $kind(){return 1793}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){var n;let r=e.overrideContext,o=e,a=this.ancestor;for(;a--&&r;)o=o.parentScope,r=null!==(n=null==o?void 0:o.overrideContext)&&void 0!==n?n:null;return a<1&&r?r.bindingContext:void 0}assign(t,e,s,i){}accept(t){return t.visitAccessThis(this)}toString(){return Ms.unparse(this)}}Vs.$this=new Vs(0),Vs.$parent=new Vs(1);class Ds{constructor(t,e=0){this.name=t,this.ancestor=e}get $kind(){return 10082}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){const n=gs.get(e,this.name,this.ancestor,t);null!==i&&i.observe(n,this.name);const r=n[this.name];if(null==r&&"$host"===this.name)throw new Error("AUR0105");return 1&t?r:null==r?"":r}assign(t,e,s,i){var n;if("$host"===this.name)throw new Error("AUR0106");const r=gs.get(e,this.name,this.ancestor,t);if(r instanceof Object)return void 0!==(null===(n=r.$observers)||void 0===n?void 0:n[this.name])?(r.$observers[this.name].setValue(i,t),i):r[this.name]=i}accept(t){return t.visitAccessScope(this)}toString(){return Ms.unparse(this)}}class Ns{constructor(t,e){this.object=t,this.name=e}get $kind(){return 9323}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){const n=this.object.evaluate(t,e,s,(32&t)>0?null:i);return 1&t?null==n?n:(null!==i&&i.observe(n,this.name),n[this.name]):(null!==i&&n instanceof Object&&i.observe(n,this.name),n?n[this.name]:"")}assign(t,e,s,i){const n=this.object.evaluate(t,e,s,null);return n instanceof Object?void 0!==n.$observers&&void 0!==n.$observers[this.name]?n.$observers[this.name].setValue(i,t):n[this.name]=i:this.object.assign(t,e,s,{[this.name]:i}),i}accept(t){return t.visitAccessMember(this)}toString(){return Ms.unparse(this)}}class Hs{constructor(t,e){this.object=t,this.key=e}get $kind(){return 9324}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){const n=this.object.evaluate(t,e,s,(32&t)>0?null:i);if(n instanceof Object){const r=this.key.evaluate(t,e,s,(32&t)>0?null:i);return null!==i&&i.observe(n,r),n[r]}}assign(t,e,s,i){return this.object.evaluate(t,e,s,null)[this.key.evaluate(t,e,s,null)]=i}accept(t){return t.visitAccessKeyed(this)}toString(){return Ms.unparse(this)}}class zs{constructor(t,e,s=0){this.name=t,this.args=e,this.ancestor=s}get $kind(){return 1448}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){const n=this.args.map((n=>n.evaluate(t,e,s,i))),r=gs.get(e,this.name,this.ancestor,t),o=ci(t,r,this.name);if(o)return o.apply(r,n)}assign(t,e,s,i){}accept(t){return t.visitCallScope(this)}toString(){return Ms.unparse(this)}}class Ks{constructor(t,e,s){this.object=t,this.name=e,this.args=s}get $kind(){return 1161}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){const n=this.object.evaluate(t,e,s,(32&t)>0?null:i),r=this.args.map((n=>n.evaluate(t,e,s,i))),o=ci(t,n,this.name);if(o)return o.apply(n,r)}assign(t,e,s,i){}accept(t){return t.visitCallMember(this)}toString(){return Ms.unparse(this)}}class Ws{constructor(t,e){this.func=t,this.args=e}get $kind(){return 1162}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){const n=this.func.evaluate(t,e,s,i);if(ss(n))return n(...this.args.map((n=>n.evaluate(t,e,s,i))));if(8&t||null!=n)throw new Error("AUR0107")}assign(t,e,s,i){}accept(t){return t.visitCallFunction(this)}toString(){return Ms.unparse(this)}}class Gs{constructor(t,e,s){this.operation=t,this.left=e,this.right=s}get $kind(){return 46}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){switch(this.operation){case"&&":return this.left.evaluate(t,e,s,i)&&this.right.evaluate(t,e,s,i);case"||":return this.left.evaluate(t,e,s,i)||this.right.evaluate(t,e,s,i);case"==":return this.left.evaluate(t,e,s,i)==this.right.evaluate(t,e,s,i);case"===":return this.left.evaluate(t,e,s,i)===this.right.evaluate(t,e,s,i);case"!=":return this.left.evaluate(t,e,s,i)!=this.right.evaluate(t,e,s,i);case"!==":return this.left.evaluate(t,e,s,i)!==this.right.evaluate(t,e,s,i);case"instanceof":{const n=this.right.evaluate(t,e,s,i);return!!ss(n)&&this.left.evaluate(t,e,s,i)instanceof n}case"in":{const n=this.right.evaluate(t,e,s,i);return n instanceof Object&&this.left.evaluate(t,e,s,i)in n}case"+":{const n=this.left.evaluate(t,e,s,i),r=this.right.evaluate(t,e,s,i);if((1&t)>0)return n+r;if(!n||!r){if(U(n)||U(r))return(n||0)+(r||0);if(j(n)||j(r))return(n||"")+(r||"")}return n+r}case"-":return this.left.evaluate(t,e,s,i)-this.right.evaluate(t,e,s,i);case"*":return this.left.evaluate(t,e,s,i)*this.right.evaluate(t,e,s,i);case"/":return this.left.evaluate(t,e,s,i)/this.right.evaluate(t,e,s,i);case"%":return this.left.evaluate(t,e,s,i)%this.right.evaluate(t,e,s,i);case"<":return this.left.evaluate(t,e,s,i)<this.right.evaluate(t,e,s,i);case">":return this.left.evaluate(t,e,s,i)>this.right.evaluate(t,e,s,i);case"<=":return this.left.evaluate(t,e,s,i)<=this.right.evaluate(t,e,s,i);case">=":return this.left.evaluate(t,e,s,i)>=this.right.evaluate(t,e,s,i);default:throw new Error(`AUR0108:${this.operation}`)}}assign(t,e,s,i){}accept(t){return t.visitBinary(this)}toString(){return Ms.unparse(this)}}class Qs{constructor(t,e){this.operation=t,this.expression=e}get $kind(){return 39}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){switch(this.operation){case"void":return void this.expression.evaluate(t,e,s,i);case"typeof":return typeof this.expression.evaluate(1|t,e,s,i);case"!":return!this.expression.evaluate(t,e,s,i);case"-":return-this.expression.evaluate(t,e,s,i);case"+":return+this.expression.evaluate(t,e,s,i);default:throw new Error(`AUR0109:${this.operation}`)}}assign(t,e,s,i){}accept(t){return t.visitUnary(this)}toString(){return Ms.unparse(this)}}class Xs{constructor(t){this.value=t}get $kind(){return 17925}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){return this.value}assign(t,e,s,i){}accept(t){return t.visitPrimitiveLiteral(this)}toString(){return Ms.unparse(this)}}Xs.$undefined=new Xs(void 0),Xs.$null=new Xs(null),Xs.$true=new Xs(!0),Xs.$false=new Xs(!1),Xs.$empty=new Xs("");class Ys{constructor(t){this.parts=t}get $kind(){return 51}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){let n="";for(let r=0;r<this.parts.length;++r){const o=this.parts[r].evaluate(t,e,s,i);null!=o&&(n+=o)}return n}assign(t,e,s,i,n){}accept(t){return t.visitHtmlLiteral(this)}toString(){return Ms.unparse(this)}}class Zs{constructor(t){this.elements=t}get $kind(){return 17955}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){return this.elements.map((n=>n.evaluate(t,e,s,i)))}assign(t,e,s,i){}accept(t){return t.visitArrayLiteral(this)}toString(){return Ms.unparse(this)}}Zs.$empty=new Zs(ie);class Js{constructor(t,e){this.keys=t,this.values=e}get $kind(){return 17956}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){const n={};for(let r=0;r<this.keys.length;++r)n[this.keys[r]]=this.values[r].evaluate(t,e,s,i);return n}assign(t,e,s,i){}accept(t){return t.visitObjectLiteral(this)}toString(){return Ms.unparse(this)}}Js.$empty=new Js(ie,ie);class _s{constructor(t,e=ie){this.cooked=t,this.expressions=e}get $kind(){return 17958}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){let n=this.cooked[0];for(let r=0;r<this.expressions.length;++r)n+=String(this.expressions[r].evaluate(t,e,s,i)),n+=this.cooked[r+1];return n}assign(t,e,s,i){}accept(t){return t.visitTemplate(this)}toString(){return Ms.unparse(this)}}_s.$empty=new _s([""]);class ti{constructor(t,e,s,i=ie){this.cooked=t,this.func=s,this.expressions=i,t.raw=e}get $kind(){return 1197}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){const n=this.expressions.map((n=>n.evaluate(t,e,s,i))),r=this.func.evaluate(t,e,s,i);if(!ss(r))throw new Error("AUR0110");return r(this.cooked,...n)}assign(t,e,s,i){}accept(t){return t.visitTaggedTemplate(this)}toString(){return Ms.unparse(this)}}class ei{constructor(t){this.elements=t}get $kind(){return 65556}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){}assign(t,e,s,i){}accept(t){return t.visitArrayBindingPattern(this)}toString(){return Ms.unparse(this)}}class si{constructor(t,e){this.keys=t,this.values=e}get $kind(){return 65557}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){}assign(t,e,s,i){}accept(t){return t.visitObjectBindingPattern(this)}toString(){return Ms.unparse(this)}}class ii{constructor(t){this.name=t}get $kind(){return 65558}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){return this.name}accept(t){return t.visitBindingIdentifier(this)}toString(){return Ms.unparse(this)}}const ni=Object.prototype.toString;class ri{constructor(t,e){this.declaration=t,this.iterable=e}get $kind(){return 6199}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){return this.iterable.evaluate(t,e,s,i)}assign(t,e,s,i){}count(t,e){switch(ni.call(e)){case"[object Array]":return e.length;case"[object Map]":case"[object Set]":return e.size;case"[object Number]":return e;case"[object Null]":case"[object Undefined]":return 0;default:throw new Error(`Cannot count ${ni.call(e)}`)}}iterate(t,e,s){switch(ni.call(e)){case"[object Array]":return ui(e,s);case"[object Map]":return function(t,e){const s=Array(t.size);let i=-1;for(const e of t.entries())s[++i]=e;ui(s,e)}(e,s);case"[object Set]":return function(t,e){const s=Array(t.size);let i=-1;for(const e of t.keys())s[++i]=e;ui(s,e)}(e,s);case"[object Number]":return function(t,e){const s=Array(t);for(let e=0;e<t;++e)s[e]=e;ui(s,e)}(e,s);case"[object Null]":case"[object Undefined]":return;default:throw new Error(`Cannot iterate over ${ni.call(e)}`)}}bind(t,e,s){this.iterable.hasBind&&this.iterable.bind(t,e,s)}unbind(t,e,s){this.iterable.hasUnbind&&this.iterable.unbind(t,e,s)}accept(t){return t.visitForOfStatement(this)}toString(){return Ms.unparse(this)}}class oi{constructor(t,e=ie){this.parts=t,this.expressions=e,this.isMulti=e.length>1,this.firstExpression=e[0]}get $kind(){return 24}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){if(this.isMulti){let n=this.parts[0];for(let r=0;r<this.expressions.length;++r)n+=String(this.expressions[r].evaluate(t,e,s,i)),n+=this.parts[r+1];return n}return`${this.parts[0]}${this.firstExpression.evaluate(t,e,s,i)}${this.parts[1]}`}assign(t,e,s,i){}accept(t){return t.visitInterpolation(this)}toString(){return Ms.unparse(this)}}class ai{constructor(t,e,s,i){this.$kind=t,this.list=e,this.source=s,this.initializer=i}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,s,i){}assign(t,e,s,i){var n;const r=this.list,o=r.length;let a,l;for(a=0;a<o;a++)switch(l=r[a],l.$kind){case 139289:l.assign(t,e,s,i);break;case 90137:case 106521:{if("object"!=typeof i||null===i)throw new Error("AUR0112");let r=l.source.evaluate(t,vs.create(i),s,null);void 0===r&&(r=null===(n=l.initializer)||void 0===n?void 0:n.evaluate(t,e,s,null)),l.assign(t,e,s,r);break}}}accept(t){return t.visitDestructuringAssignmentExpression(this)}toString(){return Ms.unparse(this)}}class li{constructor(t,e,s){this.target=t,this.source=e,this.initializer=s}get $kind(){return 139289}evaluate(t,e,s,i){}assign(t,e,s,i){var n;if(null==i)return;if("object"!=typeof i)throw new Error("AUR0112");let r=this.source.evaluate(t,vs.create(i),s,null);void 0===r&&(r=null===(n=this.initializer)||void 0===n?void 0:n.evaluate(t,e,s,null)),this.target.assign(t,e,s,r)}accept(t){return t.visitDestructuringAssignmentSingleExpression(this)}toString(){return Ms.unparse(this)}}class hi{constructor(t,e){this.target=t,this.indexOrProperties=e}get $kind(){return 139289}evaluate(t,e,s,i){}assign(t,e,s,i){if(null==i)return;if("object"!=typeof i)throw new Error("AUR0112");const n=this.indexOrProperties;let r;if(P(n)){if(!Array.isArray(i))throw new Error("AUR0112");r=i.slice(n)}else r=Object.entries(i).reduce(((t,[e,s])=>(n.includes(e)||(t[e]=s),t)),{});this.target.assign(t,e,s,r)}accept(t){return t.visitDestructuringAssignmentRestExpression(this)}toString(){return Ms.unparse(this)}}function ci(t,e,s){const i=null==e?null:e[s];if(ss(i))return i;if(!(8&t)&&null==i)return null;throw new Error(`AUR0111:${s}`)}function ui(t,e){for(let s=0,i=t.length;s<i;++s)e(t,s,t[s])}const di=bt.createInterface("ICoercionConfiguration");var pi,fi,gi,vi,mi,bi;function wi(t,e){const{length:s}=t,i=Array(s);let n=0;for(;n<s;)i[n]=t[n],++n;return void 0!==e?i.deletedItems=e.slice(0):void 0!==t.deletedItems?i.deletedItems=t.deletedItems.slice(0):i.deletedItems=[],i.isIndexMap=!0,i}function yi(t=0){const e=Array(t);let s=0;for(;s<t;)e[s]=s++;return e.deletedItems=[],e.isIndexMap=!0,e}function xi(t){const e=t.slice();return e.deletedItems=t.deletedItems.slice(),e.isIndexMap=!0,e}function ki(t){return t instanceof Array&&!0===t.isIndexMap}function Ci(t){return null==t?$i:$i(t)}function $i(t){const e=t.prototype;es(e,"subs",{get:Ri}),rs(e,"subscribe",Ei),rs(e,"unsubscribe",Ti)}!function(t){t[t.oneTime=1]="oneTime",t[t.toView=2]="toView",t[t.fromView=4]="fromView",t[t.twoWay=6]="twoWay",t[t.default=8]="default"}(pi||(pi={})),function(t){t[t.none=0]="none",t[t.persistentBindingFlags=97]="persistentBindingFlags",t[t.observeLeafPropertiesOnly=32]="observeLeafPropertiesOnly",t[t.noFlush=64]="noFlush",t[t.bindingStrategy=1]="bindingStrategy",t[t.isStrictBindingStrategy=1]="isStrictBindingStrategy",t[t.fromBind=2]="fromBind",t[t.fromUnbind=4]="fromUnbind",t[t.mustEvaluate=8]="mustEvaluate",t[t.dispose=16]="dispose"}(fi||(fi={})),function(t){t[t.None=0]="None",t[t.Subscriber0=1]="Subscriber0",t[t.Subscriber1=2]="Subscriber1",t[t.Subscriber2=4]="Subscriber2",t[t.SubscribersRest=8]="SubscribersRest",t[t.Any=15]="Any"}(gi||(gi={})),function(t){t[t.none=0]="none",t[t.capturing=1]="capturing",t[t.bubbling=2]="bubbling"}(vi||(vi={})),function(t){t[t.indexed=8]="indexed",t[t.keyed=4]="keyed",t[t.array=9]="array",t[t.map=6]="map",t[t.set=7]="set"}(mi||(mi={})),function(t){t[t.None=0]="None",t[t.Observer=1]="Observer",t[t.Node=2]="Node",t[t.Layout=4]="Layout",t[t.Primtive=8]="Primtive",t[t.Array=18]="Array",t[t.Set=34]="Set",t[t.Map=66]="Map"}(bi||(bi={}));class Ai{constructor(){this.sf=0,this.count=0}add(t){if(this.has(t))return!1;const e=this.sf;return 0==(1&e)?(this.s0=t,this.sf|=1):0==(2&e)?(this.s1=t,this.sf|=2):0==(4&e)?(this.s2=t,this.sf|=4):0==(8&e)?(this.sr=[t],this.sf|=8):this.sr.push(t),++this.count,!0}has(t){const e=this.sf;if((1&e)>0&&this.s0===t)return!0;if((2&e)>0&&this.s1===t)return!0;if((4&e)>0&&this.s2===t)return!0;if((8&e)>0){const e=this.sr,s=e.length;let i=0;for(;i<s;++i)if(e[i]===t)return!0}return!1}any(){return 0!==this.sf}remove(t){const e=this.sf;if((1&e)>0&&this.s0===t)return this.s0=void 0,this.sf=1^(1|this.sf),--this.count,!0;if((2&e)>0&&this.s1===t)return this.s1=void 0,this.sf=2^(2|this.sf),--this.count,!0;if((4&e)>0&&this.s2===t)return this.s2=void 0,this.sf=4^(4|this.sf),--this.count,!0;if((8&e)>0){const e=this.sr,s=e.length;let i=0;for(;i<s;++i)if(e[i]===t)return e.splice(i,1),1===s&&(this.sf=8^(8|this.sf)),--this.count,!0}return!1}notify(t,e,s){const i=this.s0,n=this.s1,r=this.s2;let o=this.sr;if(void 0!==o&&(o=o.slice()),void 0!==i&&i.handleChange(t,e,s),void 0!==n&&n.handleChange(t,e,s),void 0!==r&&r.handleChange(t,e,s),void 0!==o){const i=o.length;let n,r=0;for(;r<i;++r)n=o[r],void 0!==n&&n.handleChange(t,e,s)}}notifyCollection(t,e){const s=this.s0,i=this.s1,n=this.s2;let r=this.sr;if(void 0!==r&&(r=r.slice()),void 0!==s&&s.handleCollectionChange(t,e),void 0!==i&&i.handleCollectionChange(t,e),void 0!==n&&n.handleCollectionChange(t,e),void 0!==r){const s=r.length;let i,n=0;for(;n<s;++n)i=r[n],void 0!==i&&i.handleCollectionChange(t,e)}}}function Ri(){return ns(this,"subs",new Ai)}function Ei(t){return this.subs.add(t)}function Ti(t){return this.subs.remove(t)}function Si(t){return null==t?Oi:Oi(t)}function Oi(t){const e=t.prototype;es(e,"queue",{get:Li})}class Ii{constructor(){this.t=!1,this.i=new Set}get count(){return this.i.size}add(t){if(this.i.add(t),!this.t){this.t=!0;try{this.i.forEach(Bi)}finally{this.t=!1}}}clear(){this.i.clear(),this.t=!1}}function Li(){return Ii.instance}function Bi(t,e,s){s.delete(t),t.flush()}Ii.instance=new Ii;class Mi{constructor(t){this.owner=t,this.type=18,this.f=0,this.v=this.h=(this.o=t.collection).length}getValue(){return this.o.length}setValue(t,e){const s=this.v;t!==s&&P(t)&&(0==(64&e)&&(this.o.length=t),this.v=t,this.h=s,this.f=e,this.queue.add(this))}handleCollectionChange(t,e){const s=this.v,i=this.o.length;(this.v=i)!==s&&(this.h=s,this.f=e,this.queue.add(this))}flush(){Fi=this.h,this.h=this.v,this.subs.notify(this.v,Fi,this.f)}}class Pi{constructor(t){this.owner=t,this.f=0,this.v=this.h=(this.o=t.collection).size,this.type=this.o instanceof Map?66:34}getValue(){return this.o.size}setValue(){throw new Error("AUR02")}handleCollectionChange(t,e){const s=this.v,i=this.o.size;(this.v=i)!==s&&(this.h=s,this.f=e,this.queue.add(this))}flush(){Fi=this.h,this.h=this.v,this.subs.notify(this.v,Fi,this.f)}}function Ui(t){const e=t.prototype;rs(e,"subscribe",ji,!0),rs(e,"unsubscribe",qi,!0),Si(t),Ci(t)}function ji(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function qi(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}let Fi;Ui(Mi),Ui(Pi);const Vi=new WeakMap;function Di(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function Ni(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function Hi(t,e,s,i,n){let r,o,a,l,h,c,u;for(c=s+1;c<i;c++){for(r=t[c],o=e[c],u=c-1;u>=s&&(a=t[u],l=e[u],h=n(a,r),h>0);u--)t[u+1]=a,e[u+1]=l;t[u+1]=r,e[u+1]=o}}function zi(t,e,s,i,n){let r,o,a,l,h,c,u,d,p,f,g,v,m,b,w,y,x,k,C,$=0,A=0;for(;;){if(i-s<=10)return void Hi(t,e,s,i,n);$=s+(i-s>>1),r=t[s],l=e[s],o=t[i-1],h=e[i-1],a=t[$],c=e[$],u=n(r,o),u>0&&(f=r,g=l,r=o,l=h,o=f,h=g),d=n(r,a),d>=0?(f=r,g=l,r=a,l=c,a=o,c=h,o=f,h=g):(p=n(o,a),p>0&&(f=o,g=h,o=a,h=c,a=f,c=g)),t[s]=r,e[s]=l,t[i-1]=a,e[i-1]=c,v=o,m=h,b=s+1,w=i-1,t[$]=t[b],e[$]=e[b],t[b]=v,e[b]=m;t:for(A=b+1;A<w;A++)if(y=t[A],x=e[A],k=n(y,v),k<0)t[A]=t[b],e[A]=e[b],t[b]=y,e[b]=x,b++;else if(k>0){do{if(w--,w==A)break t;C=t[w],k=n(C,v)}while(k>0);t[A]=t[w],e[A]=e[w],t[w]=y,e[w]=x,k<0&&(y=t[A],x=e[A],t[A]=t[b],e[A]=e[b],t[b]=y,e[b]=x,b++)}i-w<b-s?(zi(t,e,w,i,n),i=b):(zi(t,e,s,b,n),s=w)}}const Ki=Array.prototype,Wi=Ki.push,Gi=Ki.unshift,Qi=Ki.pop,Xi=Ki.shift,Yi=Ki.splice,Zi=Ki.reverse,Ji=Ki.sort,_i={push:Wi,unshift:Gi,pop:Qi,shift:Xi,splice:Yi,reverse:Zi,sort:Ji},tn=["push","unshift","pop","shift","splice","reverse","sort"],en={push:function(...t){const e=Vi.get(this);if(void 0===e)return Wi.apply(this,t);const s=this.length,i=t.length;if(0===i)return s;this.length=e.indexMap.length=s+i;let n=s;for(;n<this.length;)this[n]=t[n-s],e.indexMap[n]=-2,n++;return e.notify(),this.length},unshift:function(...t){const e=Vi.get(this);if(void 0===e)return Gi.apply(this,t);const s=t.length,i=new Array(s);let n=0;for(;n<s;)i[n++]=-2;Gi.apply(e.indexMap,i);const r=Gi.apply(this,t);return e.notify(),r},pop:function(){const t=Vi.get(this);if(void 0===t)return Qi.call(this);const e=t.indexMap,s=Qi.call(this),i=e.length-1;return e[i]>-1&&e.deletedItems.push(e[i]),Qi.call(e),t.notify(),s},shift:function(){const t=Vi.get(this);if(void 0===t)return Xi.call(this);const e=t.indexMap,s=Xi.call(this);return e[0]>-1&&e.deletedItems.push(e[0]),Xi.call(e),t.notify(),s},splice:function(...t){const e=t[0],s=t[1],i=Vi.get(this);if(void 0===i)return Yi.apply(this,t);const n=this.length,r=0|e,o=r<0?Math.max(n+r,0):Math.min(r,n),a=i.indexMap,l=t.length,h=0===l?0:1===l?n-o:s;if(h>0){let t=o;const e=t+h;for(;t<e;)a[t]>-1&&a.deletedItems.push(a[t]),t++}if(l>2){const t=l-2,i=new Array(t);let n=0;for(;n<t;)i[n++]=-2;Yi.call(a,e,s,...i)}else Yi.apply(a,t);const c=Yi.apply(this,t);return i.notify(),c},reverse:function(){const t=Vi.get(this);if(void 0===t)return Zi.call(this),this;const e=this.length,s=e/2|0;let i=0;for(;i!==s;){const s=e-i-1,n=this[i],r=t.indexMap[i],o=this[s],a=t.indexMap[s];this[i]=o,t.indexMap[i]=a,this[s]=n,t.indexMap[s]=r,i++}return t.notify(),this},sort:function(t){const e=Vi.get(this);if(void 0===e)return Ji.call(this,t),this;const s=this.length;if(s<2)return this;zi(this,e.indexMap,0,s,Ni);let i=0;for(;i<s&&void 0!==this[i];)i++;return void 0!==t&&ss(t)||(t=Di),zi(this,e.indexMap,0,i,t),e.notify(),this}};for(const t of tn)es(en[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let sn=!1;function nn(){for(const t of tn)!0!==Ki[t].observing&&ns(Ki,t,en[t])}function rn(){for(const t of tn)!0===Ki[t].observing&&ns(Ki,t,_i[t])}class on{constructor(t){this.type=18,sn||(sn=!0,nn()),this.indexObservers={},this.collection=t,this.indexMap=yi(t.length),this.lenObs=void 0,Vi.set(t,this)}notify(){const t=this.indexMap,e=this.collection.length;this.indexMap=yi(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new Mi(this)}getIndexObserver(t){var e,s;return null!==(e=(s=this.indexObservers)[t])&&void 0!==e?e:s[t]=new an(this,t)}}class an{constructor(t,e){this.owner=t,this.index=e,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t,e){if(t===this.getValue())return;const s=this.owner,i=this.index,n=s.indexMap;n[i]>-1&&n.deletedItems.push(n[i]),n[i]=-2,s.collection[i]=t,s.notify()}handleCollectionChange(t,e){const s=this.index;if(t[s]===s)return;const i=this.value,n=this.value=this.getValue();i!==n&&this.subs.notify(n,i,e)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}function ln(t){let e=Vi.get(t);return void 0===e&&(e=new on(t)),e}function hn(t){let e=0,s=0,i=0;const n=xi(t),r=n.length;for(;i<r;++i){for(;n.deletedItems[s]<=i-e;)++s,--e;-2===n[i]?++e:n[i]+=e}return n}function cn(t,e){const s=t.slice(),i=e.length;let n=0,r=0;for(;n<i;)r=e[n],-2!==r&&(t[n]=s[r]),++n}Ci(on),Ci(an);const un=new WeakMap,dn=Set.prototype,pn=dn.add,fn=dn.clear,gn=dn.delete,vn={add:pn,clear:fn,delete:gn},mn=["add","clear","delete"],bn={add:function(t){const e=un.get(this);if(void 0===e)return pn.call(this,t),this;const s=this.size;pn.call(this,t);return this.size===s||(e.indexMap[s]=-2,e.notify()),this},clear:function(){const t=un.get(this);if(void 0===t)return fn.call(this);if(this.size>0){const e=t.indexMap;let s=0;for(const t of this.keys())e[s]>-1&&e.deletedItems.push(e[s]),s++;fn.call(this),e.length=0,t.notify()}},delete:function(t){const e=un.get(this);if(void 0===e)return gn.call(this,t);if(0===this.size)return!1;let s=0;const i=e.indexMap;for(const n of this.keys()){if(n===t){i[s]>-1&&i.deletedItems.push(i[s]),i.splice(s,1);const n=gn.call(this,t);return!0===n&&e.notify(),n}s++}return!1}},wn={writable:!0,enumerable:!1,configurable:!0};for(const t of mn)es(bn[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let yn=!1;function xn(){for(const t of mn)!0!==dn[t].observing&&es(dn,t,{...wn,value:bn[t]})}function kn(){for(const t of mn)!0===dn[t].observing&&es(dn,t,{...wn,value:vn[t]})}class Cn{constructor(t){this.type=34,yn||(yn=!0,xn()),this.collection=t,this.indexMap=yi(t.size),this.lenObs=void 0,un.set(t,this)}notify(){const t=this.indexMap,e=this.collection.size;this.indexMap=yi(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new Pi(this)}}function $n(t){let e=un.get(t);return void 0===e&&(e=new Cn(t)),e}Ci(Cn);const An=new WeakMap,Rn=Map.prototype,En=Rn.set,Tn=Rn.clear,Sn=Rn.delete,On={set:En,clear:Tn,delete:Sn},In=["set","clear","delete"],Ln={set:function(t,e){const s=An.get(this);if(void 0===s)return En.call(this,t,e),this;const i=this.get(t),n=this.size;En.call(this,t,e);if(this.size===n){let e=0;for(const n of this.entries()){if(n[0]===t)return n[1]!==i&&(s.indexMap.deletedItems.push(s.indexMap[e]),s.indexMap[e]=-2,s.notify()),this;e++}return this}return s.indexMap[n]=-2,s.notify(),this},clear:function(){const t=An.get(this);if(void 0===t)return Tn.call(this);if(this.size>0){const e=t.indexMap;let s=0;for(const t of this.keys())e[s]>-1&&e.deletedItems.push(e[s]),s++;Tn.call(this),e.length=0,t.notify()}},delete:function(t){const e=An.get(this);if(void 0===e)return Sn.call(this,t);if(0===this.size)return!1;let s=0;const i=e.indexMap;for(const n of this.keys()){if(n===t){i[s]>-1&&i.deletedItems.push(i[s]),i.splice(s,1);const n=Sn.call(this,t);return!0===n&&e.notify(),n}++s}return!1}},Bn={writable:!0,enumerable:!1,configurable:!0};for(const t of In)es(Ln[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Mn=!1;function Pn(){for(const t of In)!0!==Rn[t].observing&&es(Rn,t,{...Bn,value:Ln[t]})}function Un(){for(const t of In)!0===Rn[t].observing&&es(Rn,t,{...Bn,value:On[t]})}class jn{constructor(t){this.type=66,Mn||(Mn=!0,Pn()),this.collection=t,this.indexMap=yi(t.size),this.lenObs=void 0,An.set(t,this)}notify(){const t=this.indexMap,e=this.collection.size;this.indexMap=yi(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new Pi(this)}}function qn(t){let e=An.get(t);return void 0===e&&(e=new jn(t)),e}function Fn(t,e){const s=this.oL.getObserver(t,e);this.obs.add(s)}function Vn(){return ns(this,"obs",new Kn(this))}function Dn(t){let e;if(t instanceof Array)e=ln(t);else if(t instanceof Set)e=$n(t);else{if(!(t instanceof Map))throw new Error("AUR0210");e=qn(t)}this.obs.add(e)}function Nn(t){this.obs.add(t)}function Hn(){throw new Error("AUR2011:handleChange")}function zn(){throw new Error("AUR2012:handleCollectionChange")}Ci(jn);class Kn{constructor(t){this.version=0,this.count=0,this.o=new Map,this.b=t}handleChange(t,e,s){return this.b.interceptor.handleChange(t,e,s)}handleCollectionChange(t,e){this.b.interceptor.handleCollectionChange(t,e)}add(t){this.o.has(t)||(t.subscribe(this),++this.count),this.o.set(t,this.version)}clear(){this.o.forEach(Gn,this),this.count=this.o.size}clearAll(){this.o.forEach(Wn,this),this.o.clear(),this.count=0}}function Wn(t,e){e.unsubscribe(this)}function Gn(t,e){this.version!==t&&(e.unsubscribe(this),this.o.delete(e))}function Qn(t){const e=t.prototype;return rs(e,"observe",Fn,!0),rs(e,"observeCollection",Dn,!0),rs(e,"subscribeTo",Nn,!0),es(e,"obs",{get:Vn}),rs(e,"handleChange",Hn),rs(e,"handleCollectionChange",zn),t}function Xn(t){return null==t?Qn:Qn(t)}class Yn{constructor(t,e,s,i){this.key=t,this.binding=e,this.oL=s,this.locator=i,this.interceptor=this}$bind(){throw new Error("AUR0213:$bind")}$unbind(){throw new Error("AUR0214:$unbind")}handleChange(t,e,s){this.binding[this.key](t,e,s)}}Qn(Yn);const Zn=bt.createInterface("IExpressionParser",(t=>t.singleton(Jn)));class Jn{constructor(){this.u=os(),this.A=os(),this.U=os()}parse(t,e){let s;switch(e){case 16:return new Ps(t);case 1:return s=this.U[t],void 0===s&&(s=this.U[t]=this.$parse(t,e)),s;case 2:return s=this.A[t],void 0===s&&(s=this.A[t]=this.$parse(t,e)),s;default:if(0===t.length){if((12&e)>0)return Xs.$empty;throw new Error("AUR0169")}return s=this.u[t],void 0===s&&(s=this.u[t]=this.$parse(t,e)),s}}$parse(t,e){return dr.ip=t,dr.length=t.length,dr.index=0,dr.O=t.charCodeAt(0),fr(dr,0,61,void 0===e?8:e)}}var _n,tr,er,sr;function ir(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}!function(t){t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.LineFeed=10]="LineFeed",t[t.VerticalTab=11]="VerticalTab",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.Exclamation=33]="Exclamation",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dollar=36]="Dollar",t[t.Percent=37]="Percent",t[t.Ampersand=38]="Ampersand",t[t.SingleQuote=39]="SingleQuote",t[t.OpenParen=40]="OpenParen",t[t.CloseParen=41]="CloseParen",t[t.Asterisk=42]="Asterisk",t[t.Plus=43]="Plus",t[t.Comma=44]="Comma",t[t.Minus=45]="Minus",t[t.Dot=46]="Dot",t[t.Slash=47]="Slash",t[t.Semicolon=59]="Semicolon",t[t.Backtick=96]="Backtick",t[t.OpenBracket=91]="OpenBracket",t[t.Backslash=92]="Backslash",t[t.CloseBracket=93]="CloseBracket",t[t.Caret=94]="Caret",t[t.Underscore=95]="Underscore",t[t.OpenBrace=123]="OpenBrace",t[t.Bar=124]="Bar",t[t.CloseBrace=125]="CloseBrace",t[t.Colon=58]="Colon",t[t.LessThan=60]="LessThan",t[t.Equals=61]="Equals",t[t.GreaterThan=62]="GreaterThan",t[t.Question=63]="Question",t[t.Zero=48]="Zero",t[t.One=49]="One",t[t.Two=50]="Two",t[t.Three=51]="Three",t[t.Four=52]="Four",t[t.Five=53]="Five",t[t.Six=54]="Six",t[t.Seven=55]="Seven",t[t.Eight=56]="Eight",t[t.Nine=57]="Nine",t[t.UpperA=65]="UpperA",t[t.UpperB=66]="UpperB",t[t.UpperC=67]="UpperC",t[t.UpperD=68]="UpperD",t[t.UpperE=69]="UpperE",t[t.UpperF=70]="UpperF",t[t.UpperG=71]="UpperG",t[t.UpperH=72]="UpperH",t[t.UpperI=73]="UpperI",t[t.UpperJ=74]="UpperJ",t[t.UpperK=75]="UpperK",t[t.UpperL=76]="UpperL",t[t.UpperM=77]="UpperM",t[t.UpperN=78]="UpperN",t[t.UpperO=79]="UpperO",t[t.UpperP=80]="UpperP",t[t.UpperQ=81]="UpperQ",t[t.UpperR=82]="UpperR",t[t.UpperS=83]="UpperS",t[t.UpperT=84]="UpperT",t[t.UpperU=85]="UpperU",t[t.UpperV=86]="UpperV",t[t.UpperW=87]="UpperW",t[t.UpperX=88]="UpperX",t[t.UpperY=89]="UpperY",t[t.UpperZ=90]="UpperZ",t[t.LowerA=97]="LowerA",t[t.LowerB=98]="LowerB",t[t.LowerC=99]="LowerC",t[t.LowerD=100]="LowerD",t[t.LowerE=101]="LowerE",t[t.LowerF=102]="LowerF",t[t.LowerG=103]="LowerG",t[t.LowerH=104]="LowerH",t[t.LowerI=105]="LowerI",t[t.LowerJ=106]="LowerJ",t[t.LowerK=107]="LowerK",t[t.LowerL=108]="LowerL",t[t.LowerM=109]="LowerM",t[t.LowerN=110]="LowerN",t[t.LowerO=111]="LowerO",t[t.LowerP=112]="LowerP",t[t.LowerQ=113]="LowerQ",t[t.LowerR=114]="LowerR",t[t.LowerS=115]="LowerS",t[t.LowerT=116]="LowerT",t[t.LowerU=117]="LowerU",t[t.LowerV=118]="LowerV",t[t.LowerW=119]="LowerW",t[t.LowerX=120]="LowerX",t[t.LowerY=121]="LowerY",t[t.LowerZ=122]="LowerZ"}(_n||(_n={})),function(t){t[t.Reset=0]="Reset",t[t.Ancestor=511]="Ancestor",t[t.This=512]="This",t[t.Scope=1024]="Scope",t[t.Member=2048]="Member",t[t.Keyed=4096]="Keyed"}(tr||(tr={})),function(t){t[t.Variadic=61]="Variadic",t[t.Assign=62]="Assign",t[t.Conditional=63]="Conditional",t[t.LogicalOR=64]="LogicalOR",t[t.LogicalAND=128]="LogicalAND",t[t.Equality=192]="Equality",t[t.Relational=256]="Relational",t[t.Additive=320]="Additive",t[t.Multiplicative=384]="Multiplicative",t[t.Binary=448]="Binary",t[t.LeftHandSide=449]="LeftHandSide",t[t.Primary=450]="Primary",t[t.Unary=451]="Unary"}(er||(er={})),function(t){t[t.EOF=1572864]="EOF",t[t.ExpressionTerminal=1048576]="ExpressionTerminal",t[t.AccessScopeTerminal=524288]="AccessScopeTerminal",t[t.ClosingToken=262144]="ClosingToken",t[t.OpeningToken=131072]="OpeningToken",t[t.BinaryOp=65536]="BinaryOp",t[t.UnaryOp=32768]="UnaryOp",t[t.LeftHandSide=16384]="LeftHandSide",t[t.StringOrNumericLiteral=12288]="StringOrNumericLiteral",t[t.NumericLiteral=8192]="NumericLiteral",t[t.StringLiteral=4096]="StringLiteral",t[t.IdentifierName=3072]="IdentifierName",t[t.Keyword=2048]="Keyword",t[t.Identifier=1024]="Identifier",t[t.Contextual=512]="Contextual",t[t.Precedence=448]="Precedence",t[t.Type=63]="Type",t[t.FalseKeyword=2048]="FalseKeyword",t[t.TrueKeyword=2049]="TrueKeyword",t[t.NullKeyword=2050]="NullKeyword",t[t.UndefinedKeyword=2051]="UndefinedKeyword",t[t.ThisScope=3076]="ThisScope",t[t.ParentScope=3078]="ParentScope",t[t.OpenParen=671751]="OpenParen",t[t.OpenBrace=131080]="OpenBrace",t[t.Dot=16393]="Dot",t[t.CloseBrace=1835018]="CloseBrace",t[t.CloseParen=1835019]="CloseParen",t[t.Comma=1572876]="Comma",t[t.OpenBracket=671757]="OpenBracket",t[t.CloseBracket=1835022]="CloseBracket",t[t.Colon=1572879]="Colon",t[t.Question=1572880]="Question",t[t.Ampersand=1572883]="Ampersand",t[t.Bar=1572884]="Bar",t[t.BarBar=1638549]="BarBar",t[t.AmpersandAmpersand=1638614]="AmpersandAmpersand",t[t.EqualsEquals=1638679]="EqualsEquals",t[t.ExclamationEquals=1638680]="ExclamationEquals",t[t.EqualsEqualsEquals=1638681]="EqualsEqualsEquals",t[t.ExclamationEqualsEquals=1638682]="ExclamationEqualsEquals",t[t.LessThan=1638747]="LessThan",t[t.GreaterThan=1638748]="GreaterThan",t[t.LessThanEquals=1638749]="LessThanEquals",t[t.GreaterThanEquals=1638750]="GreaterThanEquals",t[t.InKeyword=1640799]="InKeyword",t[t.InstanceOfKeyword=1640800]="InstanceOfKeyword",t[t.Plus=623009]="Plus",t[t.Minus=623010]="Minus",t[t.TypeofKeyword=34851]="TypeofKeyword",t[t.VoidKeyword=34852]="VoidKeyword",t[t.Asterisk=1638885]="Asterisk",t[t.Percent=1638886]="Percent",t[t.Slash=1638887]="Slash",t[t.Equals=1048616]="Equals",t[t.Exclamation=32809]="Exclamation",t[t.TemplateTail=540714]="TemplateTail",t[t.TemplateContinuation=540715]="TemplateContinuation",t[t.OfKeyword=1051180]="OfKeyword"}(sr||(sr={}));const nr=Xs.$false,rr=Xs.$true,or=Xs.$null,ar=Xs.$undefined,lr=Vs.$this,hr=Vs.$parent;var cr;!function(t){t[t.None=0]="None",t[t.Interpolation=1]="Interpolation",t[t.IsIterator=2]="IsIterator",t[t.IsFunction=4]="IsFunction",t[t.IsProperty=8]="IsProperty",t[t.IsCustom=16]="IsCustom"}(cr||(cr={}));class ur{constructor(t){this.ip=t,this.index=0,this.C=0,this.B=0,this.$=1572864,this.L="",this.R=!0,this.length=t.length,this.O=t.charCodeAt(0)}get P(){return this.ip.slice(this.C,this.index)}}const dr=new ur("");function pr(t,e){return dr.ip=t,dr.length=t.length,dr.index=0,dr.O=t.charCodeAt(0),fr(dr,0,61,void 0===e?8:e)}function fr(t,e,s,i){if(16===i)return new Ps(t.ip);if(0===t.index){if(1&i)return function(t){const e=[],s=[],i=t.length;let n="";for(;t.index<i;){switch(t.O){case 36:if(123===t.ip.charCodeAt(t.index+1)){e.push(n),n="",t.index+=2,t.O=t.ip.charCodeAt(t.index),vr(t);const i=fr(t,0,61,1);s.push(i);continue}n+="$";break;case 92:n+=String.fromCharCode(ir(mr(t)));break;default:n+=String.fromCharCode(t.O)}mr(t)}if(s.length)return e.push(n),new oi(e,s);return null}(t);if(vr(t),1048576&t.$)throw new Error(`AUR0151:${t.ip}`)}let n;if(t.R=448>s,32768&t.$){const s=Cr[63&t.$];vr(t),n=new Qs(s,fr(t,e,449,i)),t.R=!1}else{t:switch(t.$){case 3078:t.R=!1;do{if(vr(t),e++,!xr(t,16393)){if(524288&t.$){const t=511&e;n=0===t?lr:1===t?hr:new Vs(t),e=512;break t}throw new Error(`AUR0154:${t.ip}`)}if(16393===t.$)throw new Error(`AUR0152:${t.ip}`);if(1572864===t.$)throw new Error(`AUR0153:${t.ip}`)}while(3078===t.$);case 1024:2&i?n=new ii(t.L):(n=new Ds(t.L,511&e),e=1024),t.R=!0,vr(t);break;case 3076:t.R=!1,vr(t),n=lr,e=512;break;case 671751:vr(t),n=fr(t,0,62,i),kr(t,1835019),e=0;break;case 671757:n=t.ip.search(/\s+of\s+/)>t.index?function(t){const e=[],s=new ai(90137,e,void 0,void 0);let i="",n=!0,r=0;for(;n;)switch(vr(t),t.$){case 1835022:n=!1,o();break;case 1572876:o();break;case 1024:i=t.P;break;default:throw new Error(`AUR0170:${t.ip}`)}return kr(t,1835022),s;function o(){""!==i?(e.push(new li(new Ns(lr,i),new Hs(lr,new Xs(r++)),void 0)),i=""):r++}}(t):function(t,e,s){vr(t);const i=new Array;for(;1835022!==t.$;)if(xr(t,1572876)){if(i.push(ar),1835022===t.$)break}else{if(i.push(fr(t,e,62,-3&s)),!xr(t,1572876))break;if(1835022===t.$)break}return kr(t,1835022),2&s?new ei(i):(t.R=!1,new Zs(i))}(t,e,i),e=0;break;case 131080:n=function(t,e){const s=new Array,i=new Array;vr(t);for(;1835018!==t.$;){if(s.push(t.L),12288&t.$)vr(t),kr(t,1572879),i.push(fr(t,0,62,-3&e));else{if(!(3072&t.$))throw new Error(`AUR0164:${t.ip}`);{const{O:s,$:n,index:r}=t;vr(t),xr(t,1572879)?i.push(fr(t,0,62,-3&e)):(t.O=s,t.$=n,t.index=r,i.push(fr(t,0,450,-3&e)))}}1835018!==t.$&&kr(t,1572876)}return kr(t,1835018),2&e?new si(s,i):(t.R=!1,new Js(s,i))}(t,i),e=0;break;case 540714:n=new _s([t.L]),t.R=!1,vr(t),e=0;break;case 540715:n=gr(t,e,i,n,!1),e=0;break;case 4096:case 8192:n=new Xs(t.L),t.R=!1,vr(t),e=0;break;case 2050:case 2051:case 2049:case 2048:n=Cr[63&t.$],t.R=!1,vr(t),e=0;break;default:throw t.index>=t.length?new Error(`AUR0155:${t.ip}`):new Error(`AUR0156:${t.ip}`)}if(2&i)return function(t,e){if(0==(65536&e.$kind))throw new Error(`AUR0163:${t.ip}`);if(1051180!==t.$)throw new Error(`AUR0163:${t.ip}`);vr(t);const s=e,i=fr(t,0,61,0);return new ri(s,i)}(t,n);if(449<s)return n;let r=t.L;for(;(16384&t.$)>0;){const s=[];let o;switch(t.$){case 16393:if(t.R=!0,vr(t),0==(3072&t.$))throw new Error(`AUR0153:${t.ip}`);if(r=t.L,vr(t),e=(1536&e)<<1|2048&e|(4096&e)>>1,671751===t.$){0===e&&(e=2048);continue}n=1024&e?new Ds(r,n.ancestor):new Ns(n,r);continue;case 671757:t.R=!0,vr(t),e=4096,n=new Hs(n,fr(t,0,62,i)),kr(t,1835022);break;case 671751:for(t.R=!1,vr(t);1835019!==t.$&&(s.push(fr(t,0,62,i)),xr(t,1572876)););kr(t,1835019),n=1024&e?new zs(r,s,n.ancestor):2048&e?new Ks(n,r,s):new Ws(n,s),e=0;break;case 540714:t.R=!1,o=[t.L],n=new ti(o,o,n),vr(t);break;case 540715:n=gr(t,e,i,n,!0)}}}if(448<s)return n;for(;(65536&t.$)>0;){const r=t.$;if((448&r)<=s)break;vr(t),n=new Gs(Cr[63&r],n,fr(t,e,448&r,i)),t.R=!1}if(63<s)return n;if(xr(t,1572880)){const s=fr(t,e,62,i);kr(t,1572879),n=new Fs(n,s,fr(t,e,62,i)),t.R=!1}if(62<s)return n;if(xr(t,1048616)){if(!t.R)throw new Error(`AUR0158:${t.ip}`);n=new qs(n,fr(t,e,62,i))}if(61<s)return n;for(;xr(t,1572884);){if(1572864===t.$)throw new Error(`AUR0159:${t.ip}`);const s=t.L;vr(t);const r=new Array;for(;xr(t,1572879);)r.push(fr(t,e,62,i));n=new js(n,s,r)}for(;xr(t,1572883);){if(1572864===t.$)throw new Error(`AUR0160:${t.ip}`);const s=t.L;vr(t);const r=new Array;for(;xr(t,1572879);)r.push(fr(t,e,62,i));n=new Us(n,s,r)}if(1572864!==t.$){if(1&i)return n;if("of"===t.P)throw new Error(`AUR0161:${t.ip}`);throw new Error(`AUR0162:${t.ip}`)}return n}function gr(t,e,s,i,n){const r=[t.L];kr(t,540715);const o=[fr(t,e,62,s)];for(;540714!==(t.$=yr(t));)r.push(t.L),kr(t,540715),o.push(fr(t,e,62,s));return r.push(t.L),t.R=!1,n?(vr(t),new ti(r,r,i,o)):(vr(t),new _s(r,o))}function vr(t){for(;t.index<t.length;)if(t.C=t.index,null!=(t.$=Br[t.O](t)))return;t.$=1572864}function mr(t){return t.O=t.ip.charCodeAt(++t.index)}function br(t,e){let s=t.O;if(!1===e){do{s=mr(t)}while(s<=57&&s>=48);if(46!==s)return t.L=parseInt(t.P,10),8192;if(s=mr(t),t.index>=t.length)return t.L=parseInt(t.P.slice(0,-1),10),8192}if(s<=57&&s>=48)do{s=mr(t)}while(s<=57&&s>=48);else t.O=t.ip.charCodeAt(--t.index);return t.L=parseFloat(t.P),8192}function wr(t){let e=!0,s="";for(;96!==mr(t);)if(36===t.O){if(t.index+1<t.length&&123===t.ip.charCodeAt(t.index+1)){t.index++,e=!1;break}s+="$"}else if(92===t.O)s+=String.fromCharCode(ir(mr(t)));else{if(t.index>=t.length)throw new Error(`AUR0166:${t.ip}`);s+=String.fromCharCode(t.O)}return mr(t),t.L=s,e?540714:540715}function yr(t){if(t.index>=t.length)throw new Error(`AUR0166:${t.ip}`);return t.index--,wr(t)}function xr(t,e){return t.$===e&&(vr(t),!0)}function kr(t,e){if(t.$!==e)throw new Error(`AUR0167:${t.ip}<${e}`);vr(t)}const Cr=[nr,rr,or,ar,"$this",null,"$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540714,540715,"of"],$r=os();$r.true=2049,$r.null=2050,$r.false=2048,$r.undefined=2051,$r.$this=3076,$r.$parent=3078,$r.in=1640799,$r.instanceof=1640800,$r.typeof=34851,$r.void=34852,$r.of=1051180;const Ar=[36,0,48,58,65,91,95,0,97,123],Rr=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Er=[48,58],Tr=[0,33,127,161];function Sr(t,e,s,i){const n=s.length;for(let r=0;r<n;r+=2){const n=s[r];let o=s[r+1];if(o=o>0?o:n+1,t&&t.fill(i,n,o),e)for(let t=n;t<o;t++)e.add(t)}}function Or(t){return e=>(mr(e),t)}const Ir=t=>{throw new Error(`AUR0168:${t.ip}`)};Ir.notMapped=!0;Sr(null,new Set,Ar,!0);const Lr=new Uint8Array(65535);Sr(Lr,null,Rr,1),Sr(Lr,null,Er,1);const Br=new Array(65535);Br.fill(Ir,0,65535),Sr(Br,null,Tr,(t=>(mr(t),null))),Sr(Br,null,Rr,(function(t){for(;Lr[mr(t)];);const e=$r[t.L=t.P];return void 0===e?1024:e})),Sr(Br,null,Er,(t=>br(t,!1))),Br[34]=Br[39]=t=>function(t){const e=t.O;mr(t);let s=0;const i=new Array;let n=t.index;for(;t.O!==e;)if(92===t.O)i.push(t.ip.slice(n,t.index)),mr(t),s=ir(t.O),mr(t),i.push(String.fromCharCode(s)),n=t.index;else{if(t.index>=t.length)throw new Error(`AUR0165:${t.ip}`);mr(t)}const r=t.ip.slice(n,t.index);mr(t),i.push(r);const o=i.join("");return t.L=o,4096}(t),Br[96]=t=>wr(t),Br[33]=t=>61!==mr(t)?32809:61!==mr(t)?1638680:(mr(t),1638682),Br[61]=t=>61!==mr(t)?1048616:61!==mr(t)?1638679:(mr(t),1638681),Br[38]=t=>38!==mr(t)?1572883:(mr(t),1638614),Br[124]=t=>124!==mr(t)?1572884:(mr(t),1638549),Br[46]=t=>mr(t)<=57&&t.O>=48?br(t,!0):16393,Br[60]=t=>61!==mr(t)?1638747:(mr(t),1638749),Br[62]=t=>61!==mr(t)?1638748:(mr(t),1638750),Br[37]=Or(1638886),Br[40]=Or(671751),Br[41]=Or(1835019),Br[42]=Or(1638885),Br[43]=Or(623009),Br[44]=Or(1572876),Br[45]=Or(623010),Br[47]=Or(1638887),Br[58]=Or(1572879),Br[63]=Or(1572880),Br[91]=Or(671757),Br[93]=Or(1835022),Br[123]=Or(131080),Br[125]=Or(1835018);let Mr=null;const Pr=[];let Ur=!1;function jr(){return Mr}function qr(t){if(null==t)throw new Error("AUR0206");if(null==Mr)return Mr=t,Pr[0]=Mr,void(Ur=!0);if(Mr===t)throw new Error("AUR0207");Pr.push(t),Mr=t,Ur=!0}function Fr(t){if(null==t)throw new Error("AUR0208");if(Mr!==t)throw new Error("AUR0209");Pr.pop(),Mr=Pr.length>0?Pr[Pr.length-1]:null,Ur=null!=Mr}const Vr=Object.freeze({get current(){return Mr},get connecting(){return Ur},enter:qr,exit:Fr,pause:function(){Ur=!1},resume:function(){Ur=!0}}),Dr=Reflect.get,Nr=Object.prototype.toString,Hr=new WeakMap;function zr(t){switch(Nr.call(t)){case"[object Object]":case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Kr="__raw__";function Wr(t){return zr(t)?Gr(t):t}function Gr(t){var e;return null!==(e=Hr.get(t))&&void 0!==e?e:function(t){const e=t instanceof Array?Jr:t instanceof Map||t instanceof Set?ko:Zr,s=new Proxy(t,e);return Hr.set(t,s),s}(t)}function Qr(t){var e;return null!==(e=t[Kr])&&void 0!==e?e:t}function Xr(t){return zr(t)&&t[Kr]||t}function Yr(t){return"constructor"===t||"__proto__"===t||"$observers"===t||t===Symbol.toPrimitive||t===Symbol.toStringTag}const Zr={get(t,e,s){if(e===Kr)return t;const i=jr();return!Ur||Yr(e)||null==i?Dr(t,e,s):(i.observe(t,e),Wr(Dr(t,e,s)))}},Jr={get(t,e,s){if(e===Kr)return t;const i=jr();if(!Ur||Yr(e)||null==i)return Dr(t,e,s);switch(e){case"length":return i.observe(t,"length"),t.length;case"map":return _r;case"includes":return so;case"indexOf":return io;case"lastIndexOf":return no;case"every":return to;case"filter":return eo;case"find":return oo;case"findIndex":return ro;case"flat":return ao;case"flatMap":return lo;case"join":return ho;case"push":return uo;case"pop":return co;case"reduce":return yo;case"reduceRight":return xo;case"reverse":return vo;case"shift":return po;case"unshift":return fo;case"slice":return wo;case"splice":return go;case"some":return mo;case"sort":return bo;case"keys":return Oo;case"values":case Symbol.iterator:return Io;case"entries":return Lo}return i.observe(t,e),Wr(Dr(t,e,s))},ownKeys(t){var e;return null===(e=jr())||void 0===e||e.observe(t,"length"),Reflect.ownKeys(t)}};function _r(t,e){var s;const i=Qr(this),n=i.map(((s,i)=>Xr(t.call(e,Wr(s),i,this))));return null===(s=jr())||void 0===s||s.observeCollection(i),Wr(n)}function to(t,e){var s;const i=Qr(this),n=i.every(((s,i)=>t.call(e,Wr(s),i,this)));return null===(s=jr())||void 0===s||s.observeCollection(i),n}function eo(t,e){var s;const i=Qr(this),n=i.filter(((s,i)=>Xr(t.call(e,Wr(s),i,this))));return null===(s=jr())||void 0===s||s.observeCollection(i),Wr(n)}function so(t){var e;const s=Qr(this),i=s.includes(Xr(t));return null===(e=jr())||void 0===e||e.observeCollection(s),i}function io(t){var e;const s=Qr(this),i=s.indexOf(Xr(t));return null===(e=jr())||void 0===e||e.observeCollection(s),i}function no(t){var e;const s=Qr(this),i=s.lastIndexOf(Xr(t));return null===(e=jr())||void 0===e||e.observeCollection(s),i}function ro(t,e){var s;const i=Qr(this),n=i.findIndex(((s,i)=>Xr(t.call(e,Wr(s),i,this))));return null===(s=jr())||void 0===s||s.observeCollection(i),n}function oo(t,e){var s;const i=Qr(this),n=i.find(((e,s)=>t(Wr(e),s,this)),e);return null===(s=jr())||void 0===s||s.observeCollection(i),Wr(n)}function ao(){var t;const e=Qr(this);return null===(t=jr())||void 0===t||t.observeCollection(e),Wr(e.flat())}function lo(t,e){var s;const i=Qr(this);return null===(s=jr())||void 0===s||s.observeCollection(i),Gr(i.flatMap(((s,i)=>Wr(t.call(e,Wr(s),i,this)))))}function ho(t){var e;const s=Qr(this);return null===(e=jr())||void 0===e||e.observeCollection(s),s.join(t)}function co(){return Wr(Qr(this).pop())}function uo(...t){return Qr(this).push(...t)}function po(){return Wr(Qr(this).shift())}function fo(...t){return Qr(this).unshift(...t)}function go(...t){return Wr(Qr(this).splice(...t))}function vo(...t){var e;const s=Qr(this),i=s.reverse();return null===(e=jr())||void 0===e||e.observeCollection(s),Wr(i)}function mo(t,e){var s;const i=Qr(this),n=i.some(((s,i)=>Xr(t.call(e,Wr(s),i,this))));return null===(s=jr())||void 0===s||s.observeCollection(i),n}function bo(t){var e;const s=Qr(this),i=s.sort(t);return null===(e=jr())||void 0===e||e.observeCollection(s),Wr(i)}function wo(t,e){var s;const i=Qr(this);return null===(s=jr())||void 0===s||s.observeCollection(i),Gr(i.slice(t,e))}function yo(t,e){var s;const i=Qr(this),n=i.reduce(((e,s,i)=>t(e,Wr(s),i,this)),e);return null===(s=jr())||void 0===s||s.observeCollection(i),Wr(n)}function xo(t,e){var s;const i=Qr(this),n=i.reduceRight(((e,s,i)=>t(e,Wr(s),i,this)),e);return null===(s=jr())||void 0===s||s.observeCollection(i),Wr(n)}const ko={get(t,e,s){if(e===Kr)return t;const i=jr();if(!Ur||Yr(e)||null==i)return Dr(t,e,s);switch(e){case"size":return i.observe(t,"size"),t.size;case"clear":return To;case"delete":return So;case"forEach":return Co;case"add":if(t instanceof Set)return Eo;break;case"get":if(t instanceof Map)return Ao;break;case"set":if(t instanceof Map)return Ro;break;case"has":return $o;case"keys":return Oo;case"values":return Io;case"entries":return Lo;case Symbol.iterator:return t instanceof Map?Lo:Io}return Wr(Dr(t,e,s))}};function Co(t,e){var s;const i=Qr(this);return null===(s=jr())||void 0===s||s.observeCollection(i),i.forEach(((s,i)=>{t.call(e,Wr(s),Wr(i),this)}))}function $o(t){var e;const s=Qr(this);return null===(e=jr())||void 0===e||e.observeCollection(s),s.has(Xr(t))}function Ao(t){var e;const s=Qr(this);return null===(e=jr())||void 0===e||e.observeCollection(s),Wr(s.get(Xr(t)))}function Ro(t,e){return Wr(Qr(this).set(Xr(t),Xr(e)))}function Eo(t){return Wr(Qr(this).add(Xr(t)))}function To(){return Wr(Qr(this).clear())}function So(t){return Wr(Qr(this).delete(Xr(t)))}function Oo(){var t;const e=Qr(this);null===(t=jr())||void 0===t||t.observeCollection(e);const s=e.keys();return{next(){const t=s.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:Wr(e),done:i}},[Symbol.iterator](){return this}}}function Io(){var t;const e=Qr(this);null===(t=jr())||void 0===t||t.observeCollection(e);const s=e.values();return{next(){const t=s.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:Wr(e),done:i}},[Symbol.iterator](){return this}}}function Lo(){var t;const e=Qr(this);null===(t=jr())||void 0===t||t.observeCollection(e);const s=e.entries();return{next(){const t=s.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[Wr(e[0]),Wr(e[1])],done:i}},[Symbol.iterator](){return this}}}const Bo=Object.freeze({getProxy:Gr,getRaw:Qr,wrap:Wr,unwrap:Xr,rawKey:Kr});class Mo{constructor(t,e,s,i,n){this.interceptor=this,this.type=1,this.v=void 0,this.ov=void 0,this.ir=!1,this.D=!1,this.o=t,this.get=e,this.set=s,this.up=i,this.oL=n}static create(t,e,s,i,n){const r=s.get,o=s.set,a=new Mo(t,r,o,n,i),l=()=>a.getValue();return l.getObserver=()=>a,es(t,e,{enumerable:s.enumerable,configurable:!0,get:l,set:t=>{a.setValue(t,0)}}),a}getValue(){return 0===this.subs.count?this.get.call(this.o,this):(this.D&&(this.compute(),this.D=!1),this.v)}setValue(t,e){if(!ss(this.set))throw new Error("AUR0221");t!==this.v&&(this.ir=!0,this.set.call(this.o,t),this.ir=!1,this.run())}handleChange(){this.D=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.D=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.compute(),this.D=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.D=!0,this.obs.clearAll())}flush(){Po=this.ov,this.ov=this.v,this.subs.notify(this.v,Po,0)}run(){if(this.ir)return;const t=this.v,e=this.compute();this.D=!1,Object.is(e,t)||(this.ov=t,this.queue.add(this))}compute(){this.ir=!0,this.obs.version++;try{return qr(this),this.v=Xr(this.get.call(this.up?Wr(this.o):this.o,this))}finally{this.obs.clear(),this.ir=!1,Fr(this)}}}let Po;Xn(Mo),Ci(Mo),Si(Mo);const Uo=bt.createInterface("IDirtyChecker",(t=>t.singleton(Fo))),jo={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}},qo={persistent:!0};class Fo{constructor(t){this.p=t,this.tracked=[],this.T=null,this.j=0,this.check=()=>{if(jo.disabled)return;if(++this.j<jo.timeoutsPerCheck)return;this.j=0;const t=this.tracked,e=t.length;let s,i=0;for(;i<e;++i)s=t[i],s.isDirty()&&this.queue.add(s)}}createProperty(t,e){if(jo.throw)throw new Error(`AUR0222:${e}`);return new Vo(this,t,e)}addProperty(t){this.tracked.push(t),1===this.tracked.length&&(this.T=this.p.taskQueue.queueTask(this.check,qo))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),0===this.tracked.length&&(this.T.cancel(),this.T=null)}}Fo.inject=[oe],Si(Fo);class Vo{constructor(t,e,s){this.obj=e,this.key=s,this.type=0,this.ov=void 0,this.I=t}getValue(){return this.obj[this.key]}setValue(t,e){throw new Error(`Trying to set value for property ${this.key} in dirty checker`)}isDirty(){return this.ov!==this.obj[this.key]}flush(){const t=this.ov,e=this.getValue();this.ov=e,this.subs.notify(e,t,0)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.ov=this.obj[this.key],this.I.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.I.removeProperty(this)}}Ci(Vo);class Do{constructor(t,e){this.type=0,this.o=t,this.k=e}get doNotCache(){return!0}getValue(){return this.o[this.k]}setValue(){}subscribe(){}unsubscribe(){}}class No{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,s,i){s[i]=t}}let Ho;class zo{constructor(t,e){this.type=1,this.v=void 0,this.ov=void 0,this.iO=!1,this.f=0,this.o=t,this.k=e}getValue(){return this.v}setValue(t,e){if(this.iO){if(Object.is(t,this.v))return;this.ov=this.v,this.v=t,this.f=e,this.queue.add(this)}else this.o[this.k]=t}subscribe(t){!1===this.iO&&this.start(),this.subs.add(t)}flush(){Ho=this.ov,this.ov=this.v,this.subs.notify(this.v,Ho,this.f)}start(){return!1===this.iO&&(this.iO=!0,this.v=this.o[this.k],es(this.o,this.k,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:t=>{this.setValue(t,0)}})),this}stop(){return this.iO&&(es(this.o,this.k,{enumerable:!0,configurable:!0,writable:!0,value:this.v}),this.iO=!1),this}}class Ko{constructor(t,e,s,i){this.type=1,this.v=void 0,this.ov=void 0,this.f=0,this.o=t,this.S=s,this.hs=ss(s);const n=t[e];this.cb=ss(n)?n:void 0,this.v=i}getValue(){return this.v}setValue(t,e){var s;this.hs&&(t=this.S(t,null)),Object.is(t,this.v)||(this.ov=this.v,this.v=t,this.f=e,null===(s=this.cb)||void 0===s||s.call(this.o,this.v,this.ov,e),this.queue.add(this))}flush(){Ho=this.ov,this.ov=this.v,this.subs.notify(this.v,Ho,this.f)}}Ci(zo),Ci(Ko),Si(zo),Si(Ko);const Wo=new No,Go=bt.createInterface("IObserverLocator",(t=>t.singleton(Yo))),Qo=bt.createInterface("INodeObserverLocator",(t=>t.cachedCallback((t=>(t.getAll(fe).forEach((t=>{t.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")})),new Xo)))));class Xo{handles(){return!1}getObserver(){return Wo}getAccessor(){return Wo}}class Yo{constructor(t,e){this.I=t,this.M=e,this.F=[]}addAdapter(t){this.F.push(t)}getObserver(t,e){var s,i;return null!==(i=null===(s=t.$observers)||void 0===s?void 0:s[e])&&void 0!==i?i:this.V(t,e,this.createObserver(t,e))}getAccessor(t,e){var s;const i=null===(s=t.$observers)||void 0===s?void 0:s[e];return void 0!==i?i:this.M.handles(t,e,this)?this.M.getAccessor(t,e,this):Wo}getArrayObserver(t){return ln(t)}getMapObserver(t){return qn(t)}getSetObserver(t){return $n(t)}createObserver(t,e){var s,i,n,r;if(!(t instanceof Object))return new Do(t,e);if(this.M.handles(t,e,this))return this.M.getObserver(t,e,this);switch(e){case"length":if(t instanceof Array)return ln(t).getLengthObserver();break;case"size":if(t instanceof Map)return qn(t).getLengthObserver();if(t instanceof Set)return $n(t).getLengthObserver();break;default:if(t instanceof Array&&P(e))return ln(t).getIndexObserver(Number(e))}let o=_o(t,e);if(void 0===o){let s=Jo(t);for(;null!==s&&(o=_o(s,e),void 0===o);)s=Jo(s)}if(void 0!==o&&!ts.call(o,"value")){let a=this.N(t,e,o);return null==a&&(a=null===(r=null!==(i=null===(s=o.get)||void 0===s?void 0:s.getObserver)&&void 0!==i?i:null===(n=o.set)||void 0===n?void 0:n.getObserver)||void 0===r?void 0:r(t,this)),null==a?o.configurable?Mo.create(t,e,o,this,!0):this.I.createProperty(t,e):a}return new zo(t,e)}N(t,e,s){if(this.F.length>0)for(const i of this.F){const n=i.getObserver(t,e,s,this);if(null!=n)return n}return null}V(t,e,s){return!0===s.doNotCache?s:void 0===t.$observers?(es(t,"$observers",{value:{[e]:s}}),s):t.$observers[e]=s}}function Zo(t){let e;return t instanceof Array?e=ln(t):t instanceof Map?e=qn(t):t instanceof Set&&(e=$n(t)),e}Yo.inject=[Uo,Qo];const Jo=Object.getPrototypeOf,_o=Object.getOwnPropertyDescriptor,ta=bt.createInterface("IObservation",(t=>t.singleton(ea)));class ea{constructor(t){this.oL=t}static get inject(){return[Go]}run(t){const e=new sa(this.oL,t);return e.run(),e}}class sa{constructor(t,e){this.oL=t,this.fn=e,this.interceptor=this,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw new Error("AUR0225");if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{qr(this),this.fn(this)}finally{this.obs.clear(),this.running=!1,Fr(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,new Error("AUR0226");this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clearAll()}}Xn(sa);const ia={};function na(t,e,s){return null==e?(e,s,n)=>i(e,s,n,t):i(t,e,s);function i(t,e,s,i){var n;const r=void 0===e;if(i="object"!=typeof i?{name:i}:i||{},r&&(e=i.name),null==e||""===e)throw new Error("AUR0224");const o=i.callback||`${String(e)}Changed`;let a=ia;s?(delete s.value,delete s.writable,a=null===(n=s.initializer)||void 0===n?void 0:n.call(s),delete s.initializer):s={configurable:!0},"enumerable"in s||(s.enumerable=!0);const l=i.set;if(s.get=function(){var t;const s=ra(this,e,o,a,l);return null===(t=jr())||void 0===t||t.subscribeTo(s),s.getValue()},s.set=function(t){ra(this,e,o,a,l).setValue(t,0)},s.get.getObserver=function(t){return ra(t,e,o,a,l)},!r)return s;es(t.prototype,e,s)}}function ra(t,e,s,i,n){const r=function(t){return void 0===t.$observers&&es(t,"$observers",{value:{}}),t.$observers}(t);let o=r[e];return null==o&&(o=new Ko(t,s,n,i===ia?void 0:i),r[e]=o),o}function oa(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}function aa(t,e){return function(s,i){e(s,i,t)}}const la=C.getOwn,ha=C.hasOwn,ca=C.define,{annotation:ua,resource:da}=ht,pa=ua.keyFor,fa=da.keyFor,ga=da.appendTo,va=ua.appendTo,ma=ua.getKeys,ba=()=>Object.create(null),wa=Object.prototype.hasOwnProperty,ya=ba(),xa=(t,e,s)=>{if(!0===ya[e])return!0;if(!$a(e))return!1;const i=e.slice(0,5);return ya[e]="aria-"===i||"data-"===i||s.isStandardSvgAttribute(t,e)},ka=t=>t instanceof Promise,Ca=t=>"function"==typeof t,$a=t=>"string"==typeof t,Aa=Object.defineProperty,Ra=t=>{throw t};function Ea(t,e){let s;function i(t,e){arguments.length>1&&(s.property=e),ca(Sa,Ia.create(e,t,s),t.constructor,e),va(t.constructor,Oa.keyFrom(e))}return arguments.length>1?(s={},void i(t,e)):$a(t)?(s={},i):(s=void 0===t?{}:t,i)}function Ta(t){return t.startsWith(Sa)}const Sa=pa("bindable"),Oa=Object.freeze({name:Sa,keyFrom:t=>`${Sa}:${t}`,from(t,...e){const s={},i=Array.isArray;function n(e){s[e]=Ia.create(e,t)}function r(e,i){s[e]=i instanceof Ia?i:Ia.create(e,t,i)}return e.forEach((function(t){i(t)?t.forEach(n):t instanceof Ia?s[t.property]=t:void 0!==t&&Object.keys(t).forEach((e=>r(e,t[e])))})),s},for(t){let e;const s={add(i){let n,r;return $a(i)?(n=i,r={property:n}):(n=i.property,r=i),e=Ia.create(n,t,r),ha(Sa,t,n)||va(t,Oa.keyFrom(n)),ca(Sa,e,t,n),s},mode:t=>(e.mode=t,s),callback:t=>(e.callback=t,s),attribute:t=>(e.attribute=t,s),primary:()=>(e.primary=!0,s),set:t=>(e.set=t,s)};return s},getAll(t){const e=Sa.length+1,s=[],i=J(t);let n,r,o,a,l=i.length,h=0;for(;--l>=0;)for(o=i[l],n=ma(o).filter(Ta),r=n.length,a=0;a<r;++a)s[h++]=la(Sa,o,n[a].slice(e));return s}});class Ia{constructor(t,e,s,i,n,r){this.attribute=t,this.callback=e,this.mode=s,this.primary=i,this.property=n,this.set=r}static create(t,e,s={}){return new Ia(Z(s.attribute,D(t)),Z(s.callback,`${t}Changed`),Z(s.mode,pi.toView),Z(s.primary,!1),Z(s.property,t),Z(s.set,function(t,e,s={}){var i,n,r;const o=null!==(n=null!==(i=s.type)&&void 0!==i?i:Reflect.getMetadata("design:type",e,t))&&void 0!==n?n:null;if(null==o)return re;let a;switch(o){case Number:case Boolean:case String:case BigInt:a=o;break;default:{const t=o.coerce;a="function"==typeof t?t.bind(o):null!==(r=Ba.for(o))&&void 0!==r?r:re;break}}return a===re?a:function(t,e){return function(s,i){var n;return(null==i?void 0:i.enableCoercion)?(null!=e?e:null===(n=null==i?void 0:i.coerceNullish)||void 0===n||!n)&&null==s?s:t(s,i):s}}(a,s.nullable)}(t,e,s)))}}function La(t,e,s){Ba.define(t,e)}const Ba={key:pa("coercer"),define(t,e){ca(Ba.key,t[e].bind(t),t)},for:t=>la(Ba.key,t)};class Ma{constructor(t,e,s,i,n,r){this.set=i,this.$controller=n,this.t=r,this.v=void 0,this.ov=void 0,this.f=0;const o=t[s],a=t.propertyChanged,l=this.i=Ca(o),h=this.u=Ca(a),c=this.hs=i!==re;let u;this.o=t,this.k=e,this.cb=l?o:re,this.C=h?a:re,void 0!==this.cb||h||c?(this.iO=!0,u=t[e],this.v=c&&void 0!==u?i(u,this.t):u,this.A()):this.iO=!1}get type(){return 1}getValue(){return this.v}setValue(t,e){this.hs&&(t=this.set(t,this.t));const s=this.v;if(this.iO){if(Object.is(t,s))return;this.v=t,this.ov=s,this.f=e,(null==this.$controller||this.$controller.isBound)&&(this.i&&this.cb.call(this.o,t,s,e),this.u&&this.C.call(this.o,this.k,t,s,e)),this.queue.add(this)}else this.o[this.k]=t}subscribe(t){!1==!this.iO&&(this.iO=!0,this.v=this.hs?this.set(this.o[this.k],this.t):this.o[this.k],this.A()),this.subs.add(t)}flush(){Pa=this.ov,this.ov=this.v,this.subs.notify(this.v,Pa,this.f)}A(){Reflect.defineProperty(this.o,this.k,{enumerable:!0,configurable:!0,get:()=>this.v,set:t=>{this.setValue(t,0)}})}}let Pa;Ci(Ma),Si(Ma);class Ua{constructor(t,e,s,i){if(this.chars=t,this.repeat=e,this.isSymbol=s,this.isInverted=i,i)switch(t.length){case 0:this.has=this.R;break;case 1:this.has=this.B;break;default:this.has=this.I}else switch(t.length){case 0:this.has=this.T;break;case 1:this.has=this.P;break;default:this.has=this.$}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}$(t){return this.chars.includes(t)}P(t){return this.chars===t}T(t){return!1}I(t){return!this.chars.includes(t)}B(t){return this.chars!==t}R(t){return!0}}class ja{constructor(){this.parts=ie,this.O="",this.L={},this.q={}}get pattern(){const t=this.O;return""===t?null:t}set pattern(t){null==t?(this.O="",this.parts=ie):(this.O=t,this.parts=this.q[t])}append(t,e){const s=this.L;void 0===s[t]?s[t]=e:s[t]+=e}next(t){const e=this.L;let s;void 0!==e[t]&&(s=this.q,void 0===s[t]?s[t]=[e[t]]:s[t].push(e[t]),e[t]=void 0)}}class qa{constructor(t,...e){this.charSpec=t,this.nextStates=[],this.types=null,this.isEndpoint=!1,this.patterns=e}get pattern(){return this.isEndpoint?this.patterns[0]:null}findChild(t){const e=this.nextStates,s=e.length;let i=null,n=0;for(;n<s;++n)if(i=e[n],t.equals(i.charSpec))return i;return null}append(t,e){const s=this.patterns;s.includes(e)||s.push(e);let i=this.findChild(t);return null==i&&(i=new qa(t,e),this.nextStates.push(i),t.repeat&&i.nextStates.push(i)),i}findMatches(t,e){const s=[],i=this.nextStates,n=i.length;let r=0,o=null,a=0,l=0;for(;a<n;++a)if(o=i[a],o.charSpec.has(t))if(s.push(o),r=o.patterns.length,l=0,o.charSpec.isSymbol)for(;l<r;++l)e.next(o.patterns[l]);else for(;l<r;++l)e.append(o.patterns[l],t);return s}}class Fa{constructor(t){this.text=t;const e=this.len=t.length,s=this.specs=[];let i=0;for(;e>i;++i)s.push(new Ua(t[i],!1,!1,!1))}eachChar(t){const e=this.len,s=this.specs;let i=0;for(;e>i;++i)t(s[i])}}class Va{constructor(t){this.text="PART",this.spec=new Ua(t,!0,!1,!0)}eachChar(t){t(this.spec)}}class Da{constructor(t){this.text=t,this.spec=new Ua(t,!1,!0,!1)}eachChar(t){t(this.spec)}}class Na{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const Ha=bt.createInterface("ISyntaxInterpreter",(t=>t.singleton(za)));class za{constructor(){this.rootState=new qa(null),this.initialStates=[this.rootState]}add(t){t=t.slice(0).sort(((t,e)=>t.pattern>e.pattern?1:-1));const e=t.length;let s,i,n,r,o,a,l,h,c=0;for(;e>c;){for(s=this.rootState,i=t[c],n=i.pattern,r=new Na,o=this.parse(i,r),a=o.length,l=t=>{s=s.append(t,n)},h=0;a>h;++h)o[h].eachChar(l);s.types=r,s.isEndpoint=!0,++c}}interpret(t){const e=new ja,s=t.length;let i,n=this.initialStates,r=0;for(;r<s&&(n=this.getNextStates(n,t.charAt(r),e),0!==n.length);++r);return n=n.filter(Ka),n.length>0&&(n.sort(Wa),i=n[0],i.charSpec.isSymbol||e.next(i.pattern),e.pattern=i.pattern),e}getNextStates(t,e,s){const i=[];let n=null;const r=t.length;let o=0;for(;o<r;++o)n=t[o],i.push(...n.findMatches(e,s));return i}parse(t,e){const s=[],i=t.pattern,n=i.length,r=t.symbols;let o=0,a=0,l="";for(;o<n;)l=i.charAt(o),0!==r.length&&r.includes(l)?o!==a?(s.push(new Fa(i.slice(a,o))),++e.statics,a=o):(s.push(new Da(i.slice(a,o+1))),++e.symbols,a=++o):o===a&&"P"===l&&"PART"===i.slice(o,o+4)?(a=o+=4,s.push(new Va(r)),++e.dynamics):++o;return a!==o&&(s.push(new Fa(i.slice(a,o))),++e.statics),s}}function Ka(t){return t.isEndpoint}function Wa(t,e){const s=t.types,i=e.types;return s.statics!==i.statics?i.statics-s.statics:s.dynamics!==i.dynamics?i.dynamics-s.dynamics:s.symbols!==i.symbols?i.symbols-s.symbols:0}class Ga{constructor(t,e,s,i){this.rawName=t,this.rawValue=e,this.target=s,this.command=i}}const Qa=bt.createInterface("IAttributePattern"),Xa=bt.createInterface("IAttributeParser",(t=>t.singleton(Ya)));class Ya{constructor(t,e){this.U={},this._=t;const s=this.F={},i=e.reduce(((t,e)=>{const i=el(e.constructor);return i.forEach((t=>s[t.pattern]=e)),t.concat(i)}),ie);t.add(i)}parse(t,e){let s=this.U[t];null==s&&(s=this.U[t]=this._.interpret(t));const i=s.pattern;return null==i?new Ga(t,e,t,null):this.F[i][i](t,e,s.parts)}}function Za(...t){return function(e){return sl.define(t,e)}}Ya.inject=[Ha,St(Qa)];class Ja{constructor(t){this.Type=t,this.name=void 0}register(t){Jt.singleton(Qa,this.Type).register(t)}}const _a=fa("attribute-pattern"),tl="attribute-pattern-definitions",el=t=>ht.annotation.get(t,tl),sl=Object.freeze({name:_a,definitionAnnotationKey:tl,define(t,e){const s=new Ja(e);return ca(_a,s,e),ga(e,_a),ht.annotation.set(e,tl,t),va(e,tl),e},getPatternDefinitions:el});let il=class{"PART.PART"(t,e,s){return new Ga(t,e,s[0],s[1])}"PART.PART.PART"(t,e,s){return new Ga(t,e,s[0],s[2])}};il=oa([Za({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],il);let nl=class{ref(t,e,s){return new Ga(t,e,"element","ref")}"PART.ref"(t,e,s){return new Ga(t,e,s[0],"ref")}};nl=oa([Za({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],nl);let rl=class{":PART"(t,e,s){return new Ga(t,e,s[0],"bind")}};rl=oa([Za({pattern:":PART",symbols:":"})],rl);let ol=class{"@PART"(t,e,s){return new Ga(t,e,s[0],"trigger")}};ol=oa([Za({pattern:"@PART",symbols:"@"})],ol);let al=class{"...$attrs"(t,e,s){return new Ga(t,e,"","...$attrs")}};al=oa([Za({pattern:"...$attrs",symbols:""})],al);const ll=oe,hl=bt.createInterface("ISVGAnalyzer",(t=>t.singleton(cl)));class cl{isStandardSvgAttribute(t,e){return!1}}function ul(t){const e=ba();let s;for(s of t)e[s]=!0;return e}class dl{constructor(t){this.V=Object.assign(ba(),{a:ul(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),altGlyph:ul(["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),altglyph:ba(),altGlyphDef:ul(["id","xml:base","xml:lang","xml:space"]),altglyphdef:ba(),altGlyphItem:ul(["id","xml:base","xml:lang","xml:space"]),altglyphitem:ba(),animate:ul(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateColor:ul(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateMotion:ul(["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateTransform:ul(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),circle:ul(["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),clipPath:ul(["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),"color-profile":ul(["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),cursor:ul(["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),defs:ul(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),desc:ul(["class","id","style","xml:base","xml:lang","xml:space"]),ellipse:ul(["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),feBlend:ul(["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feColorMatrix:ul(["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"]),feComponentTransfer:ul(["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feComposite:ul(["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feConvolveMatrix:ul(["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"]),feDiffuseLighting:ul(["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"]),feDisplacementMap:ul(["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"]),feDistantLight:ul(["azimuth","elevation","id","xml:base","xml:lang","xml:space"]),feFlood:ul(["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feFuncA:ul(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncB:ul(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncG:ul(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncR:ul(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feGaussianBlur:ul(["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"]),feImage:ul(["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),feMerge:ul(["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feMergeNode:ul(["id","xml:base","xml:lang","xml:space"]),feMorphology:ul(["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feOffset:ul(["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),fePointLight:ul(["id","x","xml:base","xml:lang","xml:space","y","z"]),feSpecularLighting:ul(["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"]),feSpotLight:ul(["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"]),feTile:ul(["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feTurbulence:ul(["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"]),filter:ul(["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),font:ul(["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),"font-face":ul(["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"]),"font-face-format":ul(["id","string","xml:base","xml:lang","xml:space"]),"font-face-name":ul(["id","name","xml:base","xml:lang","xml:space"]),"font-face-src":ul(["id","xml:base","xml:lang","xml:space"]),"font-face-uri":ul(["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),foreignObject:ul(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"]),g:ul(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),glyph:ul(["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),glyphRef:ul(["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),glyphref:ba(),hkern:ul(["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]),image:ul(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),line:ul(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"]),linearGradient:ul(["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"]),marker:ul(["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"]),mask:ul(["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"]),metadata:ul(["id","xml:base","xml:lang","xml:space"]),"missing-glyph":ul(["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),mpath:ul(["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),path:ul(["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),pattern:ul(["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),polygon:ul(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),polyline:ul(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),radialGradient:ul(["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),rect:ul(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"]),script:ul(["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),set:ul(["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),stop:ul(["class","id","offset","style","xml:base","xml:lang","xml:space"]),style:ul(["id","media","title","type","xml:base","xml:lang","xml:space"]),svg:ul(["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"]),switch:ul(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),symbol:ul(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"]),text:ul(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"]),textPath:ul(["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),title:ul(["class","id","style","xml:base","xml:lang","xml:space"]),tref:ul(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),tspan:ul(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"]),use:ul(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),view:ul(["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"]),vkern:ul(["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"])}),this.M=ul(["a","altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"]),this.j=ul(["alignment-baseline","baseline-shift","clip-path","clip-rule","clip","color-interpolation-filters","color-interpolation","color-profile","color-rendering","color","cursor","direction","display","dominant-baseline","enable-background","fill-opacity","fill-rule","fill","filter","flood-color","flood-opacity","font-family","font-size-adjust","font-size","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","stroke","text-anchor","text-decoration","text-rendering","unicode-bidi","visibility","word-spacing","writing-mode"]),this.SVGElement=t.globalThis.SVGElement;const e=t.document.createElement("div");if(e.innerHTML="<svg><altGlyph /></svg>","altglyph"===e.firstElementChild.nodeName){const t=this.V;let e=t.altGlyph;t.altGlyph=t.altglyph,t.altglyph=e,e=t.altGlyphDef,t.altGlyphDef=t.altglyphdef,t.altglyphdef=e,e=t.altGlyphItem,t.altGlyphItem=t.altglyphitem,t.altglyphitem=e,e=t.glyphRef,t.glyphRef=t.glyphref,t.glyphref=e}}static register(t){return Jt.singleton(hl,this).register(t)}isStandardSvgAttribute(t,e){var s;return t instanceof this.SVGElement&&(!0===this.M[t.nodeName]&&!0===this.j[e]||!0===(null===(s=this.V[t.nodeName])||void 0===s?void 0:s[e]))}}dl.inject=[ll];const pl=bt.createInterface("IAttrMapper",(t=>t.singleton(fl)));class fl{constructor(t){this.svg=t,this.fns=[],this.N=ba(),this.W=ba(),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}static get inject(){return[hl]}useMapping(t){var e,s;let i,n,r,o;for(r in t)for(o in i=t[r],n=null!==(e=(s=this.N)[r])&&void 0!==e?e:s[r]=ba(),i){if(void 0!==n[o])throw gl(o,r);n[o]=i[o]}}useGlobalMapping(t){const e=this.W;for(const s in t){if(void 0!==e[s])throw gl(s,"*");e[s]=t[s]}}useTwoWay(t){this.fns.push(t)}isTwoWay(t,e){return function(t,e){switch(t.nodeName){case"INPUT":switch(t.type){case"checkbox":case"radio":return"checked"===e;default:return"value"===e||"files"===e||"value-as-number"===e||"value-as-date"===e}case"TEXTAREA":case"SELECT":return"value"===e;default:switch(e){case"textcontent":case"innerhtml":return t.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(t,e)||this.fns.length>0&&this.fns.some((s=>s(t,e)))}map(t,e){var s,i,n;return null!==(n=null!==(i=null===(s=this.N[t.nodeName])||void 0===s?void 0:s[e])&&void 0!==i?i:this.W[e])&&void 0!==n?n:xa(t,e,this.svg)?e:null}}function gl(t,e){return new Error(`Attribute ${t} has been already registered for ${"*"===e?"all elements":`<${e}/>`}`)}class vl{constructor(t,e,s,i,n){this.sourceExpression=t,this.target=e,this.targetProperty=s,this.locator=n,this.interceptor=this,this.isBound=!1,this.targetObserver=i.getAccessor(e,s)}callSource(t){const e=this.$scope.overrideContext;e.$event=t;const s=this.sourceExpression.evaluate(8,this.$scope,this.locator,null);return Reflect.deleteProperty(e,"$event"),s}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,this.interceptor),this.targetObserver.setValue((t=>this.interceptor.callSource(t)),t,this.target,this.targetProperty),this.isBound=!0}$unbind(t){this.isBound&&(this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.targetObserver.setValue(null,t,this.target,this.targetProperty),this.isBound=!1)}observe(t,e){}handleChange(t,e,s){}}class ml{constructor(t,e,s){this.type=7,this.v=null,this.ov=null,this.H=!1,this.f=0,this.o=t,this.G=e,this.X=s}getValue(){return this.v}setValue(t,e){this.v=t,this.H=t!==this.ov,0==(64&e)&&this.K()}K(){if(this.H)switch(this.H=!1,this.ov=this.v,this.X){case"class":this.o.classList.toggle(this.G,!!this.v);break;case"style":{let t="",e=this.v;$a(e)&&e.includes("!important")&&(t="important",e=e.replace("!important","")),this.o.style.setProperty(this.G,e,t);break}default:null==this.v?this.o.removeAttribute(this.X):this.o.setAttribute(this.X,String(this.v))}}handleMutation(t){let e=!1;for(let s=0,i=t.length;i>s;++s){const i=t[s];if("attributes"===i.type&&i.attributeName===this.G){e=!0;break}}if(e){let t;switch(this.X){case"class":t=this.o.classList.contains(this.G);break;case"style":t=this.o.style.getPropertyValue(this.G);break;default:throw new Error(`AUR0651:${this.X}`)}t!==this.v&&(this.ov=this.v,this.v=t,this.H=!1,this.f=0,this.queue.add(this))}}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.v=this.ov=this.o.getAttribute(this.G),bl(this.o.ownerDocument.defaultView.MutationObserver,this.o,this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&wl(this.o,this)}flush(){kl=this.ov,this.ov=this.v,this.subs.notify(this.v,kl,this.f)}}Ci(ml),Si(ml);const bl=(t,e,s)=>{void 0===e.$eMObs&&(e.$eMObs=new Set),void 0===e.$mObs&&(e.$mObs=new t(yl)).observe(e,{attributes:!0}),e.$eMObs.add(s)},wl=(t,e)=>{const s=t.$eMObs;return!(!s||!s.delete(e))&&(0===s.size&&(t.$mObs.disconnect(),t.$mObs=void 0),!0)},yl=t=>{t[0].target.$eMObs.forEach(xl,t)};function xl(t){t.handleMutation(this)}let kl;class Cl{constructor(t){this.b=t}handleChange(t,e,s){const i=this.b;t!==i.sourceExpression.evaluate(s,i.$scope,i.locator,null)&&i.updateSource(t,s)}}const{oneTime:$l,toView:Al,fromView:Rl}=pi,El=Al|$l,Tl={reusable:!1,preempt:!0};class Sl{constructor(t,e,s,i,n,r,o){this.sourceExpression=t,this.targetAttribute=s,this.targetProperty=i,this.mode=n,this.locator=o,this.interceptor=this,this.isBound=!1,this.$scope=null,this.task=null,this.targetSubscriber=null,this.persistentFlags=0,this.value=void 0,this.target=e,this.p=o.get(ll),this.oL=r}updateTarget(t,e){e|=this.persistentFlags,this.targetObserver.setValue(t,e,this.target,this.targetProperty)}updateSource(t,e){e|=this.persistentFlags,this.sourceExpression.assign(e,this.$scope,this.locator,t)}handleChange(t,e,s){if(!this.isBound)return;s|=this.persistentFlags;const i=this.mode,n=this.interceptor,r=this.sourceExpression,o=this.$scope,a=this.locator,l=this.targetObserver,h=0==(2&s)&&(4&l.type)>0;let c,u=!1;(10082!==r.$kind||this.obs.count>1)&&(u=0==(i&$l),u&&this.obs.version++,t=r.evaluate(s,o,a,n),u&&this.obs.clear()),t!==this.value&&(this.value=t,h?(c=this.task,this.task=this.p.domWriteQueue.queueTask((()=>{this.task=null,n.updateTarget(t,s)}),Tl),null==c||c.cancel()):n.updateTarget(t,s))}$bind(t,e){var s;if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.persistentFlags=97&t,this.$scope=e;let i=this.sourceExpression;i.hasBind&&i.bind(t,e,this.interceptor);let n=this.targetObserver;n||(n=this.targetObserver=new ml(this.target,this.targetProperty,this.targetAttribute)),i=this.sourceExpression;const r=this.mode,o=this.interceptor;let a=!1;r&El&&(a=(r&Al)>0,o.updateTarget(this.value=i.evaluate(t,e,this.locator,a?o:null),t)),r&Rl&&n.subscribe(null!==(s=this.targetSubscriber)&&void 0!==s?s:this.targetSubscriber=new Cl(o)),this.isBound=!0}$unbind(t){var e;this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=null,this.value=void 0,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null===(e=this.task)||void 0===e||e.cancel(),this.task=null,this.obs.clearAll(),this.isBound=!1)}}Xn(Sl);const{toView:Ol}=pi,Il={reusable:!1,preempt:!0};class Ll{constructor(t,e,s,i,n,r,o){this.interpolation=e,this.target=s,this.targetProperty=i,this.mode=n,this.locator=r,this.taskQueue=o,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.task=null,this.oL=t,this.targetObserver=t.getAccessor(s,i);const a=e.expressions,l=this.partBindings=Array(a.length),h=a.length;let c=0;for(;h>c;++c)l[c]=new Bl(a[c],s,i,r,t,this)}updateTarget(t,e){const s=this.partBindings,i=this.interpolation.parts,n=s.length;let r="",o=0;if(1===n)r=i[0]+s[0].value+i[1];else for(r=i[0];n>o;++o)r+=s[o].value+i[o+1];const a=this.targetObserver;let l;0==(2&e)&&(4&a.type)>0?(l=this.task,this.task=this.taskQueue.queueTask((()=>{this.task=null,a.setValue(r,e,this.target,this.targetProperty)}),Il),null==l||l.cancel(),l=null):a.setValue(r,e,this.target,this.targetProperty)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e;const s=this.partBindings,i=s.length;let n=0;for(;i>n;++n)s[n].$bind(t,e);this.updateTarget(void 0,t)}$unbind(t){var e;if(!this.isBound)return;this.isBound=!1,this.$scope=void 0;const s=this.partBindings,i=s.length;let n=0;for(;i>n;++n)s[n].interceptor.$unbind(t);null===(e=this.task)||void 0===e||e.cancel(),this.task=null}}class Bl{constructor(t,e,s,i,n,r){this.sourceExpression=t,this.target=e,this.targetProperty=s,this.locator=i,this.owner=r,this.interceptor=this,this.mode=pi.toView,this.value="",this.task=null,this.isBound=!1,this.oL=n}handleChange(t,e,s){if(!this.isBound)return;const i=this.sourceExpression,n=this.obs;let r=!1;10082===i.$kind&&1===n.count||(r=(this.mode&Ol)>0,r&&n.version++,t=i.evaluate(s,this.$scope,this.locator,r?this.interceptor:null),r&&n.clear()),t!=this.value&&(this.value=t,t instanceof Array&&this.observeCollection(t),this.owner.updateTarget(t,s))}handleCollectionChange(t,e){this.owner.updateTarget(void 0,e)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,this.interceptor),this.value=this.sourceExpression.evaluate(t,e,this.locator,(this.mode&Ol)>0?this.interceptor:null),this.value instanceof Array&&this.observeCollection(this.value)}$unbind(t){this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clearAll())}}Xn(Bl);class Ml{constructor(t,e,s,i,n,r){this.sourceExpression=t,this.target=e,this.locator=s,this.p=n,this.strict=r,this.interceptor=this,this.mode=pi.toView,this.value="",this.task=null,this.isBound=!1,this.oL=i}updateTarget(t,e){var s,i;const n=this.target,r=this.p.Node,o=this.value;this.value=t,o instanceof r&&(null===(s=o.parentNode)||void 0===s||s.removeChild(o)),t instanceof r?(n.textContent="",null===(i=n.parentNode)||void 0===i||i.insertBefore(t,n)):n.textContent=String(t)}handleChange(t,e,s){var i;if(!this.isBound)return;const n=this.sourceExpression,r=this.obs;let o=!1;if(10082===n.$kind&&1===r.count||(o=(this.mode&Ol)>0,o&&r.version++,s|=this.strict?1:0,t=n.evaluate(s,this.$scope,this.locator,o?this.interceptor:null),o&&r.clear()),t===this.value)return null===(i=this.task)||void 0===i||i.cancel(),void(this.task=null);0==(2&s)?this.queueUpdate(t,s):this.updateTarget(t,s)}handleCollectionChange(){this.queueUpdate(this.value,0)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,this.interceptor),t|=this.strict?1:0;const s=this.value=this.sourceExpression.evaluate(t,e,this.locator,(this.mode&Ol)>0?this.interceptor:null);s instanceof Array&&this.observeCollection(s),this.updateTarget(s,t)}$unbind(t){var e;this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clearAll(),null===(e=this.task)||void 0===e||e.cancel(),this.task=null)}queueUpdate(t,e){const s=this.task;this.task=this.p.domWriteQueue.queueTask((()=>{this.task=null,this.updateTarget(t,e)}),Il),null==s||s.cancel()}}Xn(Ml);class Pl{constructor(t,e,s,i,n=!1){this.sourceExpression=t,this.targetProperty=e,this.locator=i,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.task=null,this.target=null,this.oL=s,this.Y=n}handleChange(t,e,s){if(!this.isBound)return;const i=this.target,n=this.targetProperty,r=i[n];this.obs.version++,t=this.sourceExpression.evaluate(s,this.$scope,this.locator,this.interceptor),this.obs.clear(),t!==r&&(i[n]=t)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.target=this.Y?e.bindingContext:e.overrideContext;const s=this.sourceExpression;s.hasBind&&s.bind(t,e,this.interceptor),this.target[this.targetProperty]=this.sourceExpression.evaluate(2|t,e,this.locator,this.interceptor),this.isBound=!0}$unbind(t){if(!this.isBound)return;const e=this.sourceExpression;e.hasUnbind&&e.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clearAll(),this.isBound=!1}}Xn(Pl);const{oneTime:Ul,toView:jl,fromView:ql}=pi,Fl=jl|Ul,Vl={reusable:!1,preempt:!0};class Dl{constructor(t,e,s,i,n,r,o){this.sourceExpression=t,this.target=e,this.targetProperty=s,this.mode=i,this.locator=r,this.taskQueue=o,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.targetObserver=void 0,this.persistentFlags=0,this.task=null,this.targetSubscriber=null,this.oL=n}updateTarget(t,e){e|=this.persistentFlags,this.targetObserver.setValue(t,e,this.target,this.targetProperty)}updateSource(t,e){e|=this.persistentFlags,this.sourceExpression.assign(e,this.$scope,this.locator,t)}handleChange(t,e,s){if(!this.isBound)return;const i=0==(2&(s|=this.persistentFlags))&&(4&this.targetObserver.type)>0,n=this.obs;let r=!1;(10082!==this.sourceExpression.$kind||n.count>1)&&(r=this.mode>Ul,r&&n.version++,t=this.sourceExpression.evaluate(s,this.$scope,this.locator,this.interceptor),r&&n.clear()),i?(Nl=this.task,this.task=this.taskQueue.queueTask((()=>{this.interceptor.updateTarget(t,s),this.task=null}),Vl),null==Nl||Nl.cancel(),Nl=null):this.interceptor.updateTarget(t,s)}$bind(t,e){var s;if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}t|=1,this.persistentFlags=97&t,this.$scope=e;let i=this.sourceExpression;i.hasBind&&i.bind(t,e,this.interceptor);const n=this.oL,r=this.mode;let o=this.targetObserver;o||(o=r&ql?n.getObserver(this.target,this.targetProperty):n.getAccessor(this.target,this.targetProperty),this.targetObserver=o),i=this.sourceExpression;const a=this.interceptor,l=(r&jl)>0;r&Fl&&a.updateTarget(i.evaluate(t,e,this.locator,l?a:null),t),r&ql&&(o.subscribe(null!==(s=this.targetSubscriber)&&void 0!==s?s:this.targetSubscriber=new Cl(a)),l||a.updateSource(o.getValue(this.target,this.targetProperty),t)),this.isBound=!0}$unbind(t){this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,Nl=this.task,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null!=Nl&&(Nl.cancel(),Nl=this.task=null),this.obs.clearAll(),this.isBound=!1)}}Xn(Dl);let Nl=null;class Hl{constructor(t,e,s){this.sourceExpression=t,this.target=e,this.locator=s,this.interceptor=this,this.isBound=!1,this.$scope=void 0}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,this),this.sourceExpression.assign(t,this.$scope,this.locator,this.target),this.isBound=!0}$unbind(t){if(!this.isBound)return;let e=this.sourceExpression;e.evaluate(t,this.$scope,this.locator,null)===this.target&&e.assign(t,this.$scope,this.locator,null),e=this.sourceExpression,e.hasUnbind&&e.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.isBound=!1}observe(t,e){}handleChange(t,e,s){}}const zl=bt.createInterface("IAppTask");class Kl{constructor(t,e,s){this.c=void 0,this.slot=t,this.k=e,this.cb=s}register(t){return this.c=t.register(Jt.instance(zl,this))}run(){const t=this.k,e=this.cb;return null===t?e():e(this.c.get(t))}}const Wl=Object.freeze({beforeCreate:Gl("beforeCreate"),hydrating:Gl("hydrating"),hydrated:Gl("hydrated"),beforeActivate:Gl("beforeActivate"),afterActivate:Gl("afterActivate"),beforeDeactivate:Gl("beforeDeactivate"),afterDeactivate:Gl("afterDeactivate")});function Gl(t){return function(e,s){return Ca(s)?new Kl(t,e,s):new Kl(t,null,e)}}function Ql(t,e){let s;function i(t,e){arguments.length>1&&(s.property=e),ca(Yl,_l.create(e,s),t.constructor,e),va(t.constructor,Zl.keyFrom(e))}return arguments.length>1?(s={},void i(t,e)):$a(t)?(s={},i):(s=void 0===t?{}:t,i)}function Xl(t){return t.startsWith(Yl)}const Yl=pa("children-observer"),Zl=Object.freeze({name:Yl,keyFrom:t=>`${Yl}:${t}`,from(...t){const e={},s=Array.isArray;function i(t){e[t]=_l.create(t)}function n(t,s){e[t]=_l.create(t,s)}return t.forEach((function(t){s(t)?t.forEach(i):t instanceof _l?e[t.property]=t:void 0!==t&&Object.keys(t).forEach((e=>n(e,t)))})),e},getAll(t){const e=Yl.length+1,s=[],i=J(t);let n,r,o,a=i.length,l=0;for(;--a>=0;){o=i[a],n=ma(o).filter(Xl),r=n.length;for(let t=0;t<r;++t)s[l++]=la(Yl,o,n[t].slice(e))}return s}}),Jl={childList:!0};class _l{constructor(t,e,s,i,n,r){this.callback=t,this.property=e,this.options=s,this.query=i,this.filter=n,this.map=r}static create(t,e={}){var s;return new _l(Z(e.callback,`${t}Changed`),Z(e.property,t),null!==(s=e.options)&&void 0!==s?s:Jl,e.query,e.filter,e.map)}}class th{constructor(t,e,s,i,n=eh,r=sh,o=ih,a){this.controller=t,this.obj=e,this.propertyKey=s,this.query=n,this.filter=r,this.map=o,this.options=a,this.observing=!1,this.children=void 0,this.observer=void 0,this.callback=e[i],Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:()=>{}})}getValue(){return this.observing?this.children:this.get()}setValue(t){}start(){var t;this.observing||(this.observing=!0,this.children=this.get(),(null!==(t=this.observer)&&void 0!==t?t:this.observer=new this.controller.host.ownerDocument.defaultView.MutationObserver((()=>{this.Z()}))).observe(this.controller.host,this.options))}stop(){this.observing&&(this.observing=!1,this.observer.disconnect(),this.children=ie)}Z(){this.children=this.get(),void 0!==this.callback&&this.callback.call(this.obj),this.subs.notify(this.children,void 0,0)}get(){return function(t,e,s,i){var n;const r=e(t),o=r.length,a=[];let l,h,c,u=0;for(;u<o;++u)l=r[u],h=Lh.for(l,nh),c=null!==(n=null==h?void 0:h.viewModel)&&void 0!==n?n:null,s(l,h,c)&&a.push(i(l,h,c));return a}(this.controller,this.query,this.filter,this.map)}}function eh(t){return t.host.childNodes}function sh(t,e,s){return!!s}function ih(t,e,s){return s}Ci()(th);const nh={optional:!0};function rh(t){return function(e){return uh.define(t,e)}}function oh(t){return function(e){return uh.define($a(t)?{isTemplateController:!0,name:t}:{isTemplateController:!0,...t},e)}}class ah{constructor(t,e,s,i,n,r,o,a,l,h){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.defaultBindingMode=n,this.isTemplateController=r,this.bindables=o,this.noMultiBindings=a,this.watches=l,this.dependencies=h}get type(){return 2}static create(t,e){let s,i;return $a(t)?(s=t,i={name:s}):(s=t.name,i=t),new ah(e,Z(ch(e,"name"),s),X(ch(e,"aliases"),i.aliases,e.aliases),uh.keyFrom(s),Z(ch(e,"defaultBindingMode"),i.defaultBindingMode,e.defaultBindingMode,pi.toView),Z(ch(e,"isTemplateController"),i.isTemplateController,e.isTemplateController,!1),Oa.from(e,...Oa.getAll(e),ch(e,"bindables"),e.bindables,i.bindables),Z(ch(e,"noMultiBindings"),i.noMultiBindings,e.noMultiBindings,!1),X(vh.getAnnotation(e),e.watches),X(ch(e,"dependencies"),i.dependencies,e.dependencies))}register(t){const{Type:e,key:s,aliases:i}=this;Jt.transient(s,e).register(t),Jt.aliasTo(s,e).register(t),fs(i,uh,s,t)}}const lh=fa("custom-attribute"),hh=t=>`${lh}:${t}`,ch=(t,e)=>la(pa(e),t),uh=Object.freeze({name:lh,keyFrom:hh,isType:t=>Ca(t)&&ha(lh,t),for(t,e){var s;return null!==(s=ou(t,hh(e)))&&void 0!==s?s:void 0},define(t,e){const s=ah.create(t,e);return ca(lh,s,s.Type),ca(lh,s,s),ga(e,lh),s.Type},getDefinition(t){const e=la(lh,t);if(void 0===e)throw new Error(`AUR0759:${t.name}`);return e},annotate(t,e,s){ca(pa(e),s,t)},getAnnotation:ch});function dh(t,e){if(!t)throw new Error("AUR0772");return function(s,i,n){const r=null==i,o=r?s:s.constructor,a=new ph(t,r?e:n.value);if(r){if(!(Ca(e)||null!=e&&e in o.prototype))throw new Error(`AUR0773:${String(e)}@${o.name}}`)}else if(!Ca(null==n?void 0:n.value))throw new Error(`AUR0774:${String(i)}`);vh.add(o,a),uh.isType(o)&&uh.getDefinition(o).watches.push(a),Lh.isType(o)&&Lh.getDefinition(o).watches.push(a)}}class ph{constructor(t,e){this.expression=t,this.callback=e}}const fh=ie,gh=pa("watch"),vh=Object.freeze({name:gh,add(t,e){let s=la(gh,t);null==s&&ca(gh,s=[],t),s.push(e)},getAnnotation(t){var e;return null!==(e=la(gh,t))&&void 0!==e?e:fh}});function mh(t){return function(e){return Lh.define(t,e)}}function bh(t){return void 0===t?function(t){Oh(t,"shadowOptions",{mode:"open"})}:Ca(t)?void Oh(t,"shadowOptions",{mode:"open"}):function(e){Oh(e,"shadowOptions",t)}}function wh(t){if(void 0===t)return function(t){Oh(t,"containerless",!0)};Oh(t,"containerless",!0)}const yh=new WeakMap;class xh{constructor(t,e,s,i,n,r,o,a,l,h,c,u,d,p,f,g,v,m,b,w,y){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.cache=n,this.capture=r,this.template=o,this.instructions=a,this.dependencies=l,this.injectable=h,this.needsCompile=c,this.surrogates=u,this.bindables=d,this.childrenObservers=p,this.containerless=f,this.isStrictBinding=g,this.shadowOptions=v,this.hasSlots=m,this.enhance=b,this.watches=w,this.processContent=y}get type(){return 1}static create(t,e=null){if(null===e){const s=t;if($a(s))throw new Error(`AUR0761:${t}`);const i=pt("name",s,Sh);return e=Ca(s.Type)?s.Type:Lh.generateType(V(i)),new xh(e,i,X(s.aliases),pt("key",s,(()=>Lh.keyFrom(i))),pt("cache",s,Ch),pt("capture",s,Ah),pt("template",s,$h),X(s.instructions),X(s.dependencies),pt("injectable",s,$h),pt("needsCompile",s,Rh),X(s.surrogates),Oa.from(e,s.bindables),Zl.from(s.childrenObservers),pt("containerless",s,Ah),pt("isStrictBinding",s,Ah),pt("shadowOptions",s,$h),pt("hasSlots",s,Ah),pt("enhance",s,Ah),pt("watches",s,Eh),dt("processContent",e,$h))}if($a(t))return new xh(e,t,X(Ih(e,"aliases"),e.aliases),Lh.keyFrom(t),dt("cache",e,Ch),dt("capture",e,Ah),dt("template",e,$h),X(Ih(e,"instructions"),e.instructions),X(Ih(e,"dependencies"),e.dependencies),dt("injectable",e,$h),dt("needsCompile",e,Rh),X(Ih(e,"surrogates"),e.surrogates),Oa.from(e,...Oa.getAll(e),Ih(e,"bindables"),e.bindables),Zl.from(...Zl.getAll(e),Ih(e,"childrenObservers"),e.childrenObservers),dt("containerless",e,Ah),dt("isStrictBinding",e,Ah),dt("shadowOptions",e,$h),dt("hasSlots",e,Ah),dt("enhance",e,Ah),X(vh.getAnnotation(e),e.watches),dt("processContent",e,$h));const s=pt("name",t,Sh);return new xh(e,s,X(Ih(e,"aliases"),t.aliases,e.aliases),Lh.keyFrom(s),ut("cache",t,e,Ch),ut("capture",t,e,Ah),ut("template",t,e,$h),X(Ih(e,"instructions"),t.instructions,e.instructions),X(Ih(e,"dependencies"),t.dependencies,e.dependencies),ut("injectable",t,e,$h),ut("needsCompile",t,e,Rh),X(Ih(e,"surrogates"),t.surrogates,e.surrogates),Oa.from(e,...Oa.getAll(e),Ih(e,"bindables"),e.bindables,t.bindables),Zl.from(...Zl.getAll(e),Ih(e,"childrenObservers"),e.childrenObservers,t.childrenObservers),ut("containerless",t,e,Ah),ut("isStrictBinding",t,e,Ah),ut("shadowOptions",t,e,$h),ut("hasSlots",t,e,Ah),ut("enhance",t,e,Ah),X(t.watches,vh.getAnnotation(e),e.watches),ut("processContent",t,e,$h))}static getOrCreate(t){if(t instanceof xh)return t;if(yh.has(t))return yh.get(t);const e=xh.create(t);return yh.set(t,e),ca(Th,e,e.Type),e}register(t){const{Type:e,key:s,aliases:i}=this;t.has(s,!1)||(Jt.transient(s,e).register(t),Jt.aliasTo(s,e).register(t),fs(i,Lh,s,t))}}const kh={name:void 0,searchParents:!1,optional:!1},Ch=()=>0,$h=()=>null,Ah=()=>!1,Rh=()=>!0,Eh=()=>ie,Th=fa("custom-element"),Sh=(()=>{let t=0;return()=>"unnamed-"+ ++t})(),Oh=(t,e,s)=>{ca(pa(e),s,t)},Ih=(t,e)=>la(pa(e),t),Lh=Object.freeze({name:Th,keyFrom:t=>`${Th}:${t}`,isType:t=>Ca(t)&&ha(Th,t),for(t,e=kh){if(void 0===e.name&&!0!==e.searchParents){const s=ou(t,Th);if(null===s){if(!0===e.optional)return null;throw new Error("AUR0762")}return s}if(void 0!==e.name){if(!0!==e.searchParents){const s=ou(t,Th);if(null===s)throw new Error("AUR0763");return s.is(e.name)?s:void 0}let s=t,i=!1;for(;null!==s;){const t=ou(s,Th);if(null!==t&&(i=!0,t.is(e.name)))return t;s=pu(s)}if(i)return;throw new Error("AUR0764")}let s=t;for(;null!==s;){const t=ou(s,Th);if(null!==t)return t;s=pu(s)}throw new Error("AUR0765")},define(t,e){const s=xh.create(t,e);return ca(Th,s,s.Type),ca(Th,s,s),ga(s.Type,Th),s.Type},getDefinition(t){const e=la(Th,t);if(void 0===e)throw new Error(`AUR0760:${t.name}`);return e},annotate:Oh,getAnnotation:Ih,generateName:Sh,createInjectable(){const t=function(e,s,i){return bt.getOrCreateAnnotationParamTypes(e)[i]=t,e};return t.register=function(e){return{resolve:(e,s)=>s.has(t,!0)?s.get(t):null}},t},generateType:function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(s,i=e){const n=class{};return t.value=s,Reflect.defineProperty(n,"name",t),i!==e&&Object.assign(n.prototype,i),n}}()}),Bh=pa("processContent");function Mh(t){return void 0===t?function(t,e,s){ca(Bh,Ph(t,e),t)}:function(e){t=Ph(e,t);const s=la(Th,e);return void 0!==s?s.processContent=t:ca(Bh,t,e),e}}function Ph(t,e){if($a(e)&&(e=t[e]),!Ca(e))throw new Error("AUR0766:"+typeof e);return e}class Uh{constructor(t){this.obj=t,this.type=6,this.value="",this.ov="",this.J={},this.tt=0,this.H=!1}get doNotCache(){return!0}getValue(){return this.value}setValue(t,e){this.value=t,this.H=t!==this.ov,0==(64&e)&&this.K()}K(){if(this.H){this.H=!1;const t=this.value,e=this.J,s=jh(t);let i=this.tt;if(this.ov=t,s.length>0&&this.it(s),this.tt+=1,0===i)return;i-=1;for(const t in e)wa.call(e,t)&&e[t]===i&&this.obj.classList.remove(t)}}it(t){const e=this.obj,s=t.length;let i,n=0;for(;n<s;n++)i=t[n],0!==i.length&&(this.J[i]=this.tt,e.classList.add(i))}}function jh(t){if($a(t))return qh(t);if("object"!=typeof t)return ie;if(t instanceof Array){const e=t.length;if(e>0){const s=[];let i=0;for(;e>i;++i)s.push(...jh(t[i]));return s}return ie}const e=[];let s;for(s in t)Boolean(t[s])&&(s.includes(" ")?e.push(...qh(s)):e.push(s));return e}function qh(t){const e=t.match(/\S+/g);return null===e?ie:e}function Fh(...t){return new Vh(t)}class Vh{constructor(t){this.modules=t}register(t){var e;const s=Object.assign({},...this.modules),i=uh.define({name:"class",bindables:["value"],noMultiBindings:!0},(e=class{constructor(t){this.element=t}binding(){this.valueChanged()}valueChanged(){this.value?this.element.className=jh(this.value).map((t=>s[t]||t)).join(" "):this.element.className=""}},e.inject=[lu],e));t.register(i)}}function Dh(...t){return new Hh(t)}const Nh=bt.createInterface("IShadowDOMStyleFactory",(t=>t.cachedCallback((t=>Qh.supported(t.get(ll))?t.get(zh):t.get(Kh)))));class Hh{constructor(t){this.css=t}register(t){const e=t.get(Gh),s=t.get(Nh);t.register(Jt.instance(Wh,s.createStyles(this.css,e)))}}class zh{constructor(t){this.p=t,this.cache=new Map}createStyles(t,e){return new Qh(this.p,t,this.cache,e)}}zh.inject=[ll];class Kh{constructor(t){this.p=t}createStyles(t,e){return new Xh(this.p,t,e)}}Kh.inject=[ll];const Wh=bt.createInterface("IShadowDOMStyles"),Gh=bt.createInterface("IShadowDOMGlobalStyles",(t=>t.instance({applyTo:re})));class Qh{constructor(t,e,s,i=null){this.sharedStyles=i,this.styleSheets=e.map((e=>{let i;return e instanceof t.CSSStyleSheet?i=e:(i=s.get(e),void 0===i&&(i=new t.CSSStyleSheet,i.replaceSync(e),s.set(e,i))),i}))}static supported(t){return"adoptedStyleSheets"in t.ShadowRoot.prototype}applyTo(t){null!==this.sharedStyles&&this.sharedStyles.applyTo(t),t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets]}}class Xh{constructor(t,e,s=null){this.p=t,this.localStyles=e,this.sharedStyles=s}applyTo(t){const e=this.localStyles,s=this.p;for(let i=e.length-1;i>-1;--i){const n=s.document.createElement("style");n.innerHTML=e[i],t.prepend(n)}null!==this.sharedStyles&&this.sharedStyles.applyTo(t)}}const Yh={shadowDOM:t=>Wl.beforeCreate(xt,(e=>{if(null!=t.sharedStyles){const s=e.get(Nh);e.register(Jt.instance(Gh,s.createStyles(t.sharedStyles,null)))}}))},{enter:Zh,exit:Jh}=Vr,{wrap:_h,unwrap:tc}=Bo;class ec{constructor(t,e,s,i,n){this.obj=t,this.get=s,this.cb=i,this.useProxy=n,this.interceptor=this,this.value=void 0,this.isBound=!1,this.running=!1,this.oL=e}handleChange(){this.run()}handleCollectionChange(){this.run()}$bind(){this.isBound||(this.isBound=!0,this.compute())}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(!this.isBound||this.running)return;const t=this.obj,e=this.value,s=this.compute();Object.is(s,e)||this.cb.call(t,s,e,t)}compute(){this.running=!0,this.obs.version++;try{return Zh(this),this.value=tc(this.get.call(void 0,this.useProxy?_h(this.obj):this.obj,this))}finally{this.obs.clear(),this.running=!1,Jh(this)}}}class sc{constructor(t,e,s,i,n){this.scope=t,this.locator=e,this.oL=s,this.expression=i,this.callback=n,this.interceptor=this,this.isBound=!1,this.obj=t.bindingContext}handleChange(t){const e=this.expression,s=this.obj,i=this.value;10082===e.$kind&&1===this.obs.count||(this.obs.version++,t=e.evaluate(0,this.scope,this.locator,this),this.obs.clear()),Object.is(t,i)||(this.value=t,this.callback.call(s,t,i,s))}$bind(){this.isBound||(this.isBound=!0,this.obs.version++,this.value=this.expression.evaluate(0,this.scope,this.locator,this),this.obs.clear())}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this.value=void 0)}}Xn(ec),Xn(sc);const ic=bt.createInterface("ILifecycleHooks");class nc{constructor(t,e){this.definition=t,this.instance=e}}class rc{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const s=new Set;let i=e.prototype;for(;i!==Object.prototype;){for(const t of Object.getOwnPropertyNames(i))"constructor"!==t&&s.add(t);i=Object.getPrototypeOf(i)}return new rc(e,s)}register(t){Jt.singleton(ic,this.Type).register(t)}}const oc=new WeakMap,ac=pa("lifecycle-hooks"),lc=Object.freeze({name:ac,define(t,e){const s=rc.create(t,e);return ca(ac,s,e),ga(e,ac),s.Type},resolve(t){let e=oc.get(t);if(void 0===e){oc.set(t,e=new hc);const s=t.root,i=s.id===t.id?t.getAll(ic):t.has(ic,!1)?s.getAll(ic).concat(t.getAll(ic)):s.getAll(ic);let n,r,o,a,l;for(n of i)for(a of(r=la(ac,n.constructor),o=new nc(r,n),r.propertyNames))l=e[a],void 0===l?e[a]=[o]:l.push(o)}return e}});class hc{}function cc(){return function(t){return lc.define({},t)}}const uc=bt.createInterface("IViewFactory");class dc{constructor(t,e){this.isCaching=!1,this.cache=null,this.cacheSize=-1,this.name=e.name,this.container=t,this.def=e}setCacheSize(t,e){t&&("*"===t?t=dc.maxCacheSize:$a(t)&&(t=parseInt(t,10)),-1!==this.cacheSize&&e||(this.cacheSize=t)),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0}canReturnToCache(t){return null!=this.cache&&this.cache.length<this.cacheSize}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.cache.push(t),!0)}create(t){const e=this.cache;let s;return null!=e&&e.length>0?(s=e.pop(),s):(s=Rc.$view(this,t),s)}}dc.maxCacheSize=65535;const pc=new WeakSet;function fc(t){return!pc.has(t)}function gc(t){return pc.add(t),xh.create(t)}const vc=fa("views"),mc=Object.freeze({name:vc,has:t=>Ca(t)&&(ha(vc,t)||"$views"in t),get(t){if(Ca(t)&&"$views"in t){const e=t.$views.filter(fc).map(gc);for(const s of e)mc.add(t,s)}let e=la(vc,t);return void 0===e&&ca(vc,e=[],t),e},add(t,e){const s=xh.create(e);let i=la(vc,t);return void 0===i?ca(vc,i=[s],t):i.push(s),i}});function bc(t){return function(e){mc.add(e,t)}}const wc=bt.createInterface("IViewLocator",(t=>t.singleton(yc)));class yc{constructor(){this.et=new WeakMap,this.st=new Map}getViewComponentForObject(t,e){if(t){const s=mc.has(t.constructor)?mc.get(t.constructor):[],i=Ca(e)?e(t,s):this.nt(s,e);return this.rt(t,s,i)}return null}rt(t,e,s){let i,n=this.et.get(t);if(void 0===n?(n={},this.et.set(t,n)):i=n[s],void 0===i){const r=this.ot(t,e,s);i=Lh.define(Lh.getDefinition(r),class extends r{constructor(){super(t)}}),n[s]=i}return i}ot(t,e,s){let i,n=this.st.get(t.constructor);if(void 0===n?(n={},this.st.set(t.constructor,n)):i=n[s],void 0===i){i=Lh.define(this.lt(e,s),class{constructor(t){this.viewModel=t}define(t,e,s){const i=this.viewModel;if(t.scope=vs.fromParent(t.scope,i),void 0!==i.define)return i.define(t,e,s)}});const r=i.prototype;"hydrating"in t&&(r.hydrating=function(t){this.viewModel.hydrating(t)}),"hydrated"in t&&(r.hydrated=function(t){this.viewModel.hydrated(t)}),"created"in t&&(r.created=function(t){this.viewModel.created(t)}),"binding"in t&&(r.binding=function(t,e,s){return this.viewModel.binding(t,e,s)}),"bound"in t&&(r.bound=function(t,e,s){return this.viewModel.bound(t,e,s)}),"attaching"in t&&(r.attaching=function(t,e,s){return this.viewModel.attaching(t,e,s)}),"attached"in t&&(r.attached=function(t,e){return this.viewModel.attached(t,e)}),"detaching"in t&&(r.detaching=function(t,e,s){return this.viewModel.detaching(t,e,s)}),"unbinding"in t&&(r.unbinding=function(t,e,s){return this.viewModel.unbinding(t,e,s)}),"dispose"in t&&(r.dispose=function(){this.viewModel.dispose()}),n[s]=i}return i}nt(t,e){return e||(1===t.length?t[0].name:"default-view")}lt(t,e){const s=t.find((t=>t.name===e));if(void 0===s)throw new Error(`Could not find view: ${e}`);return s}}const xc=bt.createInterface("IRendering",(t=>t.singleton(kc)));class kc{constructor(t){this.ht=new WeakMap,this.ct=new WeakMap,this.ut=(this.ft=t.root).get(ll),this.dt=new mu(this.ut,this.ut.document.createDocumentFragment())}get renderers(){return null==this.rs?this.rs=this.ft.getAll(id,!1).reduce(((t,e)=>(t[e.target]=e,t)),ba()):this.rs}compile(t,e,s){if(!1!==t.needsCompile){const i=this.ht,n=e.get(sd);let r=i.get(t);return null==r?i.set(t,r=n.compile(t,e,s)):e.register(...r.dependencies),r}return t}getViewFactory(t,e){return new dc(e,xh.getOrCreate(t))}createNodes(t){if(!0===t.enhance)return new mu(this.ut,t.template);let e;const s=this.ct;if(s.has(t))e=s.get(t);else{const i=this.ut,n=i.document,r=t.template;let o;null===r?e=null:r instanceof i.Node?"TEMPLATE"===r.nodeName?e=n.adoptNode(r.content):(e=n.adoptNode(n.createDocumentFragment())).appendChild(r.cloneNode(!0)):(o=n.createElement("template"),$a(r)&&(o.innerHTML=r),n.adoptNode(e=o.content)),s.set(t,e)}return null==e?this.dt:new mu(this.ut,e.cloneNode(!0))}render(t,e,s,i){const n=s.instructions,r=this.renderers,o=e.length;if(e.length!==n.length)throw new Error(`AUR0757:${o}<>${n.length}`);let a,l,h,c=0,u=0,d=0;if(o>0)for(;o>c;){for(a=n[c],h=e[c],u=0,d=a.length;d>u;)l=a[u],r[l.type].render(t,h,l),++u;++c}if(null!=i&&(a=s.surrogates,(d=a.length)>0))for(u=0;d>u;)l=a[u],r[l.type].render(t,i,l),++u}}var Cc;kc.inject=[xt],function(t){t[t.none=0]="none",t[t.host=1]="host",t[t.shadowRoot=2]="shadowRoot",t[t.location=3]="location"}(Cc||(Cc={}));const $c={optional:!0},Ac=new WeakMap;class Rc{constructor(t,e,s,i,n,r,o){switch(this.container=t,this.vmKind=e,this.definition=s,this.viewFactory=i,this.viewModel=n,this.host=r,this.id=z("au$component"),this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=null,this.isBound=!1,this.hostController=null,this.mountTarget=0,this.shadowRoot=null,this.nodes=null,this.location=null,this.lifecycleHooks=null,this.state=0,this.vt=!1,this.gt=ie,this.flags=0,this.$initiator=null,this.$flags=0,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.wt=0,this.bt=0,this.xt=0,this.location=o,this.r=t.root.get(xc),e){case 1:case 0:this.hooks=new Mc(n);break;case 2:this.hooks=Mc.none}}get isActive(){return(3&this.state)>0&&0==(4&this.state)}get name(){var t;if(null===this.parent)switch(this.vmKind){case 1:return`[${this.definition.name}]`;case 0:return this.definition.name;case 2:return this.viewFactory.name}switch(this.vmKind){case 1:return`${this.parent.name}>[${this.definition.name}]`;case 0:return`${this.parent.name}>${this.definition.name}`;case 2:return this.viewFactory.name===(null===(t=this.parent.definition)||void 0===t?void 0:t.name)?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}static getCached(t){return Ac.get(t)}static getCachedOrThrow(t){const e=Rc.getCached(t);if(void 0===e)throw new Error(`AUR0500:${t}`);return e}static $el(t,e,s,i,n,r=null){if(Ac.has(e))return Ac.get(e);n=null!=n?n:Lh.getDefinition(e.constructor);const o=new Rc(t,0,n,null,e,s,r),a=t.get(It(Vc));return n.dependencies.length>0&&t.register(...n.dependencies),t.registerResolver(Vc,new _t("IHydrationContext",new Dc(o,i,a))),Ac.set(e,o),null!=i&&!1===i.hydrate||o.hE(i,a),o}static $attr(t,e,s,i){if(Ac.has(e))return Ac.get(e);i=null!=i?i:uh.getDefinition(e.constructor);const n=new Rc(t,1,i,null,e,s,null);return i.dependencies.length>0&&t.register(...i.dependencies),Ac.set(e,n),n.yt(),n}static $view(t,e){const s=new Rc(t.container,2,null,t,null,null,null);return s.parent=null!=e?e:null,s.kt(),s}hE(t,e){const s=this.container,i=this.flags,n=this.viewModel;let r=this.definition;if(this.scope=vs.create(n,null,!0),r.watches.length>0&&Ic(this,s,r,n),Tc(this,r,i,n),this.gt=function(t,e,s){const i=e.childrenObservers,n=Object.getOwnPropertyNames(i),r=n.length;if(r>0){const e=Ec(s),o=[];let a,l,h=0;for(;h<r;++h)a=n[h],null==e[a]&&(l=i[a],o[o.length]=e[a]=new th(t,s,a,l.callback,l.query,l.filter,l.map,l.options));return o}return ie}(this,r,n),this.hooks.hasDefine){const t=n.define(this,e,r);void 0!==t&&t!==r&&(r=xh.getOrCreate(t))}this.lifecycleHooks=lc.resolve(s),r.register(s),null!==r.injectable&&s.registerResolver(r.injectable,new _t("definition.injectable",n)),null!=t&&!1===t.hydrate||(this.hS(t),this.hC())}hS(t){void 0!==this.lifecycleHooks.hydrating&&this.lifecycleHooks.hydrating.forEach(zc,this),this.hooks.hasHydrating&&this.viewModel.hydrating(this);const e=this.Ct=this.r.compile(this.definition,this.container,t),{shadowOptions:s,isStrictBinding:i,hasSlots:n}=e,r=this.location;if(this.isStrictBinding=i,null!==(this.hostController=Lh.for(this.host,$c))&&(this.host=this.container.root.get(ll).document.createElement(this.definition.name)),au(this.host,Lh.name,this),au(this.host,this.definition.key,this),null!==s||n){if(null!=r)throw new Error("AUR0501");au(this.shadowRoot=this.host.attachShadow(null!=s?s:Pc),Lh.name,this),au(this.shadowRoot,this.definition.key,this),this.mountTarget=2}else null!=r?(au(r,Lh.name,this),au(r,this.definition.key,this),this.mountTarget=3):this.mountTarget=1;this.viewModel.$controller=this,this.nodes=this.r.createNodes(e),void 0!==this.lifecycleHooks.hydrated&&this.lifecycleHooks.hydrated.forEach(Kc,this),this.hooks.hasHydrated&&this.viewModel.hydrated(this)}hC(){this.r.render(this,this.nodes.findTargets(),this.Ct,this.host),void 0!==this.lifecycleHooks.created&&this.lifecycleHooks.created.forEach(Hc,this),this.hooks.hasCreated&&this.viewModel.created(this)}yt(){const t=this.definition,e=this.viewModel;t.watches.length>0&&Ic(this,this.container,t,e),Tc(this,t,this.flags,e),e.$controller=this,this.lifecycleHooks=lc.resolve(this.container),void 0!==this.lifecycleHooks.created&&this.lifecycleHooks.created.forEach(Hc,this),this.hooks.hasCreated&&this.viewModel.created(this)}kt(){this.Ct=this.r.compile(this.viewFactory.def,this.container,null),this.isStrictBinding=this.Ct.isStrictBinding,this.r.render(this,(this.nodes=this.r.createNodes(this.Ct)).findTargets(),this.Ct,void 0)}activate(t,e,s,i){switch(this.state){case 0:case 8:if(null!==e&&!e.isActive)return;this.state=1;break;case 2:return;case 32:throw new Error(`AUR0502:${this.name}`);default:throw new Error(`AUR0503:${this.name} ${qc(this.state)}`)}switch(this.parent=e,s|=2,this.vmKind){case 0:this.scope.parentScope=null!=i?i:null;break;case 1:this.scope=null!=i?i:null;break;case 2:if(null==i)throw new Error("AUR0504");this.hasLockedScope||(this.scope=i)}let n;return this.isStrictBinding&&(s|=1),this.$initiator=t,this.$flags=s,this.At(),2!==this.vmKind&&null!=this.lifecycleHooks.binding&&(n=st(...this.lifecycleHooks.binding.map(Wc,this))),this.hooks.hasBinding&&(n=st(n,this.viewModel.binding(this.$initiator,this.parent,this.$flags))),n instanceof Promise?(this.Rt(),n.then((()=>{this.bind()})).catch((t=>{this.St(t)})),this.$promise):(this.bind(),this.$promise)}bind(){let t,e=0,s=this.gt.length;if(s>0)for(;s>e;)this.gt[e].start(),++e;if(null!==this.bindings)for(e=0,s=this.bindings.length;s>e;)this.bindings[e].$bind(this.$flags,this.scope),++e;if(2!==this.vmKind&&null!=this.lifecycleHooks.bound&&(t=st(...this.lifecycleHooks.bound.map(Gc,this))),this.hooks.hasBound&&(t=st(t,this.viewModel.bound(this.$initiator,this.parent,this.$flags))),t instanceof Promise)return this.Rt(),void t.then((()=>{this.isBound=!0,this.Et()})).catch((t=>{this.St(t)}));this.isBound=!0,this.Et()}Bt(...t){switch(this.mountTarget){case 1:this.host.append(...t);break;case 2:this.shadowRoot.append(...t);break;case 3:{let e=0;for(;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location);break}}}Et(){if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.hostController.Bt(this.host);break;case 3:this.hostController.Bt(this.location.$start,this.location)}switch(this.mountTarget){case 1:this.nodes.appendTo(this.host,null!=this.definition&&this.definition.enhance);break;case 2:{const t=this.container;(t.has(Wh,!1)?t.get(Wh):t.get(Gh)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case 3:this.nodes.insertBefore(this.location)}let t,e=0;if(2!==this.vmKind&&null!=this.lifecycleHooks.attaching&&(t=st(...this.lifecycleHooks.attaching.map(Qc,this))),this.hooks.hasAttaching&&(t=st(t,this.viewModel.attaching(this.$initiator,this.parent,this.$flags))),t instanceof Promise&&(this.Rt(),this.At(),t.then((()=>{this.It()})).catch((t=>{this.St(t)}))),null!==this.children)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.$flags,this.scope);this.It()}deactivate(t,e,s){switch(-17&this.state){case 2:this.state=4;break;case 0:case 8:case 32:case 40:return;default:throw new Error(`AUR0505:${this.name} ${qc(this.state)}`)}this.$initiator=t,this.$flags=s,t===this&&this.Tt();let i,n=0;if(this.gt.length)for(;n<this.gt.length;++n)this.gt[n].stop();if(null!==this.children)for(n=0;n<this.children.length;++n)this.children[n].deactivate(t,this,s);if(2!==this.vmKind&&null!=this.lifecycleHooks.detaching&&(i=st(...this.lifecycleHooks.detaching.map(Yc,this))),this.hooks.hasDetaching&&(i=st(i,this.viewModel.detaching(this.$initiator,this.parent,this.$flags))),i instanceof Promise&&(this.Rt(),t.Tt(),i.then((()=>{t.Dt()})).catch((e=>{t.St(e)}))),null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.Dt(),this.$promise}removeNodes(){switch(this.vmKind){case 0:case 2:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.host.remove();break;case 3:this.location.$start.remove(),this.location.remove()}}unbind(){const t=4|this.$flags;let e=0;if(null!==this.bindings)for(;e<this.bindings.length;++e)this.bindings[e].$unbind(t);switch(this.parent=null,this.vmKind){case 1:this.scope=null;break;case 2:this.hasLockedScope||(this.scope=null),16!=(16&this.state)||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case 0:this.scope.parentScope=null}16==(16&t)&&this.$initiator===this&&this.dispose(),this.state=32&this.state|8,this.$initiator=null,this.Pt()}Rt(){void 0===this.$promise&&(this.$promise=new Promise(((t,e)=>{this.$resolve=t,this.$reject=e})),this.$initiator!==this&&this.parent.Rt())}Pt(){void 0!==this.$promise&&(Jc=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,Jc(),Jc=void 0)}St(t){void 0!==this.$promise&&(_c=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,_c(t),_c=void 0),this.$initiator!==this&&this.parent.St(t)}At(){++this.wt,this.$initiator!==this&&this.parent.At()}It(){if(0==--this.wt){if(2!==this.vmKind&&null!=this.lifecycleHooks.attached&&(tu=st(...this.lifecycleHooks.attached.map(Xc,this))),this.hooks.hasAttached&&(tu=st(tu,this.viewModel.attached(this.$initiator,this.$flags))),tu instanceof Promise)return this.Rt(),tu.then((()=>{this.state=2,this.Pt(),this.$initiator!==this&&this.parent.It()})).catch((t=>{this.St(t)})),void(tu=void 0);tu=void 0,this.state=2,this.Pt()}this.$initiator!==this&&this.parent.It()}Tt(){++this.bt}Dt(){if(0==--this.bt){this.$t(),this.removeNodes();let t,e=this.$initiator.head;for(;null!==e;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),2!==e.vmKind&&null!=e.lifecycleHooks.unbinding&&(t=st(...e.lifecycleHooks.unbinding.map(Zc,this))),e.hooks.hasUnbinding&&(e.debug&&e.logger.trace("unbinding()"),t=st(t,e.viewModel.unbinding(e.$initiator,e.parent,e.$flags))),t instanceof Promise&&(this.Rt(),this.$t(),t.then((()=>{this.Ot()})).catch((t=>{this.St(t)}))),t=void 0,e=e.next;this.Ot()}}$t(){++this.xt}Ot(){if(0==--this.xt){let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addChild(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case 1:return uh.getDefinition(this.viewModel.constructor).name===t;case 0:return Lh.getDefinition(this.viewModel.constructor).name===t;case 2:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return 0===this.vmKind&&(au(t,Lh.name,this),au(t,this.definition.key,this)),this.host=t,this.mountTarget=1,this}setShadowRoot(t){return 0===this.vmKind&&(au(t,Lh.name,this),au(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=2,this}setLocation(t){return 0===this.vmKind&&(au(t,Lh.name,this),au(t,this.definition.key,this)),this.location=t,this.mountTarget=3,this}release(){this.state|=16}dispose(){32!=(32&this.state)&&(this.state|=32,this.hooks.hasDispose&&this.viewModel.dispose(),null!==this.children&&(this.children.forEach(Nc),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,null!==this.viewModel&&(Ac.delete(this.viewModel),this.viewModel=null),this.viewModel=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(t){if(!0===t(this))return!0;if(this.hooks.hasAccept&&!0===this.viewModel.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let s=0,i=e.length;s<i;++s)if(!0===e[s].accept(t))return!0}}}function Ec(t){let e=t.$observers;return void 0===e&&Reflect.defineProperty(t,"$observers",{enumerable:!1,value:e={}}),e}function Tc(t,e,s,i){const n=e.bindables,r=Object.getOwnPropertyNames(n),o=r.length;if(o>0){let e,s,a=0;const l=Ec(i),h=t.container,c=h.has(di,!0)?h.get(di):null;for(;a<o;++a)e=r[a],void 0===l[e]&&(s=n[e],l[e]=new Ma(i,e,s.callback,s.set,t,c))}}const Sc=new Map,Oc=t=>{let e=Sc.get(t);return null==e&&(e=new Ds(t,0),Sc.set(t,e)),e};function Ic(t,e,s,i){const n=e.get(Go),r=e.get(Zn),o=s.watches,a=0===t.vmKind?t.scope:vs.create(i,null,!0),l=o.length;let h,c,u,d=0;for(;l>d;++d){if(({expression:h,callback:c}=o[d]),c=Ca(c)?c:Reflect.get(i,c),!Ca(c))throw new Error(`AUR0506:${String(c)}`);Ca(h)?t.addBinding(new ec(i,n,h,c,!0)):(u=$a(h)?r.parse(h,8):Oc(h),t.addBinding(new sc(a,e,n,u,c)))}}function Lc(t){return t instanceof Rc&&0===t.vmKind}function Bc(e){return t(e)&&Lh.isType(e.constructor)}class Mc{constructor(t){this.hasDefine="define"in t,this.hasHydrating="hydrating"in t,this.hasHydrated="hydrated"in t,this.hasCreated="created"in t,this.hasBinding="binding"in t,this.hasBound="bound"in t,this.hasAttaching="attaching"in t,this.hasAttached="attached"in t,this.hasDetaching="detaching"in t,this.hasUnbinding="unbinding"in t,this.hasDispose="dispose"in t,this.hasAccept="accept"in t}}Mc.none=new Mc({});const Pc={mode:"open"};var Uc,jc;function qc(t){const e=[];return 1==(1&t)&&e.push("activating"),2==(2&t)&&e.push("activated"),4==(4&t)&&e.push("deactivating"),8==(8&t)&&e.push("deactivated"),16==(16&t)&&e.push("released"),32==(32&t)&&e.push("disposed"),0===e.length?"none":e.join("|")}!function(t){t[t.customElement=0]="customElement",t[t.customAttribute=1]="customAttribute",t[t.synthetic=2]="synthetic"}(Uc||(Uc={})),function(t){t[t.none=0]="none",t[t.activating=1]="activating",t[t.activated=2]="activated",t[t.deactivating=4]="deactivating",t[t.deactivated=8]="deactivated",t[t.released=16]="released",t[t.disposed=32]="disposed"}(jc||(jc={}));const Fc=bt.createInterface("IController"),Vc=bt.createInterface("IHydrationContext");class Dc{constructor(t,e,s){this.instruction=e,this.parent=s,this.controller=t}}function Nc(t){t.dispose()}function Hc(t){t.instance.created(this.viewModel,this)}function zc(t){t.instance.hydrating(this.viewModel,this)}function Kc(t){t.instance.hydrated(this.viewModel,this)}function Wc(t){return t.instance.binding(this.viewModel,this.$initiator,this.parent,this.$flags)}function Gc(t){return t.instance.bound(this.viewModel,this.$initiator,this.parent,this.$flags)}function Qc(t){return t.instance.attaching(this.viewModel,this.$initiator,this.parent,this.$flags)}function Xc(t){return t.instance.attached(this.viewModel,this.$initiator,this.$flags)}function Yc(t){return t.instance.detaching(this.viewModel,this.$initiator,this.parent,this.$flags)}function Zc(t){return t.instance.unbinding(this.viewModel,this.$initiator,this.parent,this.$flags)}let Jc,_c,tu;const eu=bt.createInterface("IAppRoot"),su=bt.createInterface("IWorkTracker",(t=>t.singleton(iu)));class iu{constructor(t){this.Lt=0,this.qt=null,this.Pt=null,this.Ut=t.scopeTo("WorkTracker")}start(){this.Ut.trace(`start(stack:${this.Lt})`),++this.Lt}finish(){if(this.Ut.trace(`finish(stack:${this.Lt})`),0==--this.Lt){const t=this.Pt;null!==t&&(this.Pt=this.qt=null,t())}}wait(){if(this.Ut.trace(`wait(stack:${this.Lt})`),null===this.qt){if(0===this.Lt)return Promise.resolve();this.qt=new Promise((t=>{this.Pt=t}))}return this.qt}}iu.inject=[fe];class nu{constructor(t,e,s,i){this.config=t,this.platform=e,this.container=s,this.controller=void 0,this._t=void 0,this.host=t.host,this.work=s.get(su),i.prepare(this),s.registerResolver(e.HTMLElement,s.registerResolver(e.Element,s.registerResolver(lu,new _t("ElementResolver",t.host)))),this._t=et(this.Ft("beforeCreate"),(()=>{const e=t.component,i=s.createChild();let n;n=Lh.isType(e)?this.container.get(e):t.component;const r={hydrate:!1,projections:null},o=this.controller=Rc.$el(i,n,this.host,r);return o.hE(r,null),et(this.Ft("hydrating"),(()=>(o.hS(null),et(this.Ft("hydrated"),(()=>{o.hC(),this._t=void 0})))))}))}activate(){return et(this._t,(()=>et(this.Ft("beforeActivate"),(()=>et(this.controller.activate(this.controller,null,2,void 0),(()=>this.Ft("afterActivate")))))))}deactivate(){return et(this.Ft("beforeDeactivate"),(()=>et(this.controller.deactivate(this.controller,null,0),(()=>this.Ft("afterDeactivate")))))}Ft(t){return st(...this.container.getAll(zl).reduce(((e,s)=>(s.slot===t&&e.push(s.run()),e)),[]))}dispose(){var t;null===(t=this.controller)||void 0===t||t.dispose()}}class ru{}function ou(t,e){var s,i;return null!==(i=null===(s=t.$au)||void 0===s?void 0:s[e])&&void 0!==i?i:null}function au(t,e,s){var i,n;(null!==(i=(n=t).$au)&&void 0!==i?i:n.$au=new ru)[e]=s}const lu=bt.createInterface("INode"),hu=bt.createInterface("IEventTarget",(t=>t.cachedCallback((t=>t.has(eu,!0)?t.get(eu).host:t.get(ll).document)))),cu=bt.createInterface("IRenderLocation");var uu;!function(t){t[t.Element=1]="Element",t[t.Attr=2]="Attr",t[t.Text=3]="Text",t[t.CDATASection=4]="CDATASection",t[t.EntityReference=5]="EntityReference",t[t.Entity=6]="Entity",t[t.ProcessingInstruction=7]="ProcessingInstruction",t[t.Comment=8]="Comment",t[t.Document=9]="Document",t[t.DocumentType=10]="DocumentType",t[t.DocumentFragment=11]="DocumentFragment",t[t.Notation=12]="Notation"}(uu||(uu={}));const du=new WeakMap;function pu(t){if(du.has(t))return du.get(t);let e=0,s=t.nextSibling;for(;null!==s;){if(8===s.nodeType)switch(s.textContent){case"au-start":++e;break;case"au-end":if(0==e--)return s}s=s.nextSibling}if(null===t.parentNode&&11===t.nodeType){const e=Lh.for(t);if(void 0===e)return null;if(2===e.mountTarget)return pu(e.host)}return t.parentNode}function fu(t,e){if(void 0===t.platform||t instanceof t.platform.Node)du.set(t,e);else{const s=t.childNodes;for(let t=0,i=s.length;t<i;++t)du.set(s[t],e)}}function gu(t){if(vu(t))return t;const e=t.ownerDocument.createComment("au-end"),s=t.ownerDocument.createComment("au-start");return null!==t.parentNode&&(t.parentNode.replaceChild(e,t),e.parentNode.insertBefore(s,e)),e.$start=s,e}function vu(t){return"au-end"===t.textContent}class mu{constructor(t,e){this.platform=t,this.fragment=e,this.isMounted=!1,this.isLinked=!1,this.next=void 0,this.refNode=void 0;const s=e.querySelectorAll(".au");let i,n=0,r=s.length,o=this.targets=Array(r);for(;r>n;)i=s[n],"AU-M"===i.nodeName?o[n]=gu(i):o[n]=i,++n;const a=e.childNodes,l=this.childNodes=Array(r=a.length);for(n=0;r>n;)l[n]=a[n],++n;this.firstChild=e.firstChild,this.lastChild=e.lastChild}findTargets(){return this.targets}insertBefore(t){if(this.isLinked&&this.refNode)this.addToLinked();else{const e=t.parentNode;if(this.isMounted){let s,i=this.firstChild;const n=this.lastChild;for(;null!=i&&(s=i.nextSibling,e.insertBefore(i,t),i!==n);)i=s}else this.isMounted=!0,t.parentNode.insertBefore(this.fragment,t)}}appendTo(t,e=!1){if(this.isMounted){let e,s=this.firstChild;const i=this.lastChild;for(;null!=s&&(e=s.nextSibling,t.appendChild(s),s!==i);)s=e}else this.isMounted=!0,e||t.appendChild(this.fragment)}remove(){if(this.isMounted){this.isMounted=!1;const t=this.fragment,e=this.lastChild;let s,i=this.firstChild;for(;null!==i&&(s=i.nextSibling,t.appendChild(i),i!==e);)i=s}}addToLinked(){const t=this.refNode,e=t.parentNode;if(this.isMounted){let s,i=this.firstChild;const n=this.lastChild;for(;null!=i&&(s=i.nextSibling,e.insertBefore(i,t),i!==n);)i=s}else this.isMounted=!0,e.insertBefore(this.fragment,t)}unlink(){this.isLinked=!1,this.next=void 0,this.refNode=void 0}link(t){this.isLinked=!0,vu(t)?this.refNode=t:(this.next=t,this.obtainRefNode())}obtainRefNode(){void 0!==this.next?this.refNode=this.next.firstChild:this.refNode=void 0}}const bu=bt.createInterface("IWindow",(t=>t.callback((t=>t.get(ll).window)))),wu=bt.createInterface("ILocation",(t=>t.callback((t=>t.get(bu).location)))),yu=bt.createInterface("IHistory",(t=>t.callback((t=>t.get(bu).history)))),xu={[vi.capturing]:{capture:!0},[vi.bubbling]:{capture:!1}};class ku{constructor(t,e,s){this.prevent=t,this.strategy=e,this.expAsHandler=s}}class Cu{constructor(t,e,s,i,n,r,o){this.platform=t,this.targetEvent=e,this.sourceExpression=s,this.target=i,this.eventDelegator=n,this.locator=r,this.Vt=o,this.interceptor=this,this.isBound=!1,this.handler=null}callSource(t){const e=this.$scope.overrideContext;e.$event=t;let s=this.sourceExpression.evaluate(8,this.$scope,this.locator,null);if(delete e.$event,this.Vt.expAsHandler){if(!Ca(s))throw new Error(`Handler of "${this.targetEvent}" event is not a function.`);s=s(t)}return!0!==s&&this.Vt.prevent&&t.preventDefault(),s}handleEvent(t){this.interceptor.callSource(t)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e;const s=this.sourceExpression;s.hasBind&&s.bind(t,e,this.interceptor),this.Vt.strategy===vi.none?this.target.addEventListener(this.targetEvent,this):this.handler=this.eventDelegator.addEventListener(this.locator.get(hu),this.target,this.targetEvent,this,xu[this.Vt.strategy]),this.isBound=!0}$unbind(t){if(!this.isBound)return;const e=this.sourceExpression;e.hasUnbind&&e.unbind(t,this.$scope,this.interceptor),this.$scope=null,this.Vt.strategy===vi.none?this.target.removeEventListener(this.targetEvent,this):(this.handler.dispose(),this.handler=null),this.isBound=!1}observe(t,e){}handleChange(t,e,s){}}const $u={capture:!1};class Au{constructor(t,e,s=$u){this.Mt=t,this.jt=e,this.Vt=s,this.Nt=0,this.Wt=new Map,this.Ht=new Map}zt(){1==++this.Nt&&this.Mt.addEventListener(this.jt,this,this.Vt)}Gt(){0==--this.Nt&&this.Mt.removeEventListener(this.jt,this,this.Vt)}dispose(){this.Nt>0&&(this.Nt=0,this.Mt.removeEventListener(this.jt,this,this.Vt)),this.Wt.clear(),this.Ht.clear()}Xt(t){const e=!0===this.Vt.capture?this.Wt:this.Ht;let s=e.get(t);return void 0===s&&e.set(t,s=ba()),s}handleEvent(t){const e=!0===this.Vt.capture?this.Wt:this.Ht,s=t.composedPath();!0===this.Vt.capture&&s.reverse();for(const i of s){const s=e.get(i);if(void 0===s)continue;const n=s[this.jt];if(void 0!==n&&(Ca(n)?n(t):n.handleEvent(t),!0===t.cancelBubble))return}}}class Ru{constructor(t,e,s,i){this.Kt=t,this.Yt=e,this.jt=s,t.zt(),e[s]=i}dispose(){this.Kt.Gt(),this.Yt[this.jt]=void 0}}class Eu{constructor(t){this.config=t,this.target=null,this.handler=null}subscribe(t,e){let s;for(s of(this.target=t,this.handler=e,this.config.events))t.addEventListener(s,e)}dispose(){const{target:t,handler:e}=this;let s;if(null!==t&&null!==e)for(s of this.config.events)t.removeEventListener(s,e);this.target=this.handler=null}}const Tu=bt.createInterface("IEventDelegator",(t=>t.singleton(Su)));class Su{constructor(){this.Zt=ba()}addEventListener(t,e,s,i,n){var r,o;const a=null!==(r=(o=this.Zt)[s])&&void 0!==r?r:o[s]=new Map;let l=a.get(t);return void 0===l&&a.set(t,l=new Au(t,s,n)),new Ru(l,l.Xt(e),s,i)}dispose(){for(const t in this.Zt){const e=this.Zt[t];for(const t of e.values())t.dispose();e.clear()}}}const Ou=bt.createInterface("IProjections"),Iu=bt.createInterface("IAuSlotsInfo");class Lu{constructor(t){this.projectedSlots=t}}var Bu;!function(t){t.hydrateElement="ra",t.hydrateAttribute="rb",t.hydrateTemplateController="rc",t.hydrateLetElement="rd",t.setProperty="re",t.interpolation="rf",t.propertyBinding="rg",t.callBinding="rh",t.letBinding="ri",t.refBinding="rj",t.iteratorBinding="rk",t.textBinding="ha",t.listenerBinding="hb",t.attributeBinding="hc",t.stylePropertyBinding="hd",t.setAttribute="he",t.setClassAttribute="hf",t.setStyleAttribute="hg",t.spreadBinding="hs",t.spreadElementProp="hp"}(Bu||(Bu={}));const Mu=bt.createInterface("Instruction");function Pu(t){const e=t.type;return $a(e)&&2===e.length}class Uu{constructor(t,e){this.from=t,this.to=e}get type(){return"rf"}}class ju{constructor(t,e,s){this.from=t,this.to=e,this.mode=s}get type(){return"rg"}}class qu{constructor(t,e){this.from=t,this.to=e}get type(){return"rk"}}class Fu{constructor(t,e){this.from=t,this.to=e}get type(){return"rh"}}class Vu{constructor(t,e){this.from=t,this.to=e}get type(){return"rj"}}class Du{constructor(t,e){this.value=t,this.to=e}get type(){return"re"}}class Nu{constructor(t,e,s,i,n,r){this.res=t,this.alias=e,this.props=s,this.projections=i,this.containerless=n,this.captures=r,this.auSlot=null}get type(){return"ra"}}class Hu{constructor(t,e,s){this.res=t,this.alias=e,this.props=s}get type(){return"rb"}}class zu{constructor(t,e,s,i){this.def=t,this.res=e,this.alias=s,this.props=i}get type(){return"rc"}}class Ku{constructor(t,e){this.instructions=t,this.toBindingContext=e}get type(){return"rd"}}class Wu{constructor(t,e){this.from=t,this.to=e}get type(){return"ri"}}class Gu{constructor(t,e){this.from=t,this.strict=e}get type(){return"ha"}}class Qu{constructor(t,e,s,i){this.from=t,this.to=e,this.preventDefault=s,this.strategy=i}get type(){return"hb"}}class Xu{constructor(t,e){this.from=t,this.to=e}get type(){return"hd"}}class Yu{constructor(t,e){this.value=t,this.to=e}get type(){return"he"}}class Zu{constructor(t){this.value=t,this.type="hf"}}class Ju{constructor(t){this.value=t,this.type="hg"}}class _u{constructor(t,e,s){this.attr=t,this.from=e,this.to=s}get type(){return"hc"}}class td{get type(){return"hs"}}class ed{constructor(t){this.instructions=t}get type(){return"hp"}}const sd=bt.createInterface("ITemplateCompiler"),id=bt.createInterface("IRenderer");function nd(t){return function(e){return e.register=function(t){Jt.singleton(id,this).register(t)},Aa(e.prototype,"target",{configurable:!0,get:function(){return t}}),e}}function rd(t,e,s){return $a(e)?t.parse(e,s):e}function od(t){return null!=t.viewModel?t.viewModel:t}let ad=class{render(t,e,s){const i=od(e);void 0!==i.$observers&&void 0!==i.$observers[s.to]?i.$observers[s.to].setValue(s.value,2):i[s.to]=s.value}};ad=oa([nd("re")],ad);let ld=class{constructor(t,e){this.r=t,this.p=e}static get inject(){return[xc,ll]}render(t,e,s){let i,n,r,o;const a=s.res,l=s.projections,h=t.container;if("string"==typeof a){if(i=h.find(Lh,a),null==i)throw new Error(`AUR0752:${a}@${t.name}`)}else i=a;const c=s.containerless||i.containerless?gu(e):null,u=function(t,e,s,i,n,r){const o=e.container.createChild();return o.registerResolver(t.HTMLElement,o.registerResolver(t.Element,o.registerResolver(lu,new _t("ElementResolver",s)))),o.registerResolver(Fc,new _t(Ld,e)),o.registerResolver(Mu,new _t(Bd,i)),o.registerResolver(cu,null==n?qd:new jd(n)),o.registerResolver(uc,Fd),o.registerResolver(Iu,null==r?Vd:new _t(Md,r)),o}(this.p,t,e,s,c,null==l?void 0:new Lu(Object.keys(l)));n=i.Type,r=u.invoke(n),u.registerResolver(n,new _t(i.key,r)),o=Rc.$el(u,r,e,s,i,c),au(e,i.key,o);const d=this.r.renderers,p=s.props,f=p.length;let g,v=0;for(;f>v;)g=p[v],d[g.type].render(t,o,g),++v;t.addChild(o)}};ld=oa([nd("ra")],ld);let hd=class{constructor(t,e){this.r=t,this.p=e}static get inject(){return[xc,ll]}render(t,e,s){let i,n=t.container;if("string"==typeof s.res){if(i=n.find(uh,s.res),null==i)throw new Error(`AUR0753:${s.res}@${t.name}`)}else i=s.res;const r=Ud(this.p,i,t,e,s,void 0,void 0),o=Rc.$attr(r.ctn,r.vm,e,i);au(e,i.key,o);const a=this.r.renderers,l=s.props,h=l.length;let c,u=0;for(;h>u;)c=l[u],a[c.type].render(t,o,c),++u;t.addChild(o)}};hd=oa([nd("rb")],hd);let cd=class{constructor(t,e){this.r=t,this.p=e}static get inject(){return[xc,ll]}render(t,e,s){var i,n;let r,o=t.container;if("string"==typeof s.res){if(r=o.find(uh,s.res),null==r)throw new Error(`AUR0754:${s.res}@${t.name}`)}else r=s.res;const a=this.r.getViewFactory(s.def,o),l=gu(e),h=Ud(this.p,r,t,e,s,a,l),c=Rc.$attr(h.ctn,h.vm,e,r);au(l,r.key,c),null===(n=(i=h.vm).link)||void 0===n||n.call(i,t,c,e,s);const u=this.r.renderers,d=s.props,p=d.length;let f,g=0;for(;p>g;)f=d[g],u[f.type].render(t,c,f),++g;t.addChild(c)}};cd=oa([nd("rc")],cd);let ud=class{constructor(t,e){this.ep=t,this.oL=e}render(t,e,s){e.remove();const i=s.instructions,n=s.toBindingContext,r=t.container,o=i.length;let a,l,h,c=0;for(;o>c;)a=i[c],l=rd(this.ep,a.from,8),h=new Pl(l,a.to,this.oL,r,n),t.addBinding(38962===l.$kind?wd(h,l,r):h),++c}};ud.inject=[Zn,Go],ud=oa([nd("rd")],ud);let dd=class{constructor(t,e){this.ep=t,this.oL=e}render(t,e,s){const i=rd(this.ep,s.from,12),n=new vl(i,od(e),s.to,this.oL,t.container);t.addBinding(38962===i.$kind?wd(n,i,t.container):n)}};dd.inject=[Zn,Go],dd=oa([nd("rh")],dd);let pd=class{constructor(t){this.ep=t}render(t,e,s){const i=rd(this.ep,s.from,8),n=new Hl(i,function(t,e){if("element"===e)return t;switch(e){case"controller":return Lh.for(t);case"view":throw new Error("AUR0750");case"view-model":return Lh.for(t).viewModel;default:{const s=uh.for(t,e);if(void 0!==s)return s.viewModel;const i=Lh.for(t,{name:e});if(void 0===i)throw new Error(`AUR0751:${e}`);return i.viewModel}}}(e,s.to),t.container);t.addBinding(38962===i.$kind?wd(n,i,t.container):n)}};pd.inject=[Zn],pd=oa([nd("rj")],pd);let fd=class{constructor(t,e,s){this.ep=t,this.oL=e,this.p=s}render(t,e,s){const i=t.container,n=rd(this.ep,s.from,1),r=new Ll(this.oL,n,od(e),s.to,pi.toView,i,this.p.domWriteQueue),o=r.partBindings,a=o.length;let l,h=0;for(;a>h;++h)l=o[h],38962===l.sourceExpression.$kind&&(o[h]=wd(l,l.sourceExpression,i));t.addBinding(r)}};fd.inject=[Zn,Go,ll],fd=oa([nd("rf")],fd);let gd=class{constructor(t,e,s){this.ep=t,this.oL=e,this.p=s}render(t,e,s){const i=rd(this.ep,s.from,8),n=new Dl(i,od(e),s.to,s.mode,this.oL,t.container,this.p.domWriteQueue);t.addBinding(38962===i.$kind?wd(n,i,t.container):n)}};gd.inject=[Zn,Go,ll],gd=oa([nd("rg")],gd);let vd=class{constructor(t,e,s){this.ep=t,this.oL=e,this.p=s}render(t,e,s){const i=rd(this.ep,s.from,2),n=new Dl(i,od(e),s.to,pi.toView,this.oL,t.container,this.p.domWriteQueue);t.addBinding(38962===i.iterable.$kind?wd(n,i.iterable,t.container):n)}};vd.inject=[Zn,Go,ll],vd=oa([nd("rk")],vd);let md=0;const bd=[];function wd(t,e,s){for(;e instanceof Us;)bd[md++]=e,e=e.expression;for(;md>0;){const e=bd[--md],i=s.get(e.behaviorKey);i instanceof Cs&&(t=i.construct(t,e))}return bd.length=0,t}let yd=class{constructor(t,e,s){this.ep=t,this.oL=e,this.p=s}render(t,e,s){const i=t.container,n=e.nextSibling,r=e.parentNode,o=this.p.document,a=rd(this.ep,s.from,1),l=a.parts,h=a.expressions,c=h.length;let u,d,p=0,f=l[0];for(""!==f&&r.insertBefore(o.createTextNode(f),n);c>p;++p)d=h[p],u=new Ml(d,r.insertBefore(o.createTextNode(""),n),i,this.oL,this.p,s.strict),t.addBinding(38962===d.$kind?wd(u,d,i):u),f=l[p+1],""!==f&&r.insertBefore(o.createTextNode(f),n);"AU-M"===e.nodeName&&e.remove()}};yd.inject=[Zn,Go,ll],yd=oa([nd("ha")],yd);const xd=bt.createInterface("IListenerBehaviorOptions",(t=>t.singleton(kd)));class kd{constructor(){this.expAsHandler=!1}}let Cd=class{constructor(t,e,s,i){this.ep=t,this.Jt=e,this.p=s,this.Qt=i}render(t,e,s){const i=rd(this.ep,s.from,4),n=new Cu(this.p,s.to,i,e,this.Jt,t.container,new ku(s.preventDefault,s.strategy,this.Qt.expAsHandler));t.addBinding(38962===i.$kind?wd(n,i,t.container):n)}};Cd.inject=[Zn,Tu,ll,xd],Cd=oa([nd("hb")],Cd);let $d=class{render(t,e,s){e.setAttribute(s.to,s.value)}};$d=oa([nd("he")],$d);let Ad=class{render(t,e,s){!function(t,e){const s=e.length;let i=0;for(let n=0;n<s;++n)32===e.charCodeAt(n)?(n!==i&&t.add(e.slice(i,n)),i=n+1):n+1===s&&t.add(e.slice(i))}(e.classList,s.value)}};Ad=oa([nd("hf")],Ad);let Rd=class{render(t,e,s){e.style.cssText+=s.value}};Rd=oa([nd("hg")],Rd);let Ed=class{constructor(t,e,s){this.ep=t,this.oL=e,this.p=s}render(t,e,s){const i=rd(this.ep,s.from,8),n=new Dl(i,e.style,s.to,pi.toView,this.oL,t.container,this.p.domWriteQueue);t.addBinding(38962===i.$kind?wd(n,i,t.container):n)}};Ed.inject=[Zn,Go,ll],Ed=oa([nd("hd")],Ed);let Td=class{constructor(t,e){this.ep=t,this.oL=e}render(t,e,s){const i=rd(this.ep,s.from,8),n=new Sl(i,e,s.attr,s.to,pi.toView,this.oL,t.container);t.addBinding(38962===i.$kind?wd(n,i,t.container):n)}};Td.inject=[Zn,Go],Td=oa([nd("hc")],Td);let Sd=class{constructor(t,e){this.ti=t,this.r=e}static get inject(){return[sd,xc]}render(t,e,s){const i=t.container.get(Vc),n=this.r.renderers,r=t=>{let e=t,s=i;for(;null!=s&&e>0;)s=s.parent,--e;if(null==s)throw new Error("No scope context for spread binding.");return s},o=s=>{var i,a;const l=r(s),h=Id(l),c=this.ti.compileSpread(l.controller.definition,null!==(a=null===(i=l.instruction)||void 0===i?void 0:i.captures)&&void 0!==a?a:ie,l.controller.container,e);let u;for(u of c)switch(u.type){case"hs":o(s+1);break;case"hp":n[u.instructions.type].render(h,Lh.for(e),u.instructions);break;default:n[u.type].render(h,e,u)}t.addBinding(h)};o(0)}};Sd=oa([nd("hs")],Sd);class Od{constructor(t,e){this.ii=t,this.ei=e,this.interceptor=this,this.isBound=!1,this.ctrl=e.controller,this.locator=this.ctrl.container}get container(){return this.locator}get definition(){return this.ctrl.definition}get isStrictBinding(){return this.ctrl.isStrictBinding}$bind(t,e){var s;if(this.isBound)return;this.isBound=!0;const i=this.$scope=null!==(s=this.ei.controller.scope.parentScope)&&void 0!==s?s:void 0;if(null==i)throw new Error("Invalid spreading. Context scope is null/undefined");this.ii.forEach((e=>e.$bind(t,i)))}$unbind(t){this.ii.forEach((e=>e.$unbind(t))),this.isBound=!1}addBinding(t){this.ii.push(t)}addChild(t){if(1!==t.vmKind)throw new Error("Spread binding does not support spreading custom attributes/template controllers");this.ctrl.addChild(t)}}const Id=t=>new Od([],t),Ld="IController",Bd="IInstruction",Md="IAuSlotsInfo";class Pd{constructor(t){this.f=t}get $isResolver(){return!0}resolve(){const t=this.f;if(null===t)throw new Error("AUR7055");if(!$a(t.name)||0===t.name.length)throw new Error("AUR0756");return t}}function Ud(t,e,s,i,n,r,o,a){const l=s.container.createChild();return l.registerResolver(t.HTMLElement,l.registerResolver(t.Element,l.registerResolver(lu,new _t("ElementResolver",i)))),s=s instanceof Rc?s:s.ctrl,l.registerResolver(Fc,new _t(Ld,s)),l.registerResolver(Mu,new _t(Bd,n)),l.registerResolver(cu,null==o?qd:new _t("IRenderLocation",o)),l.registerResolver(uc,null==r?Fd:new Pd(r)),l.registerResolver(Iu,null==a?Vd:new _t(Md,a)),{vm:l.invoke(e.Type),ctn:l}}class jd{constructor(t){this.l=t}get name(){return"IRenderLocation"}get $isResolver(){return!0}resolve(){return this.l}}const qd=new jd(null),Fd=new Pd(null),Vd=new _t(Md,new Lu(ie));var Dd;function Nd(t){return function(e){return Gd.define(t,e)}}!function(t){t[t.None=0]="None",t[t.IgnoreAttr=1]="IgnoreAttr"}(Dd||(Dd={}));class Hd{constructor(t,e,s,i,n){this.Type=t,this.name=e,this.aliases=s,this.key=i,this.type=n}static create(t,e){let s,i;return $a(t)?(s=t,i={name:s}):(s=t.name,i=t),new Hd(e,Z(Wd(e,"name"),s),X(Wd(e,"aliases"),i.aliases,e.aliases),Kd(s),Z(Wd(e,"type"),i.type,e.type,null))}register(t){const{Type:e,key:s,aliases:i}=this;Jt.singleton(s,e).register(t),Jt.aliasTo(s,e).register(t),fs(i,Gd,s,t)}}const zd=fa("binding-command"),Kd=t=>`${zd}:${t}`,Wd=(t,e)=>la(pa(e),t),Gd=Object.freeze({name:zd,keyFrom:Kd,define(t,e){const s=Hd.create(t,e);return ca(zd,s,s.Type),ca(zd,s,s),ga(e,zd),s.Type},getAnnotation:Wd});let Qd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"one-time"}build(t){var e;let s=t.attr.target,i=t.attr.rawValue;return null==t.bindable?s=null!==(e=this.m.map(t.node,s))&&void 0!==e?e:F(s):(""===i&&1===t.def.type&&(i=F(s)),s=t.bindable.property),new ju(this.ep.parse(i,8),s,pi.oneTime)}};Qd.inject=[pl,Zn],Qd=oa([Nd("one-time")],Qd);let Xd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"to-view"}build(t){var e;let s=t.attr.target,i=t.attr.rawValue;return null==t.bindable?s=null!==(e=this.m.map(t.node,s))&&void 0!==e?e:F(s):(""===i&&1===t.def.type&&(i=F(s)),s=t.bindable.property),new ju(this.ep.parse(i,8),s,pi.toView)}};Xd.inject=[pl,Zn],Xd=oa([Nd("to-view")],Xd);let Yd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"from-view"}build(t){var e;const s=t.attr;let i=s.target,n=s.rawValue;return null==t.bindable?i=null!==(e=this.m.map(t.node,i))&&void 0!==e?e:F(i):(""===n&&1===t.def.type&&(n=F(i)),i=t.bindable.property),new ju(this.ep.parse(n,8),i,pi.fromView)}};Yd.inject=[pl,Zn],Yd=oa([Nd("from-view")],Yd);let Zd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"two-way"}build(t){var e;const s=t.attr;let i=s.target,n=s.rawValue;return null==t.bindable?i=null!==(e=this.m.map(t.node,i))&&void 0!==e?e:F(i):(""===n&&1===t.def.type&&(n=F(i)),i=t.bindable.property),new ju(this.ep.parse(n,8),i,pi.twoWay)}};Zd.inject=[pl,Zn],Zd=oa([Nd("two-way")],Zd);let Jd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"bind"}build(t){var e;const s=t.attr,i=t.bindable;let n,r,o=s.target,a=s.rawValue;return null==i?(r=this.m.isTwoWay(t.node,o)?pi.twoWay:pi.toView,o=null!==(e=this.m.map(t.node,o))&&void 0!==e?e:F(o)):(""===a&&1===t.def.type&&(a=F(o)),n=t.def.defaultBindingMode,r=i.mode===pi.default||null==i.mode?null==n||n===pi.default?pi.toView:n:i.mode,o=i.property),new ju(this.ep.parse(a,8),o,r)}};Jd.inject=[pl,Zn],Jd=oa([Nd("bind")],Jd);let _d=class{constructor(t){this.type=0,this.ep=t}get name(){return"call"}build(t){const e=null===t.bindable?F(t.attr.target):t.bindable.property;return new Fu(this.ep.parse(t.attr.rawValue,12),e)}};_d.inject=[Zn],_d=oa([Nd("call")],_d);let tp=class{constructor(t){this.type=0,this.ep=t}get name(){return"for"}build(t){const e=null===t.bindable?F(t.attr.target):t.bindable.property;return new qu(this.ep.parse(t.attr.rawValue,2),e)}};tp.inject=[Zn],tp=oa([Nd("for")],tp);let ep=class{constructor(t){this.type=1,this.ep=t}get name(){return"trigger"}build(t){return new Qu(this.ep.parse(t.attr.rawValue,4),t.attr.target,!0,vi.none)}};ep.inject=[Zn],ep=oa([Nd("trigger")],ep);let sp=class{constructor(t){this.type=1,this.ep=t}get name(){return"delegate"}build(t){return new Qu(this.ep.parse(t.attr.rawValue,4),t.attr.target,!1,vi.bubbling)}};sp.inject=[Zn],sp=oa([Nd("delegate")],sp);let ip=class{constructor(t){this.type=1,this.ep=t}get name(){return"capture"}build(t){return new Qu(this.ep.parse(t.attr.rawValue,4),t.attr.target,!1,vi.capturing)}};ip.inject=[Zn],ip=oa([Nd("capture")],ip);let np=class{constructor(t){this.type=1,this.ep=t}get name(){return"attr"}build(t){return new _u(t.attr.target,this.ep.parse(t.attr.rawValue,8),t.attr.target)}};np.inject=[Zn],np=oa([Nd("attr")],np);let rp=class{constructor(t){this.type=1,this.ep=t}get name(){return"style"}build(t){return new _u("style",this.ep.parse(t.attr.rawValue,8),t.attr.target)}};rp.inject=[Zn],rp=oa([Nd("style")],rp);let op=class{constructor(t){this.type=1,this.ep=t}get name(){return"class"}build(t){return new _u("class",this.ep.parse(t.attr.rawValue,8),t.attr.target)}};op.inject=[Zn],op=oa([Nd("class")],op);let ap=class{constructor(t){this.type=1,this.ep=t}get name(){return"ref"}build(t){return new Vu(this.ep.parse(t.attr.rawValue,8),t.attr.target)}};ap.inject=[Zn],ap=oa([Nd("ref")],ap);let lp=class{constructor(){this.type=1}get name(){return"...$attrs"}build(t){return new td}};lp=oa([Nd("...$attrs")],lp);const hp=bt.createInterface("ITemplateElementFactory",(t=>t.singleton(up))),cp={};class up{constructor(t){this.p=t,this.si=t.document.createElement("template")}createTemplate(t){var e;if($a(t)){let e=cp[t];if(void 0===e){const s=this.si;s.innerHTML=t;const i=s.content.firstElementChild;null==i||"TEMPLATE"!==i.nodeName||null!=i.nextElementSibling?(this.si=this.p.document.createElement("template"),e=s):(s.content.removeChild(i),e=i),cp[t]=e}return e.cloneNode(!0)}if("TEMPLATE"!==t.nodeName){const e=this.p.document.createElement("template");return e.content.appendChild(t),e}return null===(e=t.parentNode)||void 0===e||e.removeChild(t),t.cloneNode(!0)}}up.inject=[ll];const dp=function(t){function e(t,s,i){bt.inject(e)(t,s,i)}return e.$isResolver=!0,e.resolve=function(e,s){return s.root===s?s.getAll(t,!1):s.has(t,!1)?s.getAll(t,!1).concat(s.root.getAll(t,!1)):s.root.getAll(t,!1)},e};class pp{constructor(){this.debug=!1,this.resolveResources=!0}static register(t){return Jt.singleton(sd,this).register(t)}compile(t,e,s){var i,n,r,o;const a=xh.getOrCreate(t);if(null===a.template||void 0===a.template)return a;if(!1===a.needsCompile)return a;null!=s||(s=mp);const l=new fp(t,e,s,null,null,void 0),h=$a(a.template)||!t.enhance?l.ni.createTemplate(a.template):a.template,c="TEMPLATE"===h.nodeName&&null!=h.content,u=c?h.content:h,d=e.get(dp(Sp)),p=d.length;let f=0;if(p>0)for(;p>f;)null===(n=(i=d[f]).compiling)||void 0===n||n.call(i,h),++f;if(h.hasAttribute(Rp))throw new Error("AUR0701");return this.ri(u,l),this.oi(u,l),xh.create({...t,name:t.name||Pp(),dependencies:(null!==(r=t.dependencies)&&void 0!==r?r:ie).concat(null!==(o=l.deps)&&void 0!==o?o:ie),instructions:l.rows,surrogates:c?this.li(h,l):ie,template:h,hasSlots:l.hasSlot,needsCompile:!1})}compileSpread(t,e,s,i){var n;const r=new fp(t,s,mp,null,null,void 0),o=[],a=r.hi(i.nodeName.toLowerCase()),l=null!==a,h=r.ep,c=e.length;let u,d,p,f,g,v,m,b,w,y,x=0,k=null,C=null;for(;c>x;++x)if(u=e[x],w=u.target,y=u.rawValue,C=r.ai(u),null!==C&&(1&C.type)>0)wp.node=i,wp.attr=u,wp.bindable=null,wp.def=null,o.push(C.build(wp));else if(k=r.ui(w),null===k)if(null===C){if(m=h.parse(y,1),l&&(f=Cp.from(a,!1),g=f.attrs[w],void 0!==g)){m=h.parse(y,1),o.push(new ed(null==m?new Du(y,g.property):new Uu(m,g.property)));continue}if(null!=m)o.push(new Uu(m,null!==(n=r.m.map(i,w))&&void 0!==n?n:F(w)));else switch(w){case"class":o.push(new Zu(y));break;case"style":o.push(new Ju(y));break;default:o.push(new Yu(y,w))}}else{if(l&&(f=Cp.from(a,!1),g=f.attrs[w],void 0!==g)){wp.node=i,wp.attr=u,wp.bindable=g,wp.def=a,o.push(new ed(C.build(wp)));continue}wp.node=i,wp.attr=u,wp.bindable=null,wp.def=null,o.push(C.build(wp))}else{if(k.isTemplateController)throw new Error(`AUR0703:${w}`);f=Cp.from(k,!0),b=!1===k.noMultiBindings&&null===C&&gp(y),b?p=this.fi(i,y,k,r):(v=f.primary,null===C?(m=h.parse(y,1),p=[null===m?new Du(y,v.property):new Uu(m,v.property)]):(wp.node=i,wp.attr=u,wp.bindable=v,wp.def=k,p=[C.build(wp)])),(null!=d?d:d=[]).push(new Hu(this.resolveResources?k:k.name,null!=k.aliases&&k.aliases.includes(w)?w:void 0,p))}return vp(),null!=d?d.concat(o):o}li(t,e){var s;const i=[],n=t.attributes,r=e.ep;let o,a,l,h,c,u,d,p,f,g,v,m,b=n.length,w=0,y=null,x=null;for(;b>w;++w){if(o=n[w],a=o.name,l=o.value,h=e.di.parse(a,l),v=h.target,m=h.rawValue,yp[v])throw new Error(`AUR0702:${a}`);if(x=e.ai(h),null!==x&&(1&x.type)>0)wp.node=t,wp.attr=h,wp.bindable=null,wp.def=null,i.push(x.build(wp));else if(y=e.ui(v),null===y)if(null===x)if(f=r.parse(m,1),null!=f)t.removeAttribute(a),--w,--b,i.push(new Uu(f,null!==(s=e.m.map(t,v))&&void 0!==s?s:F(v)));else switch(a){case"class":i.push(new Zu(m));break;case"style":i.push(new Ju(m));break;default:i.push(new Yu(m,a))}else wp.node=t,wp.attr=h,wp.bindable=null,wp.def=null,i.push(x.build(wp));else{if(y.isTemplateController)throw new Error(`AUR0703:${v}`);d=Cp.from(y,!0),g=!1===y.noMultiBindings&&null===x&&gp(m),g?u=this.fi(t,m,y,e):(p=d.primary,null===x?(f=r.parse(m,1),u=[null===f?new Du(m,p.property):new Uu(f,p.property)]):(wp.node=t,wp.attr=h,wp.bindable=p,wp.def=y,u=[x.build(wp)])),t.removeAttribute(a),--w,--b,(null!=c?c:c=[]).push(new Hu(this.resolveResources?y:y.name,null!=y.aliases&&y.aliases.includes(v)?v:void 0,u))}}return vp(),null!=c?c.concat(i):i}oi(t,e){switch(t.nodeType){case 1:return"LET"===t.nodeName?this.mi(t,e):this.vi(t,e);case 3:return this.gi(t,e);case 11:{let s=t.firstChild;for(;null!==s;)s=this.oi(s,e);break}}return t.nextSibling}mi(t,e){const s=t.attributes,i=s.length,n=[],r=e.ep;let o,a,l,h,c,u,d,p,f=!1,g=0;for(;i>g;++g)if(o=s[g],l=o.name,h=o.value,"to-binding-context"!==l){if(a=e.di.parse(l,h),u=a.target,d=a.rawValue,c=e.ai(a),null!==c)switch(c.name){case"to-view":case"bind":n.push(new Wu(r.parse(d,8),F(u)));continue;default:throw new Error(`AUR0704:${a.command}`)}p=r.parse(d,1),n.push(new Wu(null===p?new Xs(d):p,F(u)))}else f=!0;return e.rows.push([new Ku(n,f)]),this.pi(t).nextSibling}vi(t,e){var s,i,n,r,o,a,l,h,c,u;const d=t.nextSibling,p=(null!==(s=t.getAttribute("as-element"))&&void 0!==s?s:t.nodeName).toLowerCase(),f=e.hi(p),g=null!==f,v=g&&null!=f.shadowOptions,m=!!(null==f?void 0:f.capture),b=m?[]:ie,w=e.ep,y=this.debug?re:()=>{t.removeAttribute(C),--H,--N};let x,k,C,$,A,R,E,T,S,O,I,L,B,M,P,U,j,q,V,D=t.attributes,N=D.length,H=0,z=null,K=!1,W=null,G=!0,Q=!1;if("slot"===p){if(null==e.root.def.shadowOptions)throw new Error(`AUR0717:${e.root.def.name}`);e.root.hasSlot=!0}if(g&&(G=null===(i=f.processContent)||void 0===i?void 0:i.call(f.Type,t,e.p),D=t.attributes,N=D.length),e.root.def.enhance&&t.classList.contains("au"))throw new Error("AUR0705");for(;N>H;++H){switch(k=D[H],C=k.name,$=k.value,C){case"as-element":case"containerless":y(),Q||(Q="containerless"===C);continue}if(A=e.di.parse(C,$),W=e.ai(A),j=A.target,q=A.rawValue,m){if(null!=W&&1&W.type){y(),b.push(A);continue}if("au-slot"!==j&&(P=Cp.from(f,!1),null==P.attrs[j]&&!(null===(n=e.ui(j))||void 0===n?void 0:n.isTemplateController))){y(),b.push(A);continue}}if(null!==W&&1&W.type)wp.node=t,wp.attr=A,wp.bindable=null,wp.def=null,(null!=R?R:R=[]).push(W.build(wp)),y();else if(z=e.ui(j),null===z)if(null!==W)y(),g&&(P=Cp.from(f,!1),T=P.attrs[j],void 0!==T)?(wp.node=t,wp.attr=A,wp.bindable=T,wp.def=f,(null!=E?E:E=[]).push(W.build(wp))):(wp.node=t,wp.attr=A,wp.bindable=null,wp.def=null,(null!=R?R:R=[]).push(W.build(wp)));else{if(g&&(P=Cp.from(f,!1),T=P.attrs[j],void 0!==T)){B=w.parse(q,1),(null!=E?E:E=[]).push(null==B?new Du(q,T.property):new Uu(B,T.property)),y();continue}B=w.parse(q,1),null!=B&&(y(),(null!=R?R:R=[]).push(new Uu(B,null!==(r=e.m.map(t,j))&&void 0!==r?r:F(j))))}else P=Cp.from(z,!0),K=!1===z.noMultiBindings&&null===W&&gp(q),K?O=this.fi(t,q,z,e):(U=P.primary,null===W?(B=w.parse(q,1),O=[null===B?new Du(q,U.property):new Uu(B,U.property)]):(wp.node=t,wp.attr=A,wp.bindable=U,wp.def=z,O=[W.build(wp)])),y(),z.isTemplateController?(null!=I?I:I=[]).push(new zu(bp,this.resolveResources?z:z.name,void 0,O)):(null!=S?S:S=[]).push(new Hu(this.resolveResources?z:z.name,null!=z.aliases&&z.aliases.includes(j)?j:void 0,O))}if(vp(),this.wi(t)&&null!=R&&R.length>1&&this.bi(t,R),g&&(M=new Nu(this.resolveResources?f:f.name,void 0,null!=E?E:ie,null,Q,b),p===jp)){const s=t.getAttribute("name")||Up,i=e.h("template"),n=e.xi();let r=t.firstChild;for(;null!==r;)1===r.nodeType&&r.hasAttribute("au-slot")?t.removeChild(r):i.content.appendChild(r),r=t.firstChild;this.oi(i.content,n),M.auSlot={name:s,fallback:xh.create({name:Pp(),template:i,instructions:n.rows,needsCompile:!1})},t=this.yi(t,e)}if(null==R&&null==M&&null==S||(x=ie.concat(null!=M?M:ie,null!=S?S:ie,null!=R?R:ie),this.pi(t)),null!=I){let s;N=I.length-1,H=N,L=I[H],this.yi(t,e),"TEMPLATE"===t.nodeName?s=t:(s=e.h("template"),s.content.appendChild(t));const i=s,n=e.xi(null==x?[]:[x]);let r,a,c,u,d,m,b,w,y=0,k=0,C=t.firstChild,$=!1;if(!1!==G)for(;null!==C;)if(a=1===C.nodeType?C.getAttribute(jp):null,null!==a&&C.removeAttribute(jp),g)r=C.nextSibling,v||($=3===C.nodeType&&""===C.textContent.trim(),$||(null!==(o=(l=null!=u?u:u={})[h=a||Up])&&void 0!==o?o:l[h]=[]).push(C),t.removeChild(C)),C=r;else{if(null!==a)throw a=a||Up,new Error(`AUR0706:${p}[${a}]`);C=C.nextSibling}if(null!=u){for(a in c={},u){for(s=e.h("template"),d=u[a],y=0,k=d.length;k>y;++y)m=d[y],"TEMPLATE"===m.nodeName?m.attributes.length>0?s.content.appendChild(m):s.content.appendChild(m.content):s.content.appendChild(m);w=e.xi(),this.oi(s.content,w),c[a]=xh.create({name:Pp(),template:s,instructions:w.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding})}M.projections=c}if(g&&(Q||f.containerless)&&this.yi(t,e),V=!g||!f.containerless&&!Q&&!1!==G,V)if("TEMPLATE"===t.nodeName)this.oi(t.content,n);else for(C=t.firstChild;null!==C;)C=this.oi(C,n);for(L.def=xh.create({name:Pp(),template:i,instructions:n.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding});H-- >0;)L=I[H],s=e.h("template"),b=e.h("au-m"),b.classList.add("au"),s.content.appendChild(b),L.def=xh.create({name:Pp(),template:s,needsCompile:!1,instructions:[[I[H+1]]],isStrictBinding:e.root.def.isStrictBinding});e.rows.push([L])}else{null!=x&&e.rows.push(x);let s,i,n,r,o,l,h,d=t.firstChild,m=null,b=!1,w=0,y=0;if(!1!==G)for(;null!==d;)if(i=1===d.nodeType?d.getAttribute(jp):null,null!==i&&d.removeAttribute(jp),g)s=d.nextSibling,v||(b=3===d.nodeType&&""===d.textContent.trim(),b||(null!==(a=(c=null!=n?n:n={})[u=i||Up])&&void 0!==a?a:c[u]=[]).push(d),t.removeChild(d)),d=s;else{if(null!==i)throw i=i||Up,new Error(`AUR0706:${p}[${i}]`);d=d.nextSibling}if(null!=n){for(i in m={},n){for(l=e.h("template"),r=n[i],w=0,y=r.length;y>w;++w)o=r[w],"TEMPLATE"===o.nodeName?o.attributes.length>0?l.content.appendChild(o):l.content.appendChild(o.content):l.content.appendChild(o);h=e.xi(),this.oi(l.content,h),m[i]=xh.create({name:Pp(),template:l,instructions:h.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding})}M.projections=m}if(g&&(Q||f.containerless)&&this.yi(t,e),V=!g||!f.containerless&&!Q&&!1!==G,V&&t.childNodes.length>0)for(d=t.firstChild;null!==d;)d=this.oi(d,e)}return d}gi(t,e){let s="",i=t;for(;null!==i&&3===i.nodeType;)s+=i.textContent,i=i.nextSibling;const n=e.ep.parse(s,1);if(null===n)return i;const r=t.parentNode;for(r.insertBefore(this.pi(e.h("au-m")),t),e.rows.push([new Gu(n,!!e.def.isStrictBinding)]),t.textContent="",i=t.nextSibling;null!==i&&3===i.nodeType;)r.removeChild(i),i=t.nextSibling;return t.nextSibling}fi(t,e,s,i){const n=Cp.from(s,!0),r=e.length,o=[];let a,l,h,c,u,d,p=0,f=0;for(let g=0;g<r;++g)if(f=e.charCodeAt(g),92===f)++g;else if(58===f){for(a=e.slice(p,g);e.charCodeAt(++g)<=32;);for(p=g;g<r;++g)if(f=e.charCodeAt(g),92===f)++g;else if(59===f){l=e.slice(p,g);break}if(void 0===l&&(l=e.slice(p)),c=i.di.parse(a,l),u=i.ai(c),d=n.attrs[c.target],null==d)throw new Error(`AUR0707:${s.name}.${c.target}`);for(null===u?(h=i.ep.parse(l,1),o.push(null===h?new Du(l,d.property):new Uu(h,d.property))):(wp.node=t,wp.attr=c,wp.bindable=d,wp.def=s,o.push(u.build(wp)));g<r&&e.charCodeAt(++g)<=32;);p=g,a=void 0,l=void 0}return vp(),o}ri(t,e){var s,i;const n=t,r=N(n.querySelectorAll("template[as-custom-element]")),o=r.length;if(0===o)return;if(o===n.childElementCount)throw new Error("AUR0708");const a=new Set,l=[];for(const t of r){if(t.parentNode!==n)throw new Error("AUR0709");const s=Ep(t,a),i=class{},r=t.content,o=N(r.querySelectorAll("bindable")),h=Oa.for(i),c=new Set,u=new Set;for(const t of o){if(t.parentNode!==r)throw new Error("AUR0710");const e=t.getAttribute("property");if(null===e)throw new Error("AUR0711");const s=t.getAttribute("attribute");if(null!==s&&u.has(s)||c.has(e))throw new Error(`AUR0712:${e}+${s}`);null!==s&&u.add(s),c.add(e),h.add({property:e,attribute:null!=s?s:void 0,mode:Tp(t)});t.getAttributeNames().filter((t=>!Ap.includes(t))).length,r.removeChild(t)}l.push(i),e.ki(Lh.define({name:s,template:t},i)),n.removeChild(t)}let h=0;const c=l.length;for(;c>h;++h)Lh.getDefinition(l[h]).dependencies.push(...null!==(s=e.def.dependencies)&&void 0!==s?s:ie,...null!==(i=e.deps)&&void 0!==i?i:ie)}wi(t){return"INPUT"===t.nodeName&&1===xp[t.type]}bi(t,e){if("INPUT"===t.nodeName){const t=e;let s,i,n,r=0;for(let e=0;e<t.length&&r<3;e++)switch(n=t[e],n.to){case"model":case"value":case"matcher":s=e,r++;break;case"checked":i=e,r++}void 0!==i&&void 0!==s&&i<s&&([t[s],t[i]]=[t[i],t[s]])}}pi(t){return t.classList.add("au"),t}yi(t,e){const s=t.parentNode,i=e.h("au-m");return this.pi(s.insertBefore(i,t)),s.removeChild(t),i}}class fp{constructor(t,e,s,i,n,r){this.hasSlot=!1,this.Ci=ba();const o=null!==i;this.c=e,this.root=null===n?this:n,this.def=t,this.ci=s,this.parent=i,this.ni=o?i.ni:e.get(hp),this.di=o?i.di:e.get(Xa),this.ep=o?i.ep:e.get(Zn),this.m=o?i.m:e.get(pl),this.Ut=o?i.Ut:e.get(fe),this.p=o?i.p:e.get(ll),this.localEls=o?i.localEls:new Set,this.rows=null!=r?r:[]}ki(t){var e,s;(null!==(e=(s=this.root).deps)&&void 0!==e?e:s.deps=[]).push(t),this.root.c.register(t)}h(t){const e=this.p.document.createElement(t);return"template"===t&&this.p.document.adoptNode(e.content),e}hi(t){return this.c.find(Lh,t)}ui(t){return this.c.find(uh,t)}xi(t){return new fp(this.def,this.c,this.ci,this,this.root,t)}ai(t){if(this.root!==this)return this.root.ai(t);const e=t.command;if(null===e)return null;let s=this.Ci[e];if(void 0===s){if(s=this.c.create(Gd,e),null===s)throw new Error(`AUR0713:${e}`);this.Ci[e]=s}return s}}function gp(t){const e=t.length;let s=0,i=0;for(;e>i;){if(s=t.charCodeAt(i),92===s)++i;else{if(58===s)return!0;if(36===s&&123===t.charCodeAt(i+1))return!1}++i}return!1}function vp(){wp.node=wp.attr=wp.bindable=wp.def=null}const mp={projections:null},bp={name:"unnamed"},wp={node:null,attr:null,bindable:null,def:null},yp=Object.assign(ba(),{id:!0,name:!0,"au-slot":!0,"as-element":!0}),xp={checkbox:1,radio:1},kp=new WeakMap;class Cp{constructor(t,e,s){this.attrs=t,this.bindables=e,this.primary=s}static from(t,e){let s=kp.get(t);if(null==s){const i=t.bindables,n=ba(),r=e?void 0===t.defaultBindingMode?pi.default:t.defaultBindingMode:pi.default;let o,a,l,h,c=!1;for(a in i){if(o=i[a],h=o.attribute,!0===o.primary){if(c)throw new Error(`AUR0714:${t.name}`);c=!0,l=o}else c||null!=l||(l=o);n[h]=Ia.create(a,t.Type,o)}null==o&&e&&(l=n.value=Ia.create("value",t.Type,{mode:r})),kp.set(t,s=new Cp(n,i,l))}return s}}var $p;!function(t){t.property="property",t.attribute="attribute",t.mode="mode"}($p||($p={}));const Ap=Object.freeze(["property","attribute","mode"]),Rp="as-custom-element";function Ep(t,e){const s=t.getAttribute(Rp);if(null===s||""===s)throw new Error("AUR0715");if(e.has(s))throw new Error(`AUR0716:${s}`);return e.add(s),t.removeAttribute(Rp),s}function Tp(t){switch(t.getAttribute("mode")){case"oneTime":return pi.oneTime;case"toView":return pi.toView;case"fromView":return pi.fromView;case"twoWay":return pi.twoWay;default:return pi.default}}const Sp=bt.createInterface("ITemplateCompilerHooks"),Op=new WeakMap,Ip=fa("compiler-hooks"),Lp=Object.freeze({name:Ip,define(t){let e=Op.get(t);return void 0===e&&(Op.set(t,e=new Bp(t)),ca(Ip,e,t),ga(t,Ip)),t}});class Bp{constructor(t){this.Type=t}get name(){return""}register(t){t.register(Jt.singleton(Sp,this.Type))}}const Mp=t=>{return void 0===t?e:e(t);function e(t){return Lp.define(t)}},Pp=Lh.generateName,Up="default",jp="au-slot";class qp{constructor(t){this.mode=t,this.Ai=new Map}bind(t,e,s){this.Ai.set(s,s.mode),s.mode=this.mode}unbind(t,e,s){s.mode=this.Ai.get(s),this.Ai.delete(s)}}class Fp extends qp{constructor(){super(pi.oneTime)}}class Vp extends qp{constructor(){super(pi.toView)}}class Dp extends qp{constructor(){super(pi.fromView)}}class Np extends qp{constructor(){super(pi.twoWay)}}xs("oneTime")(Fp),xs("toView")(Vp),xs("fromView")(Dp),xs("twoWay")(Np);class Hp extends $s{constructor(t,e){super(t,e),this.opts={delay:200},this.firstArg=null,this.task=null,this.taskQueue=t.locator.get(oe).taskQueue,e.args.length>0&&(this.firstArg=e.args[0])}callSource(t){this.queueTask((()=>this.binding.callSource(t)))}handleChange(t,e,s){null!==this.task&&(this.task.cancel(),this.task=null),this.binding.handleChange(t,e,s)}updateSource(t,e){this.queueTask((()=>this.binding.updateSource(t,e)))}queueTask(t){const e=this.task;this.task=this.taskQueue.queueTask((()=>(this.task=null,t())),this.opts),null==e||e.cancel()}$bind(t,e){if(null!==this.firstArg){const s=Number(this.firstArg.evaluate(t,e,this.locator,null));this.opts.delay=isNaN(s)?200:s}this.binding.$bind(t,e)}$unbind(t){var e;null===(e=this.task)||void 0===e||e.cancel(),this.task=null,this.binding.$unbind(t)}}xs("debounce")(Hp);class zp{constructor(t){this.Yt=new Map,this.Ri=t}bind(t,e,s,...i){if(!("handleChange"in s))throw new Error("AUR0817");if(0===i.length)throw new Error("AUR0818");let n;for(n of(this.Yt.set(s,i),i))this.Ri.addSignalListener(n,s)}unbind(t,e,s){const i=this.Yt.get(s);let n;for(n of(this.Yt.delete(s),i))this.Ri.removeSignalListener(n,s)}}zp.inject=[bs],xs("signal")(zp);class Kp extends $s{constructor(t,e){super(t,e),this.opts={delay:200},this.firstArg=null,this.task=null,this.lastCall=0,this.delay=0,this.p=t.locator.get(oe),this.Si=this.p.taskQueue,e.args.length>0&&(this.firstArg=e.args[0])}callSource(t){this.Ei((()=>this.binding.callSource(t)))}handleChange(t,e,s){null!==this.task&&(this.task.cancel(),this.task=null,this.lastCall=this.p.performanceNow()),this.binding.handleChange(t,e,s)}updateSource(t,e){this.Ei((()=>this.binding.updateSource(t,e)))}Ei(t){const e=this.opts,s=this.p,i=this.lastCall+e.delay-s.performanceNow();if(i>0){const n=this.task;e.delay=i,this.task=this.Si.queueTask((()=>{this.lastCall=s.performanceNow(),this.task=null,e.delay=this.delay,t()}),e),null==n||n.cancel()}else this.lastCall=s.performanceNow(),t()}$bind(t,e){if(null!==this.firstArg){const s=Number(this.firstArg.evaluate(t,e,this.locator,null));this.opts.delay=this.delay=isNaN(s)?200:s}this.binding.$bind(t,e)}$unbind(t){var e;null===(e=this.task)||void 0===e||e.cancel(),this.task=null,super.$unbind(t)}}xs("throttle")(Kp);class Wp{constructor(){this.type=6}getValue(t,e){return t.getAttribute(e)}setValue(t,e,s,i){null==t?s.removeAttribute(i):s.setAttribute(i,t)}}const Gp=new Wp;class Qp{bind(t,e,s){s.targetObserver=Gp}unbind(t,e,s){}}function Xp(t){const e=t.composedPath()[0];if(this.target===e)return this.selfEventCallSource(t)}xs("attr")(Qp);class Yp{bind(t,e,s){if(!s.callSource||!s.targetEvent)throw new Error("AUR0801");s.selfEventCallSource=s.callSource,s.callSource=Xp}unbind(t,e,s){s.callSource=s.selfEventCallSource,s.selfEventCallSource=null}}xs("self")(Yp);const Zp=ba();class Jp{constructor(t){this.ns=t,this.type=6}static forNs(t){var e;return null!==(e=Zp[t])&&void 0!==e?e:Zp[t]=new Jp(t)}getValue(t,e){return t.getAttributeNS(this.ns,e)}setValue(t,e,s,i){null==t?s.removeAttributeNS(this.ns,i):s.setAttributeNS(this.ns,i,t)}}function _p(t,e){return t===e}class tf{constructor(t,e,s,i){this.handler=s,this.type=7,this.v=void 0,this.ov=void 0,this.Bi=void 0,this.Ii=void 0,this.f=0,this.o=t,this.oL=i}getValue(){return this.v}setValue(t,e){const s=this.v;t!==s&&(this.v=t,this.ov=s,this.f=e,this.Ti(),this.Di(),this.queue.add(this))}handleCollectionChange(t,e){this.Di()}handleChange(t,e,s){this.Di()}Di(){const t=this.v,e=this.o,s=wa.call(e,"model")?e.model:e.value,i="radio"===e.type,n=void 0!==e.matcher?e.matcher:_p;if(i)e.checked=!!n(t,s);else if(!0===t)e.checked=!0;else{let i=!1;if(t instanceof Array)i=-1!==t.findIndex((t=>!!n(t,s)));else if(t instanceof Set){for(const e of t)if(n(e,s)){i=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],r=e[1];if(n(t,s)&&!0===r){i=!0;break}}e.checked=i}}handleEvent(){let t=this.ov=this.v;const e=this.o,s=wa.call(e,"model")?e.model:e.value,i=e.checked,n=void 0!==e.matcher?e.matcher:_p;if("checkbox"===e.type){if(t instanceof Array){const e=t.findIndex((t=>!!n(t,s)));return void(i&&-1===e?t.push(s):i||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let r=e;for(const e of t)if(!0===n(e,s)){r=e;break}return void(i&&r===e?t.add(s):i||r===e||t.delete(r))}if(t instanceof Map){let e;for(const i of t){const t=i[0];if(!0===n(t,s)){e=t;break}}return void t.set(e,i)}t=i}else{if(!i)return;t=s}this.v=t,this.queue.add(this)}start(){this.handler.subscribe(this.o,this),this.Ti()}stop(){var t,e;this.handler.dispose(),null===(t=this.Bi)||void 0===t||t.unsubscribe(this),this.Bi=void 0,null===(e=this.Ii)||void 0===e||e.unsubscribe(this)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.start()}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.stop()}flush(){ef=this.ov,this.ov=this.v,this.subs.notify(this.v,ef,this.f)}Ti(){var t,e,s,i,n,r,o;const a=this.o;null===(n=null!==(t=this.Ii)&&void 0!==t?t:this.Ii=null!==(s=null===(e=a.$observers)||void 0===e?void 0:e.model)&&void 0!==s?s:null===(i=a.$observers)||void 0===i?void 0:i.value)||void 0===n||n.subscribe(this),null===(r=this.Bi)||void 0===r||r.unsubscribe(this),this.Bi=void 0,"checkbox"===a.type&&(null===(o=this.Bi=function(t,e){if(t instanceof Array)return e.getArrayObserver(t);if(t instanceof Map)return e.getMapObserver(t);if(t instanceof Set)return e.getSetObserver(t)}(this.v,this.oL))||void 0===o||o.subscribe(this))}}let ef;Ci(tf),Si(tf);const sf={childList:!0,subtree:!0,characterData:!0};function nf(t,e){return t===e}class rf{constructor(t,e,s,i){this.type=7,this.v=void 0,this.ov=void 0,this.H=!1,this.Pi=void 0,this.$i=void 0,this.iO=!1,this.o=t,this.oL=i,this.handler=s}getValue(){return this.iO?this.v:this.o.multiple?function(t){const e=[];if(0===t.length)return e;const s=t.length;let i,n=0;for(;s>n;)i=t[n],i.selected&&(e[e.length]=wa.call(i,"model")?i.model:i.value),++n;return e}(this.o.options):this.o.value}setValue(t,e){this.ov=this.v,this.v=t,this.H=t!==this.ov,this.Oi(t instanceof Array?t:null),0==(64&e)&&this.K()}K(){this.H&&(this.H=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){var t;const e=this.v,s=this.o,i=Array.isArray(e),n=null!==(t=s.matcher)&&void 0!==t?t:nf,r=s.options;let o=r.length;for(;o-- >0;){const t=r[o],s=wa.call(t,"model")?t.model:t.value;i?t.selected=-1!==e.findIndex((t=>!!n(s,t))):t.selected=!!n(s,e)}}syncValue(){const t=this.o,e=t.options,s=e.length,i=this.v;let n=0;if(t.multiple){if(!(i instanceof Array))return!0;let r;const o=t.matcher||nf,a=[];for(;n<s;)r=e[n],r.selected&&a.push(wa.call(r,"model")?r.model:r.value),++n;let l;for(n=0;n<i.length;)l=i[n],-1===a.findIndex((t=>!!o(l,t)))?i.splice(n,1):++n;for(n=0;n<a.length;)l=a[n],-1===i.findIndex((t=>!!o(l,t)))&&i.push(l),++n;return!1}let r,o=null;for(;n<s;){if(r=e[n],r.selected){o=wa.call(r,"model")?r.model:r.value;break}++n}return this.ov=this.v,this.v=o,!0}Li(){(this.$i=new this.o.ownerDocument.defaultView.MutationObserver(this.qi.bind(this))).observe(this.o,sf),this.Oi(this.v instanceof Array?this.v:null),this.iO=!0}Ui(){var t;this.$i.disconnect(),null===(t=this.Pi)||void 0===t||t.unsubscribe(this),this.$i=this.Pi=void 0,this.iO=!1}Oi(t){var e;if(null===(e=this.Pi)||void 0===e||e.unsubscribe(this),this.Pi=void 0,null!=t){if(!this.o.multiple)throw new Error("AUR0654");(this.Pi=this.oL.getArrayObserver(t)).subscribe(this)}}handleEvent(){this.syncValue()&&this.queue.add(this)}qi(t){this.syncOptions();this.syncValue()&&this.queue.add(this)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.handler.subscribe(this.o,this),this.Li())}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.handler.dispose(),this.Ui())}flush(){of=this.ov,this.ov=this.v,this.subs.notify(this.v,of,0)}}let of;Ci(rf),Si(rf);class af{constructor(t){this.obj=t,this.type=6,this.value="",this.ov="",this.styles={},this.version=0,this.H=!1}getValue(){return this.obj.style.cssText}setValue(t,e){this.value=t,this.H=t!==this.ov,0==(64&e)&&this.K()}_i(t){const e=[],s=/url\([^)]+$/;let i,n,r,o,a=0,l="";for(;a<t.length;)i=t.indexOf(";",a),-1===i&&(i=t.length),l+=t.substring(a,i),a=i+1,s.test(l)?l+=";":(n=l.indexOf(":"),r=l.substring(0,n).trim(),o=l.substring(n+1).trim(),e.push([r,o]),l="");return e}Fi(t){let e,s;const i=[];for(s in t)if(e=t[s],null!=e)if($a(e)){if(s.startsWith("--")){i.push([s,e]);continue}i.push([D(s),e])}else i.push(...this.Vi(e));return i}Mi(t){const e=t.length;if(e>0){const s=[];let i=0;for(;e>i;++i)s.push(...this.Vi(t[i]));return s}return ie}Vi(t){return $a(t)?this._i(t):t instanceof Array?this.Mi(t):t instanceof Object?this.Fi(t):ie}K(){if(this.H){this.H=!1;const t=this.value,e=this.styles,s=this.Vi(t);let i,n,r,o,a=this.version;this.ov=t;let l=0;const h=s.length;for(;l<h;++l)n=s[l],r=n[0],o=n[1],this.setProperty(r,o),e[r]=a;if(this.styles=e,this.version+=1,0===a)return;for(i in a-=1,e)wa.call(e,i)&&e[i]===a&&this.obj.style.removeProperty(i)}}setProperty(t,e){let s="";null!=e&&Ca(e.indexOf)&&e.includes("!important")&&(s="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,s)}bind(t){this.value=this.ov=this.obj.style.cssText}}class lf{constructor(t,e,s){this.handler=s,this.type=7,this.v="",this.ov="",this.H=!1,this.o=t,this.k=e}getValue(){return this.v}setValue(t,e){Object.is(t,this.v)||(this.ov=this.v,this.v=t,this.H=!0,this.handler.config.readonly||0!=(64&e)||this.K(e))}K(t){var e;this.H&&(this.H=!1,this.o[this.k]=null!==(e=this.v)&&void 0!==e?e:this.handler.config.default,0==(2&t)&&this.queue.add(this))}handleEvent(){this.ov=this.v,this.v=this.o[this.k],this.ov!==this.v&&(this.H=!1,this.queue.add(this))}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.handler.subscribe(this.o,this),this.v=this.ov=this.o[this.k])}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.handler.dispose()}flush(){hf=this.ov,this.ov=this.v,this.subs.notify(this.v,hf,0)}}let hf;Ci(lf),Si(lf);const cf="http://www.w3.org/1999/xlink",uf="http://www.w3.org/XML/1998/namespace",df="http://www.w3.org/2000/xmlns/",pf=Object.assign(ba(),{"xlink:actuate":["actuate",cf],"xlink:arcrole":["arcrole",cf],"xlink:href":["href",cf],"xlink:role":["role",cf],"xlink:show":["show",cf],"xlink:title":["title",cf],"xlink:type":["type",cf],"xml:lang":["lang",uf],"xml:space":["space",uf],xmlns:["xmlns",df],"xmlns:xlink":["xlink",df]}),ff=new No;ff.type=6;class gf{constructor(t){var e;this.type=null!==(e=t.type)&&void 0!==e?e:lf,this.events=t.events,this.readonly=t.readonly,this.default=t.default}}class vf{constructor(t,e,s,i){this.locator=t,this.platform=e,this.dirtyChecker=s,this.svgAnalyzer=i,this.allowDirtyCheck=!0,this.ji=ba(),this.Ni=ba(),this.Wi=ba(),this.Hi=ba();const n=["change","input"],r={events:n,default:""};this.useConfig({INPUT:{value:r,valueAsNumber:{events:n,default:0},checked:{type:tf,events:n},files:{events:n,readonly:!0}},SELECT:{value:{type:rf,events:["change"],default:""}},TEXTAREA:{value:r}});const o={events:["change","input","blur","keyup","paste"],default:""},a={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:a,scrollLeft:a,textContent:o,innerHTML:o}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}static register(t){Jt.aliasTo(Qo,vf).register(t),Jt.singleton(Qo,vf).register(t)}handles(t,e){return t instanceof this.platform.Node}useConfig(t,e,s){var i,n;const r=this.ji;let o;if($a(t))o=null!==(i=r[t])&&void 0!==i?i:r[t]=ba(),null==o[e]?o[e]=new gf(s):mf(t,e);else for(const s in t){o=null!==(n=r[s])&&void 0!==n?n:r[s]=ba();const i=t[s];for(e in i)null==o[e]?o[e]=new gf(i[e]):mf(s,e)}}useConfigGlobal(t,e){const s=this.Ni;if("object"==typeof t)for(const e in t)null==s[e]?s[e]=new gf(t[e]):mf("*",e);else null==s[t]?s[t]=new gf(e):mf("*",t)}getAccessor(t,e,s){var i;if(e in this.Hi||e in(null!==(i=this.Wi[t.tagName])&&void 0!==i?i:ne))return this.getObserver(t,e,s);switch(e){case"src":case"href":case"role":return Gp;default:{const s=pf[e];return void 0!==s?Jp.forNs(s[1]):xa(t,e,this.svgAnalyzer)?Gp:ff}}}overrideAccessor(t,e){var s,i,n,r;let o;if($a(t))o=null!==(s=(n=this.Wi)[t])&&void 0!==s?s:n[t]=ba(),o[e]=!0;else for(const e in t)for(const s of t[e])o=null!==(i=(r=this.Wi)[e])&&void 0!==i?i:r[e]=ba(),o[s]=!0}overrideAccessorGlobal(...t){for(const e of t)this.Hi[e]=!0}getObserver(t,e,s){var i,n;switch(e){case"role":return Gp;case"class":return new Uh(t);case"css":case"style":return new af(t)}const r=null!==(n=null===(i=this.ji[t.tagName])||void 0===i?void 0:i[e])&&void 0!==n?n:this.Ni[e];if(null!=r)return new r.type(t,e,new Eu(r),s,this.locator);const o=pf[e];if(void 0!==o)return Jp.forNs(o[1]);if(xa(t,e,this.svgAnalyzer))return Gp;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.dirtyChecker.createProperty(t,e);throw new Error(`AUR0652:${String(e)}`)}return new zo(t,e)}}function mf(t,e){throw new Error(`AUR0653:${String(e)}@${t}`)}vf.inject=[kt,ll,Uo,hl];class bf{constructor(t){this.oL=t}bind(t,e,s,...i){if(0===i.length)throw new Error("AUR0802");if(s.mode!==pi.twoWay&&s.mode!==pi.fromView)throw new Error("AUR0803");const n=this.oL.getObserver(s.target,s.targetProperty);if(!n.handler)throw new Error("AUR0804");s.targetObserver=n;const r=n.handler;n.originalHandler=r,n.handler=new Eu(new gf({default:r.config.default,events:i,readonly:r.config.readonly}))}unbind(t,e,s){s.targetObserver.handler.dispose(),s.targetObserver.handler=s.targetObserver.originalHandler,s.targetObserver.originalHandler=null}}bf.inject=[Go],xs("updateTrigger")(bf);class wf{constructor(t,e){this.zi=t,this.p=e,this.Gi=!1}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.Xi():this.Gi=!0}attached(){this.Gi&&(this.Gi=!1,this.Xi()),this.zi.addEventListener("focus",this),this.zi.addEventListener("blur",this)}afterDetachChildren(){const t=this.zi;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){"focus"===t.type?this.value=!0:this.Ki||(this.value=!1)}Xi(){const t=this.zi,e=this.Ki,s=this.value;s&&!e?t.focus():!s&&e&&t.blur()}get Ki(){return this.zi===this.p.document.activeElement}}wf.inject=[lu,ll],oa([Ea({mode:pi.twoWay})],wf.prototype,"value",void 0),rh("focus")(wf);let yf=class{constructor(t,e,s){this.el=t,this.p=e,this.Yi=!1,this.Zi=null,this.$val="",this.$prio="",this.update=()=>{this.Zi=null,Boolean(this.value)!==this.Ji&&(this.Ji===this.Qi?(this.Ji=!this.Qi,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.Ji=this.Qi,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))},this.Ji=this.Qi="hide"!==s.alias}binding(){this.Yi=!0,this.update()}detaching(){var t;this.Yi=!1,null===(t=this.Zi)||void 0===t||t.cancel(),this.Zi=null}valueChanged(){this.Yi&&null===this.Zi&&(this.Zi=this.p.domWriteQueue.queueTask(this.update))}};oa([Ea],yf.prototype,"value",void 0),yf=oa([aa(0,lu),aa(1,ll),aa(2,Mu)],yf),ps("hide")(yf),rh("show")(yf);class xf{constructor(t,e,s){this.id=z("au$component"),this.strict=!1,this.p=s,this.te=s.document.createElement("div"),this.view=t.create(),fu(this.view.nodes,e)}attaching(t,e,s){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const i=this.te=this.ie();return this.view.setHost(i),this.ee(t,i,s)}detaching(t,e,s){return this.se(t,this.te,s)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this.te,s=this.te=this.ie();if(e===s)return;this.view.setHost(s);const i=et(this.se(null,s,t.flags),(()=>this.ee(null,s,t.flags)));i instanceof Promise&&i.catch((t=>{throw t}))}ee(t,e,s){const{activating:i,callbackContext:n,view:r}=this;return r.setHost(e),et(null==i?void 0:i.call(n,e,r),(()=>this.ne(t,e,s)))}ne(t,e,s){const{$controller:i,view:n}=this;return null!==t?et(n.activate(null!=t?t:n,i,s,i.scope),(()=>this.re(e))):(n.nodes.appendTo(e),this.re(e))}re(t){const{activated:e,callbackContext:s,view:i}=this;return null==e?void 0:e.call(s,t,i)}se(t,e,s){const{deactivating:i,callbackContext:n,view:r}=this;return et(null==i?void 0:i.call(n,e,r),(()=>this.oe(t,e,s)))}oe(t,e,s){const{$controller:i,view:n}=this;return null!==t?et(n.deactivate(t,i,s),(()=>this.le(e))):(n.nodes.remove(),this.le(e))}le(t){const{deactivated:e,callbackContext:s,view:i}=this;return null==e?void 0:e.call(s,t,i)}ie(){const t=this.p,e=t.document;let s=this.target,i=this.renderContext;if(""===s){if(this.strict)throw new Error("AUR0811");return e.body}if($a(s)){let n=e;$a(i)&&(i=e.querySelector(i)),i instanceof t.Node&&(n=i),s=n.querySelector(s)}if(s instanceof t.Node)return s;if(null==s){if(this.strict)throw new Error("AUR0812");return e.body}return s}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}xf.inject=[uc,cu,ll],oa([Ea({primary:!0})],xf.prototype,"target",void 0),oa([Ea({callback:"targetChanged"})],xf.prototype,"renderContext",void 0),oa([Ea()],xf.prototype,"strict",void 0),oa([Ea()],xf.prototype,"deactivating",void 0),oa([Ea()],xf.prototype,"activating",void 0),oa([Ea()],xf.prototype,"deactivated",void 0),oa([Ea()],xf.prototype,"activated",void 0),oa([Ea()],xf.prototype,"callbackContext",void 0),oh("portal")(xf);class kf extends class{constructor(t,e,s){this.fs=s,this.id=z("au$component"),this.view=t.create().setLocation(e)}attaching(t,e,s){const{$controller:i}=this;return this.view.activate(t,i,s|this.fs,i.scope)}detaching(t,e,s){return this.view.deactivate(t,this.$controller,s)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}{constructor(t,e){super(t,e,32)}}kf.inject=[uc,cu],oh("observe-shallow")(kf);class Cf{constructor(t,e,s){this.ifFactory=t,this.location=e,this.work=s,this.id=z("au$component"),this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this.he=!1,this.ae=0}attaching(t,e,s){let i;const n=this.$controller,r=this.ae++,o=()=>!this.he&&this.ae===r+1;return et(this.pending,(()=>{var e;o()&&(this.pending=void 0,i=this.value?this.view=this.ifView=this.cache&&null!=this.ifView?this.ifView:this.ifFactory.create():this.view=this.elseView=this.cache&&null!=this.elseView?this.elseView:null===(e=this.elseFactory)||void 0===e?void 0:e.create(),null!=i&&(i.setLocation(this.location),this.pending=et(i.activate(t,n,s,n.scope),(()=>{o()&&(this.pending=void 0)}))))}))}detaching(t,e,s){return this.he=!0,et(this.pending,(()=>{var e;this.he=!1,this.pending=void 0,null===(e=this.view)||void 0===e||e.deactivate(t,this.$controller,s)}))}valueChanged(t,e,s){if(!this.$controller.isActive)return;if((t=!!t)===(e=!!e))return;this.work.start();const i=this.view,n=this.$controller,r=this.ae++,o=()=>!this.he&&this.ae===r+1;let a;return et(et(this.pending,(()=>this.pending=et(null==i?void 0:i.deactivate(i,n,s),(()=>{var e;if(o()&&(a=this.view=t?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.ifFactory.create():this.elseView=this.cache&&null!=this.elseView?this.elseView:null===(e=this.elseFactory)||void 0===e?void 0:e.create(),null!=a))return a.setLocation(this.location),et(a.activate(a,n,s,n.scope),(()=>{o()&&(this.pending=void 0)}))})))),(()=>this.work.finish()))}dispose(){var t,e;null===(t=this.ifView)||void 0===t||t.dispose(),null===(e=this.elseView)||void 0===e||e.dispose(),this.ifView=this.elseView=this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}Cf.inject=[uc,cu,su],oa([Ea],Cf.prototype,"value",void 0),oa([Ea({set:t=>""===t||!!t&&"false"!==t})],Cf.prototype,"cache",void 0),oh("if")(Cf);class $f{constructor(t){this.factory=t,this.id=z("au$component")}link(t,e,s,i){const n=t.children,r=n[n.length-1];if(r instanceof Cf)r.elseFactory=this.factory;else{if(!(r.viewModel instanceof Cf))throw new Error("AUR0810");r.viewModel.elseFactory=this.factory}}}function Af(t){t.dispose()}$f.inject=[uc],oh({name:"else"})($f);const Rf=[38962,36913];class Ef{constructor(t,e,s){this.l=t,this.ce=e,this.f=s,this.id=z("au$component"),this.views=[],this.key=void 0,this.ue=void 0,this.fe=!1,this.de=!1,this.me=null,this.ve=void 0,this.ge=!1}binding(t,e,s){const i=this.ce.bindings,n=i.length;let r,o,a=0;for(;n>a;++a)if(r=i[a],r.target===this&&"items"===r.targetProperty){o=this.forOf=r.sourceExpression,this.pe=r;let t=o.iterable;for(;null!=t&&Rf.includes(t.$kind);)t=t.expression,this.fe=!0;this.me=t;break}this.we(s);const l=o.declaration;(this.ge=90137===l.$kind||106521===l.$kind)||(this.local=l.evaluate(s,this.$controller.scope,r.locator,null))}attaching(t,e,s){return this.be(s),this.xe(t,s)}detaching(t,e,s){return this.we(s),this.ye(t,s)}itemsChanged(t){const{$controller:e}=this;if(!e.isActive)return;t|=e.flags,this.we(t),this.be(t);const s=et(this.ye(null,t),(()=>this.xe(null,t)));s instanceof Promise&&s.catch(Ra)}handleCollectionChange(t,e){const{$controller:s}=this;if(s.isActive){if(this.fe){if(this.de)return;return this.de=!0,this.items=this.forOf.iterable.evaluate(e,s.scope,this.pe.locator,null),void(this.de=!1)}if(e|=s.flags,this.be(e),void 0===t){const t=et(this.ye(null,e),(()=>this.xe(null,e)));t instanceof Promise&&t.catch(Ra)}else{const s=this.views.length,i=hn(t);if(i.deletedItems.length>0){i.deletedItems.sort(W);const t=et(this.ke(i,e),(()=>this.Ce(s,i,e)));t instanceof Promise&&t.catch(Ra)}else this.Ce(s,i,e)}}}we(t){var e;const s=this.$controller.scope;let i=this.Ae,n=this.fe;n&&(i=this.Ae=null!==(e=this.me.evaluate(t,s,this.pe.locator,null))&&void 0!==e?e:null,n=this.fe=!Object.is(this.items,i));const r=this.ue;if(4&t)void 0!==r&&r.unsubscribe(this);else if(this.$controller.isActive){const t=this.ue=Zo(n?i:this.items);r!==t&&r&&r.unsubscribe(this),t&&t.subscribe(this)}}be(t){const e=this.items;if(e instanceof Array)return void(this.ve=e);if(void 0===this.forOf)return;const s=[];this.forOf.iterate(t,e,((t,e,i)=>{s[e]=i})),this.ve=s}xe(t,e){let s,i,n,r;const{$controller:o,f:a,local:l,l:h,items:c}=this,u=o.scope,d=this.forOf,p=d.count(e,c),f=this.views=Array(p);if(d.iterate(e,c,((c,g,v)=>{n=f[g]=a.create().setLocation(h),n.nodes.unlink(),this.ge?d.declaration.assign(e,r=vs.fromParent(u,gs.create()),this.pe.locator,v):r=vs.fromParent(u,gs.create(l,v)),If(r.overrideContext,g,p),i=n.activate(null!=t?t:n,o,e,r),i instanceof Promise&&(null!=s?s:s=[]).push(i)})),void 0!==s)return 1===s.length?s[0]:Promise.all(s)}ye(t,e){let s,i,n,r=0;const{views:o,$controller:a}=this,l=o.length;for(;l>r;++r)n=o[r],n.release(),i=n.deactivate(null!=t?t:n,a,e),i instanceof Promise&&(null!=s?s:s=[]).push(i);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}ke(t,e){let s,i,n;const{$controller:r,views:o}=this,a=t.deletedItems,l=a.length;let h=0;for(;l>h;++h)n=o[a[h]],n.release(),i=n.deactivate(n,r,e),i instanceof Promise&&(null!=s?s:s=[]).push(i);h=0;let c=0;for(;l>h;++h)c=a[h]-h,o.splice(c,1);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}Ce(t,e,s){var i;let n,r,o,a,l=0;const{$controller:h,f:c,local:u,ve:d,l:p,views:f}=this,g=e.length;for(;g>l;++l)-2===e[l]&&(o=c.create(),f.splice(l,0,o));if(f.length!==g)throw new Error(`AUR0814:${f.length}!=${g}`);const v=h.scope,m=e.length;cn(f,e);const b=function(t){const e=t.length;e>Tf&&(Tf=e,Sf=new Int32Array(e),Of=new Int32Array(e));let s=0,i=0,n=0,r=0,o=0,a=0,l=0,h=0;for(;r<e;r++)if(i=t[r],-2!==i){if(o=Sf[s],n=t[o],-2!==n&&n<i){Of[r]=o,Sf[++s]=r;continue}for(a=0,l=s;a<l;)h=a+l>>1,n=t[Sf[h]],-2!==n&&n<i?a=h+1:l=h;n=t[Sf[a]],(i<n||-2===n)&&(a>0&&(Of[r]=Sf[a-1]),Sf[a]=r)}r=++s;const c=new Int32Array(r);i=Sf[s-1];for(;s-- >0;)c[s]=i,i=Of[i];for(;r-- >0;)Sf[r]=0;return c}(e),w=b.length;let y,x=w-1;for(l=m-1;l>=0;--l)o=f[l],y=f[l+1],o.nodes.link(null!==(i=null==y?void 0:y.nodes)&&void 0!==i?i:p),-2===e[l]?(this.ge?this.forOf.declaration.assign(s,a=vs.fromParent(v,gs.create()),this.pe.locator,d[l]):a=vs.fromParent(v,gs.create(u,d[l])),If(a.overrideContext,l,m),o.setLocation(p),r=o.activate(o,h,s,a),r instanceof Promise&&(null!=n?n:n=[]).push(r)):x<0||1===w||l!==b[x]?(If(o.scope.overrideContext,l,m),o.nodes.insertBefore(o.location)):(t!==m&&If(o.scope.overrideContext,l,m),--x);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}dispose(){this.views.forEach(Af),this.views=void 0}accept(t){const{views:e}=this;if(void 0!==e)for(let s=0,i=e.length;s<i;++s)if(!0===e[s].accept(t))return!0}}Ef.inject=[cu,Fc,uc],oa([Ea],Ef.prototype,"items",void 0),oh("repeat")(Ef);let Tf=16,Sf=new Int32Array(Tf),Of=new Int32Array(Tf);function If(t,e,s){const i=0===e,n=e===s-1,r=e%2==0;t.$index=e,t.$first=i,t.$last=n,t.$middle=!i&&!n,t.$even=r,t.$odd=!r,t.$length=s}class Lf{constructor(t,e){this.id=z("au$component"),this.id=z("au$component"),this.view=t.create().setLocation(e)}valueChanged(t,e,s){const i=this.$controller,n=this.view.bindings;let r,o=0,a=0;if(i.isActive&&null!=n)for(r=vs.fromParent(i.scope,void 0===t?{}:t),a=n.length;a>o;++o)n[o].$bind(2,r)}attaching(t,e,s){const{$controller:i,value:n}=this,r=vs.fromParent(i.scope,void 0===n?{}:n);return this.view.activate(t,i,s,r)}detaching(t,e,s){return this.view.deactivate(t,this.$controller,s)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}Lf.inject=[uc,cu],oa([Ea],Lf.prototype,"value",void 0),oh("with")(Lf);let Bf=class{constructor(t,e){this.f=t,this.l=e,this.id=z("au$component"),this.cases=[],this.activeCases=[],this.promise=void 0}link(t,e,s,i){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e,s){const i=this.view,n=this.$controller;return this.queue((()=>i.activate(t,n,s,n.scope))),this.queue((()=>this.swap(t,s,this.value))),this.promise}detaching(t,e,s){return this.queue((()=>this.view.deactivate(t,this.$controller,s))),this.promise}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}valueChanged(t,e,s){this.$controller.isActive&&this.queue((()=>this.swap(null,s,this.value)))}caseChanged(t,e){this.queue((()=>this.Re(t,e)))}Re(t,e){const s=t.isMatch(this.value,e),i=this.activeCases,n=i.length;if(!s)return n>0&&i[0].id===t.id?this.Se(null,e):void 0;if(n>0&&i[0].id<t.id)return;const r=[];let o=t.fallThrough;if(o){const e=this.cases,s=e.indexOf(t);for(let t=s,i=e.length;t<i&&o;t++){const s=e[t];r.push(s),o=s.fallThrough}}else r.push(t);return et(this.Se(null,e,r),(()=>(this.activeCases=r,this.Ee(null,e))))}swap(t,e,s){const i=[];let n=!1;for(const t of this.cases)if((n||t.isMatch(s,e))&&(i.push(t),n=t.fallThrough),i.length>0&&!n)break;const r=this.defaultCase;return 0===i.length&&void 0!==r&&i.push(r),et(this.activeCases.length>0?this.Se(t,e,i):void 0,(()=>{if(this.activeCases=i,0!==i.length)return this.Ee(t,e)}))}Ee(t,e){const s=this.$controller;if(!s.isActive)return;const i=this.activeCases,n=i.length;if(0===n)return;const r=s.scope;return 1===n?i[0].activate(t,e,r):st(...i.map((s=>s.activate(t,e,r))))}Se(t,e,s=[]){const i=this.activeCases,n=i.length;if(0!==n){if(1===n){const n=i[0];return s.includes(n)?void 0:(i.length=0,n.deactivate(t,e))}return et(st(...i.reduce(((i,n)=>(s.includes(n)||i.push(n.deactivate(t,e)),i)),[])),(()=>{i.length=0}))}}queue(t){const e=this.promise;let s;s=this.promise=et(et(e,t),(()=>{this.promise===s&&(this.promise=void 0)}))}accept(t){return!0===this.$controller.accept(t)||(!!this.activeCases.some((e=>e.accept(t)))||void 0)}};oa([Ea],Bf.prototype,"value",void 0),Bf=oa([oh("switch"),aa(0,uc),aa(1,cu)],Bf);let Mf=class{constructor(t,e,s,i){this.f=t,this.Be=e,this.l=s,this.id=z("au$component"),this.fallThrough=!1,this.view=void 0,this.Ie=i.config.level<=1,this.Ut=i.scopeTo(`${this.constructor.name}-#${this.id}`)}link(t,e,s,i){const n=t.parent,r=null==n?void 0:n.viewModel;if(!(r instanceof Bf))throw new Error("AUR0815");this.$switch=r,this.linkToSwitch(r)}detaching(t,e,s){return this.deactivate(t,s)}isMatch(t,e){this.Ut.debug("isMatch()");const s=this.value;return Array.isArray(s)?(void 0===this.ue&&(this.ue=this.Te(e,s)),s.includes(t)):s===t}valueChanged(t,e,s){var i;Array.isArray(t)?(null===(i=this.ue)||void 0===i||i.unsubscribe(this),this.ue=this.Te(s,t)):void 0!==this.ue&&this.ue.unsubscribe(this),this.$switch.caseChanged(this,s)}handleCollectionChange(t,e){this.$switch.caseChanged(this,e)}activate(t,e,s){let i=this.view;if(void 0===i&&(i=this.view=this.f.create().setLocation(this.l)),!i.isActive)return i.activate(null!=t?t:i,this.$controller,e,s)}deactivate(t,e){const s=this.view;if(void 0!==s&&s.isActive)return s.deactivate(null!=t?t:s,this.$controller,e)}dispose(){var t,e;null===(t=this.ue)||void 0===t||t.unsubscribe(this),null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}Te(t,e){const s=this.Be.getArrayObserver(e);return s.subscribe(this),s}accept(t){var e;return!0===this.$controller.accept(t)||(null===(e=this.view)||void 0===e?void 0:e.accept(t))}};Mf.inject=[uc,Go,cu,fe],oa([Ea],Mf.prototype,"value",void 0),oa([Ea({set:t=>{switch(t){case"true":return!0;case"false":return!1;default:return!!t}},mode:pi.oneTime})],Mf.prototype,"fallThrough",void 0),Mf=oa([oh("case")],Mf);let Pf=class extends Mf{linkToSwitch(t){if(void 0!==t.defaultCase)throw new Error("AUR0816");t.defaultCase=this}};Pf=oa([oh("default-case")],Pf);let Uf=class{constructor(t,e,s,i){this.f=t,this.l=e,this.p=s,this.id=z("au$component"),this.preSettledTask=null,this.postSettledTask=null,this.logger=i.scopeTo("promise.resolve")}link(t,e,s,i){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e,s){const i=this.view,n=this.$controller;return et(i.activate(t,n,s,this.viewScope=vs.fromParent(n.scope,{})),(()=>this.swap(t,s)))}valueChanged(t,e,s){this.$controller.isActive&&this.swap(null,s)}swap(t,e){var s,i;const n=this.value;if(!(n instanceof Promise))return void this.logger.warn(`The value '${String(n)}' is not a promise. No change will be done.`);const r=this.p.domWriteQueue,o=this.fulfilled,a=this.rejected,l=this.pending,h=this.viewScope;let c;const u={reusable:!1},d=()=>{st(c=(this.preSettledTask=r.queueTask((()=>st(null==o?void 0:o.deactivate(t,e),null==a?void 0:a.deactivate(t,e),null==l?void 0:l.activate(t,e,h))),u)).result.catch((t=>{if(!(t instanceof De))throw t})),n.then((s=>{if(this.value!==n)return;const i=()=>{this.postSettlePromise=(this.postSettledTask=r.queueTask((()=>st(null==l?void 0:l.deactivate(t,e),null==a?void 0:a.deactivate(t,e),null==o?void 0:o.activate(t,e,h,s))),u)).result};1===this.preSettledTask.status?c.then(i):(this.preSettledTask.cancel(),i())}),(s=>{if(this.value!==n)return;const i=()=>{this.postSettlePromise=(this.postSettledTask=r.queueTask((()=>st(null==l?void 0:l.deactivate(t,e),null==o?void 0:o.deactivate(t,e),null==a?void 0:a.activate(t,e,h,s))),u)).result};1===this.preSettledTask.status?c.then(i):(this.preSettledTask.cancel(),i())})))};1===(null===(s=this.postSettledTask)||void 0===s?void 0:s.status)?this.postSettlePromise.then(d):(null===(i=this.postSettledTask)||void 0===i||i.cancel(),d())}detaching(t,e,s){var i,n;return null===(i=this.preSettledTask)||void 0===i||i.cancel(),null===(n=this.postSettledTask)||void 0===n||n.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(t,this.$controller,s)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}};oa([Ea],Uf.prototype,"value",void 0),Uf=oa([oh("promise"),aa(0,uc),aa(1,cu),aa(2,ll),aa(3,fe)],Uf);let jf=class{constructor(t,e){this.f=t,this.l=e,this.id=z("au$component"),this.view=void 0}link(t,e,s,i){Vf(t).pending=this}activate(t,e,s){let i=this.view;if(void 0===i&&(i=this.view=this.f.create().setLocation(this.l)),!i.isActive)return i.activate(i,this.$controller,e,s)}deactivate(t,e){const s=this.view;if(void 0!==s&&s.isActive)return s.deactivate(s,this.$controller,e)}detaching(t,e,s){return this.deactivate(t,s)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}};oa([Ea({mode:pi.toView})],jf.prototype,"value",void 0),jf=oa([oh("pending"),aa(0,uc),aa(1,cu)],jf);let qf=class{constructor(t,e){this.f=t,this.l=e,this.id=z("au$component"),this.view=void 0}link(t,e,s,i){Vf(t).fulfilled=this}activate(t,e,s,i){this.value=i;let n=this.view;if(void 0===n&&(n=this.view=this.f.create().setLocation(this.l)),!n.isActive)return n.activate(n,this.$controller,e,s)}deactivate(t,e){const s=this.view;if(void 0!==s&&s.isActive)return s.deactivate(s,this.$controller,e)}detaching(t,e,s){return this.deactivate(t,s)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}};oa([Ea({mode:pi.fromView})],qf.prototype,"value",void 0),qf=oa([oh("then"),aa(0,uc),aa(1,cu)],qf);let Ff=class{constructor(t,e){this.f=t,this.l=e,this.id=z("au$component"),this.view=void 0}link(t,e,s,i){Vf(t).rejected=this}activate(t,e,s,i){this.value=i;let n=this.view;if(void 0===n&&(n=this.view=this.f.create().setLocation(this.l)),!n.isActive)return n.activate(n,this.$controller,e,s)}deactivate(t,e){const s=this.view;if(void 0!==s&&s.isActive)return s.deactivate(s,this.$controller,e)}detaching(t,e,s){return this.deactivate(t,s)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}};function Vf(t){const e=t.parent,s=null==e?void 0:e.viewModel;if(s instanceof Uf)return s;throw new Error("AUR0813")}oa([Ea({mode:pi.fromView})],Ff.prototype,"value",void 0),Ff=oa([oh("catch"),aa(0,uc),aa(1,cu)],Ff);let Df=class{"promise.resolve"(t,e,s){return new Ga(t,e,"promise","bind")}};Df=oa([Za({pattern:"promise.resolve",symbols:""})],Df);let Nf=class{then(t,e,s){return new Ga(t,e,"then","from-view")}};Nf=oa([Za({pattern:"then",symbols:""})],Nf);let Hf=class{catch(t,e,s){return new Ga(t,e,"catch","from-view")}};function zf(t,e,s,i){if($a(e))return function(t,e,s,i){const n=[],r=[],o=[],a=t.document.createElement(e);let l=!1;s&&Object.keys(s).forEach((t=>{const e=s[t];Pu(e)?(l=!0,n.push(e)):a.setAttribute(t,e)}));l&&(a.className="au",r.push(n));i&&Wf(t,a,i,r,o);return new Kf(a,r,o)}(t,e,s,i);if(Lh.isType(e))return function(t,e,s,i){const n=Lh.getDefinition(e),r=[],o=[r],a=[],l=[],h=n.bindables,c=t.document.createElement(n.name);c.className="au",a.includes(e)||a.push(e);r.push(new Nu(n,void 0,l,null,!1,void 0)),s&&Object.keys(s).forEach((t=>{const e=s[t];Pu(e)?l.push(e):void 0===h[t]?l.push(new Yu(e,t)):l.push(new Du(e,t))}));i&&Wf(t,c,i,o,a);return new Kf(c,o,a)}(t,e,s,i);throw new Error("Invalid Tag or Type.")}Hf=oa([Za({pattern:"catch",symbols:""})],Hf);class Kf{constructor(t,e,s){this.node=t,this.instructions=e,this.De=s,this.Pe=void 0}get definition(){return void 0===this.Pe&&(this.Pe=xh.create({name:Lh.generateName(),template:this.node,needsCompile:$a(this.node),instructions:this.instructions,dependencies:this.De})),this.Pe}createView(t){return this.getViewFactory(t).create()}getViewFactory(t){return t.root.get(xc).getViewFactory(this.definition,t.createChild().register(...this.De))}mergeInto(t,e,s){t.appendChild(this.node),e.push(...this.instructions),s.push(...this.De)}}function Wf(t,e,s,i,n){for(let r=0,o=s.length;r<o;++r){const o=s[r];switch(typeof o){case"string":e.appendChild(t.document.createTextNode(o));break;case"object":o instanceof t.Node?e.appendChild(o):"mergeInto"in o&&o.mergeInto(e,i,n)}}}function Gf(t,e){const s=e.to;return void 0!==s&&"subject"!==s&&"composing"!==s&&(t[s]=e),t}class Qf{constructor(t,e,s,i){this.p=t,this.$e=e,this.Oe=s,this.r=i,this.id=z("au$component"),this.component=void 0,this.composing=!1,this.view=void 0,this.Le=void 0,this.qe=e.props.reduce(Gf,{})}attaching(t,e,s){const{component:i,view:n}=this;return void 0===n||this.Le!==i?(this.Le=i,this.composing=!0,this.compose(void 0,i,t,s)):this.compose(n,i,t,s)}detaching(t,e,s){return this.oe(this.view,t,s)}componentChanged(t,e,s){const{$controller:i}=this;if(!i.isActive)return;if(this.Le===t)return;this.Le=t,this.composing=!0,s|=i.flags;const n=et(this.oe(this.view,null,s),(()=>this.compose(void 0,t,null,s)));n instanceof Promise&&n.catch((t=>{throw t}))}compose(t,e,s,i){return et(void 0===t?et(e,(t=>this.Ue(t,i))):t,(t=>this.ne(this.view=t,s,i)))}oe(t,e,s){return null==t?void 0:t.deactivate(null!=e?e:t,this.$controller,s)}ne(t,e,s){const{$controller:i}=this;return et(null==t?void 0:t.activate(null!=e?e:t,i,s,i.scope),(()=>{this.composing=!1}))}Ue(t,e){const s=this._e(t,e);if(s)return s.setLocation(this.$controller.location),s.lockScope(this.$controller.scope),s}_e(t,e){if(!t)return;const s=this.Oe.controller.container;if("object"==typeof t){if(function(t){return"lockScope"in t}(t))return t;if("createView"in t)return t.createView(s);if("create"in t)return t.create();if("template"in t)return this.r.getViewFactory(xh.getOrCreate(t),s).create()}if($a(t)){const e=s.find(Lh,t);if(null==e)throw new Error(`AUR0809:${t}`);t=e.Type}return zf(this.p,t,this.qe,this.$controller.host.childNodes).createView(s)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}Qf.inject=[ll,Mu,Vc,xc],oa([Ea],Qf.prototype,"component",void 0),oa([Ea({mode:pi.fromView})],Qf.prototype,"composing",void 0),mh({name:"au-render",template:null,containerless:!0,capture:!0})(Qf);class Xf{constructor(t,e,s,i,n,r,o){this.c=t,this.parent=e,this.host=s,this.l=i,this.p=n,this.scopeBehavior="auto",this.Fe=void 0,this.r=t.get(xc),this.$e=r,this.Ve=o}static get inject(){return[xt,Fc,lu,cu,ll,Mu,Rt(Zf)]}get pending(){return this.Me}get composition(){return this.Fe}attaching(t,e,s){return this.Me=et(this.queue(new Jf(this.view,this.viewModel,this.model,void 0),t),(t=>{this.Ve.isCurrent(t)&&(this.Me=void 0)}))}detaching(t){const e=this.Fe,s=this.Me;return this.Ve.invalidate(),this.Fe=this.Me=void 0,et(s,(()=>null==e?void 0:e.deactivate(t)))}propertyChanged(t){"model"!==t||null==this.Fe?this.Me=et(this.Me,(()=>et(this.queue(new Jf(this.view,this.viewModel,this.model,t),void 0),(t=>{this.Ve.isCurrent(t)&&(this.Me=void 0)})))):this.Fe.update(this.model)}queue(t,e){const s=this.Ve,i=this.Fe;return et(s.create(t),(t=>s.isCurrent(t)?et(this.compose(t),(n=>s.isCurrent(t)?et(n.activate(e),(()=>s.isCurrent(t)?(this.Fe=n,et(null==i?void 0:i.deactivate(e),(()=>t))):et(n.controller.deactivate(n.controller,this.$controller,4),(()=>(n.controller.dispose(),t))))):(n.controller.dispose(),t))):t))}compose(t){let e,s,i;const{view:n,viewModel:r,model:o}=t.change,{c:a,host:l,$controller:h,l:c}=this,u=this.getDef(r),d=a.createChild(),p=null==c?l.parentNode:c.parentNode;if(null!==u){if(u.containerless)throw new Error("AUR0806");null==c?(s=l,i=()=>{}):(s=p.insertBefore(this.p.document.createElement(u.name),c),i=()=>{s.remove()}),e=this.getVm(d,r,s)}else s=null==c?l:c,e=this.getVm(d,r,s);const f=()=>{if(null!==u){const n=Rc.$el(d,e,s,{projections:this.$e.projections},u);return new eg(n,(t=>n.activate(null!=t?t:n,h,2,h.scope.parentScope)),(t=>et(n.deactivate(null!=t?t:n,h,4),i)),(t=>{var s;return null===(s=e.activate)||void 0===s?void 0:s.call(e,t)}),t)}{const i=xh.create({name:Lh.generateName(),template:n}),r=this.r.getViewFactory(i,d),o=Rc.$view(r,h),a="auto"===this.scopeBehavior?vs.fromParent(this.parent.scope,e):vs.create(e);return vu(s)?o.setLocation(s):o.setHost(s),new eg(o,(t=>o.activate(null!=t?t:o,h,2,a)),(t=>o.deactivate(null!=t?t:o,h,4)),(t=>{var s;return null===(s=e.activate)||void 0===s?void 0:s.call(e,t)}),t)}};return"activate"in e?et(e.activate(o),(()=>f())):f()}getVm(t,e,s){if(null==e)return new Yf;if("object"==typeof e)return e;const i=this.p,n=vu(s);t.registerResolver(i.Element,t.registerResolver(lu,new _t("ElementResolver",n?null:s))),t.registerResolver(cu,new _t("IRenderLocation",n?s:null));const r=t.invoke(e);return t.registerResolver(e,new _t("au-compose.viewModel",r)),r}getDef(t){const e=Ca(t)?t:null==t?void 0:t.constructor;return Lh.isType(e)?Lh.getDefinition(e):null}}oa([Ea],Xf.prototype,"view",void 0),oa([Ea],Xf.prototype,"viewModel",void 0),oa([Ea],Xf.prototype,"model",void 0),oa([Ea({set:t=>{if("scoped"===t||"auto"===t)return t;throw new Error("AUR0805")}})],Xf.prototype,"scopeBehavior",void 0),mh("au-compose")(Xf);class Yf{}class Zf{constructor(){this.id=0}isCurrent(t){return t.id===this.id}create(t){return et(t.load(),(t=>new tg(++this.id,t)))}invalidate(){this.id++}}class Jf{constructor(t,e,s,i){this.view=t,this.viewModel=e,this.model=s,this.src=i}load(){return ka(this.view)||ka(this.viewModel)?Promise.all([this.view,this.viewModel]).then((([t,e])=>new _f(t,e,this.model,this.src))):new _f(this.view,this.viewModel,this.model,this.src)}}class _f{constructor(t,e,s,i){this.view=t,this.viewModel=e,this.model=s,this.src=i}}class tg{constructor(t,e){this.id=t,this.change=e}}class eg{constructor(t,e,s,i,n){this.controller=t,this.start=e,this.stop=s,this.update=i,this.context=n,this.state=0}activate(t){if(0!==this.state)throw new Error(`AUR0807:${this.controller.name}`);return this.state=1,this.start(t)}deactivate(t){switch(this.state){case 1:return this.state=-1,this.stop(t);case-1:throw new Error("AUR0808");default:this.state=-1}}}class sg{constructor(t,e,s,i){var n,r;let o;this.je=null,this.Ne=null;const a=e.auSlot,l=null===(r=null===(n=s.instruction)||void 0===n?void 0:n.projections)||void 0===r?void 0:r[a.name];null==l?(o=i.getViewFactory(a.fallback,s.controller.container),this.We=!1):(o=i.getViewFactory(l,s.parent.controller.container),this.We=!0),this.Oe=s,this.view=o.create().setLocation(t)}static get inject(){return[cu,Mu,Vc,xc]}binding(t,e,s){var i;let n;this.je=this.$controller.scope.parentScope,this.We&&(n=this.Oe.controller.scope.parentScope,(this.Ne=vs.fromParent(n,n.bindingContext)).overrideContext.$host=null!==(i=this.expose)&&void 0!==i?i:this.je.bindingContext)}attaching(t,e,s){return this.view.activate(t,this.$controller,s,this.We?this.Ne:this.je)}detaching(t,e,s){return this.view.deactivate(t,this.$controller,s)}exposeChanged(t){this.We&&null!=this.Ne&&(this.Ne.overrideContext.$host=t)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}oa([Ea],sg.prototype,"expose",void 0),mh({name:"au-slot",template:null,containerless:!0})(sg);const ig=bt.createInterface("ISanitizer",(t=>t.singleton(class{sanitize(){throw new Error('"sanitize" method not implemented')}})));let ng=class{constructor(t){this.He=t}toView(t){return null==t?null:this.He.sanitize(t)}};ng=oa([aa(0,ig)],ng),Ts("sanitize")(ng);let rg=class{constructor(t){this.ze=t}toView(t,e){return this.ze.getViewComponentForObject(t,e)}};rg=oa([aa(0,wc)],rg),Ts("view")(rg);const og=Hp,ag=Fp,lg=Vp,hg=Dp,cg=zp,ug=Kp,dg=Np,pg=pp,fg=vf,gg=[pg,fg],vg=dl,mg=ol,bg=rl,wg=nl,yg=il,xg=[wg,yg,al],kg=[mg,bg],Cg=_d,$g=Jd,Ag=tp,Rg=Yd,Eg=Qd,Tg=Xd,Sg=Zd,Og=ap,Ig=ep,Lg=sp,Bg=ip,Mg=np,Pg=op,Ug=rp,jg=[$g,Eg,Rg,Tg,Sg,Cg,Ag,Og,Ig,Lg,Bg,Pg,Ug,Mg,lp],qg=ng,Fg=rg,Vg=Cf,Dg=$f,Ng=Ef,Hg=Lf,zg=Qp,Kg=Yp,Wg=bf,Gg=Qf,Qg=[og,ag,lg,hg,cg,ug,dg,qg,Fg,kf,Vg,Dg,Ng,Hg,Bf,Mf,Pf,Uf,jf,qf,Ff,Df,Nf,Hf,zg,Kg,Wg,Gg,Xf,xf,wf,yf,sg],Xg=dd,Yg=hd,Zg=ld,Jg=fd,_g=vd,tv=ud,ev=gd,sv=pd,iv=ad,nv=cd,rv=Cd,ov=Td,av=$d,lv=Ad,hv=Rd,cv=Ed,uv=yd,dv=[ev,_g,Xg,sv,Jg,iv,Zg,Yg,nv,tv,rv,ov,av,lv,hv,cv,uv,Sd],pv=function t(e){return{optionsProvider:e,register(t){const s={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return e(s),t.register(Jt.instance(di,s.coercingOptions),...gg,...Qg,...xg,...jg,...dv)},customize:s=>t(null!=s?s:e)}}(re);const fv=bt.createInterface("IAurelia");class gv{constructor(t=bt.createContainer()){if(this.container=t,this.ir=!1,this.Ge=!1,this.Xe=!1,this.Ke=void 0,this.next=void 0,this.Ye=void 0,this.Ze=void 0,t.has(fv,!0))throw new Error("AUR0768");t.registerResolver(fv,new _t("IAurelia",this)),t.registerResolver(eu,this.Je=new _t("IAppRoot"))}get isRunning(){return this.ir}get isStarting(){return this.Ge}get isStopping(){return this.Xe}get root(){if(null==this.Ke){if(null==this.next)throw new Error("AUR0767");return this.next}return this.Ke}register(...t){return this.container.register(...t),this}app(t){return this.next=new nu(t,this.Qe(t.host),this.container,this.Je),this}enhance(t,e){var s;const i=null!==(s=t.container)&&void 0!==s?s:this.container.createChild(),n=t.host,r=this.Qe(n),o=t.component;let a;Ca(o)?(i.registerResolver(r.HTMLElement,i.registerResolver(r.Element,i.registerResolver(lu,new _t("ElementResolver",n)))),a=i.invoke(o)):a=o,i.registerResolver(hu,new _t("IEventTarget",n)),e=null!=e?e:null;const l=Rc.$el(i,a,n,null,xh.create({name:Lh.generateName(),template:n,enhance:!0}));return et(l.activate(l,e,2),(()=>l))}async waitForIdle(){const t=this.root.platform;await t.domWriteQueue.yield(),await t.domReadQueue.yield(),await t.taskQueue.yield()}Qe(t){let e;if(this.container.has(ll,!1))e=this.container.get(ll);else{if(null===t.ownerDocument.defaultView)throw new Error("AUR0769");e=new _e(t.ownerDocument.defaultView),this.container.register(Jt.instance(ll,e))}return e}start(t=this.next){if(null==t)throw new Error("AUR0770");return this.Ye instanceof Promise?this.Ye:this.Ye=et(this.stop(),(()=>(Reflect.set(t.host,"$aurelia",this),this.Je.prepare(this.Ke=t),this.Ge=!0,et(t.activate(),(()=>{this.ir=!0,this.Ge=!1,this.Ye=void 0,this.ts(t,"au-started",t.host)})))))}stop(t=!1){if(this.Ze instanceof Promise)return this.Ze;if(!0===this.ir){const e=this.Ke;return this.ir=!1,this.Xe=!0,this.Ze=et(e.deactivate(),(()=>{Reflect.deleteProperty(e.host,"$aurelia"),t&&e.dispose(),this.Ke=void 0,this.Je.dispose(),this.Xe=!1,this.ts(e,"au-stopped",e.host)}))}}dispose(){if(this.ir||this.Xe)throw new Error("AUR0771");this.container.dispose()}ts(t,e,s){const i=new t.platform.window.CustomEvent(e,{detail:this,bubbles:!0,cancelable:!0});s.dispatchEvent(i)}}var vv;!function(t){t[t.Element=1]="Element",t[t.Attribute=2]="Attribute"}(vv||(vv={}));const mv=bt.createInterface("IDialogService"),bv=bt.createInterface("IDialogController"),wv=bt.createInterface("IDialogDomRenderer"),yv=bt.createInterface("IDialogDom"),xv=bt.createInterface("IDialogGlobalSettings");class kv{constructor(t,e){this.wasCancelled=t,this.dialog=e}static create(t,e){return new kv(t,e)}}class Cv{constructor(t,e){this.status=t,this.value=e}static create(t,e){return new Cv(t,e)}}var $v;!function(t){t.Ok="ok",t.Error="error",t.Cancel="cancel",t.Abort="abort"}($v||($v={}));class Av{constructor(t,e){this.p=t,this.ctn=e,this.closed=new Promise(((t,e)=>{this.Pt=t,this.St=e}))}static get inject(){return[ll,xt]}activate(t){var e;const s=this.ctn.createChild(),{model:i,template:n,rejectOnCancel:r}=t,o=s.get(wv),a=null!==(e=t.host)&&void 0!==e?e:this.p.document.body,l=this.dom=o.render(a,t),h=s.has(hu,!0)?s.get(hu):null,c=l.contentHost;return this.settings=t,null!=h&&h.contains(a)||s.register(Jt.instance(hu,a)),s.register(Jt.instance(lu,c),Jt.instance(yv,l)),new Promise((e=>{var n,r;const o=Object.assign(this.cmp=this.getOrCreateVm(s,t,c),{$dialog:this});e(null===(r=null===(n=o.canActivate)||void 0===n?void 0:n.call(o,i))||void 0===r||r)})).then((e=>{var o;if(!0!==e){if(l.dispose(),r)throw Ev(null,"Dialog activation rejected");return kv.create(!0,this)}const a=this.cmp;return et(null===(o=a.activate)||void 0===o?void 0:o.call(a,i),(()=>{var e;const i=this.controller=Rc.$el(s,a,c,null,xh.create(null!==(e=this.getDefinition(a))&&void 0!==e?e:{name:Lh.generateName(),template:n}));return et(i.activate(i,null,2),(()=>{var e;return l.overlay.addEventListener(null!==(e=t.mouseEvent)&&void 0!==e?e:"click",this),kv.create(!1,this)}))}))}),(t=>{throw l.dispose(),t}))}deactivate(t,e){if(this.es)return this.es;let s=!0;const{controller:i,dom:n,cmp:r,settings:{mouseEvent:o,rejectOnCancel:a}}=this,l=Cv.create(t,e),h=new Promise((h=>{var c,u;h(et(null===(u=null===(c=r.canDeactivate)||void 0===c?void 0:c.call(r,l))||void 0===u||u,(h=>{var c;if(!0!==h){if(s=!1,this.es=void 0,a)throw Ev(null,"Dialog cancellation rejected");return Cv.create("abort")}return et(null===(c=r.deactivate)||void 0===c?void 0:c.call(r,l),(()=>et(i.deactivate(i,null,4),(()=>(n.dispose(),n.overlay.removeEventListener(null!=o?o:"click",this),a||"error"===t?this.St(Ev(e,"Dialog cancelled with a rejection on cancel")):this.Pt(l),l)))))})))})).catch((t=>{throw this.es=void 0,t}));return this.es=s?h:void 0,h}ok(t){return this.deactivate("ok",t)}cancel(t){return this.deactivate("cancel",t)}error(t){const e=function(t){const e=new Error;return e.wasCancelled=!1,e.value=t,e}(t);return new Promise((t=>{var s,i;return t(et(null===(i=(s=this.cmp).deactivate)||void 0===i?void 0:i.call(s,Cv.create("error",e)),(()=>et(this.controller.deactivate(this.controller,null,4),(()=>{this.dom.dispose(),this.St(e)})))))}))}handleEvent(t){this.settings.overlayDismiss&&!this.dom.contentHost.contains(t.target)&&this.cancel()}getOrCreateVm(t,e,s){const i=e.component;if(null==i)return new Rv;if("object"==typeof i)return i;const n=this.p;return t.registerResolver(n.HTMLElement,t.registerResolver(n.Element,t.registerResolver(lu,new _t("ElementResolver",s)))),t.invoke(i)}getDefinition(t){const e=Ca(t)?t:null==t?void 0:t.constructor;return Lh.isType(e)?Lh.getDefinition(e):null}}class Rv{}function Ev(t,e){const s=new Error(e);return s.wasCancelled=!0,s.value=t,s}class Tv{constructor(t,e,s){this.ft=t,this.p=e,this.ss=s,this.dlgs=[]}get controllers(){return this.dlgs.slice(0)}get top(){const t=this.dlgs;return t.length>0?t[t.length-1]:null}static get inject(){return[xt,ll,xv]}static register(t){t.register(Jt.singleton(mv,this),Wl.beforeDeactivate(mv,(t=>et(t.closeAll(),(t=>{if(t.length>0)throw new Error(`AUR0901:${t.length}`)})))))}open(t){return function(t){return t.whenClosed=Ov,t}(new Promise((e=>{var s;const i=Sv.from(this.ss,t),n=null!==(s=i.container)&&void 0!==s?s:this.ft.createChild();e(et(i.load(),(t=>{const e=n.invoke(Av);return n.register(Jt.instance(bv,e)),n.register(Jt.callback(Av,(()=>{throw new Error("AUR0902")}))),et(e.activate(t),(t=>{if(!t.wasCancelled){1===this.dlgs.push(e)&&this.p.window.addEventListener("keydown",this);const t=()=>this.remove(e);e.closed.then(t,t)}return t}))})))})))}closeAll(){return Promise.all(Array.from(this.dlgs).map((t=>t.settings.rejectOnCancel?t.cancel().then((()=>null)):t.cancel().then((e=>"cancel"===e.status?null:t))))).then((t=>t.filter((t=>!!t))))}remove(t){const e=this.dlgs,s=e.indexOf(t);s>-1&&this.dlgs.splice(s,1),0===e.length&&this.p.window.removeEventListener("keydown",this)}handleEvent(t){const e=function(t){return"Escape"===(t.code||t.key)||27===t.keyCode?"Escape":"Enter"===(t.code||t.key)||13===t.keyCode?"Enter":void 0}(t);if(null==e)return;const s=this.top;if(null===s||0===s.settings.keyboard.length)return;const i=s.settings.keyboard;"Escape"===e&&i.includes(e)?s.cancel():"Enter"===e&&i.includes(e)&&s.ok()}}class Sv{static from(...t){return Object.assign(new Sv,...t).ls().os()}load(){const t=this,e=this.component,s=this.template,i=st(null==e?void 0:et(e(),(e=>{t.component=e})),Ca(s)?et(s(),(e=>{t.template=e})):void 0);return i instanceof Promise?i.then((()=>t)):t}ls(){if(null==this.component&&null==this.template)throw new Error("AUR0903");return this}os(){return null==this.keyboard&&(this.keyboard=this.lock?[]:["Enter","Escape"]),"boolean"!=typeof this.overlayDismiss&&(this.overlayDismiss=!this.lock),this}}function Ov(t,e){return this.then((s=>s.dialog.closed.then(t,e)),e)}class Iv{constructor(){this.lock=!0,this.startingZIndex=1e3,this.rejectOnCancel=!1}static register(t){Jt.singleton(xv,this).register(t)}}const Lv="position:absolute;width:100%;height:100%;top:0;left:0;";class Bv{constructor(t){this.p=t,this.wrapperCss=`${Lv} display:flex;`,this.overlayCss=Lv,this.hostCss="position:relative;margin:auto;"}static register(t){Jt.singleton(wv,this).register(t)}render(t){const e=this.p.document,s=(t,s)=>{const i=e.createElement(t);return i.style.cssText=s,i},i=t.appendChild(s("au-dialog-container",this.wrapperCss)),n=i.appendChild(s("au-dialog-overlay",this.overlayCss)),r=i.appendChild(s("div",this.hostCss));return new Mv(i,n,r)}}Bv.inject=[ll];class Mv{constructor(t,e,s){this.wrapper=t,this.overlay=e,this.contentHost=s}dispose(){this.wrapper.remove()}}function Pv(t,e){return{settingsProvider:t,register:s=>s.register(...e,Wl.beforeCreate((()=>t(s.get(xv))))),customize:(t,s)=>Pv(t,null!=s?s:e)}}const Uv=Pv((()=>{throw new Error("AUR0904")}),[class{static register(t){t.register(Jt.singleton(xv,this))}}]),jv=Pv(re,[Tv,Iv,Bv]),qv=bt.createInterface((t=>t.singleton(Fv)));class Fv{constructor(t,e,s){this.ctn=t,this.p=e,this.r=s}define(t,e,s){if(!t.includes("-"))throw new Error('Invalid web-components custom element name. It must include a "-"');let i;if(null==e)throw new Error("Invalid custom element definition");if("function"==typeof e)i=Lh.isType(e)?Lh.getDefinition(e):xh.create(Lh.generateName(),e);else i=xh.getOrCreate(e);if(i.containerless)throw new Error("Containerless custom element is not supported. Consider using buitl-in extends instead");const n=(null==s?void 0:s.extends)?this.p.document.createElement(s.extends).constructor:HTMLElement,r=this.ctn,o=this.r,a=i.bindables,l=this.p;class h extends n{auInit(){if(this.auInited)return;this.auInited=!0;const t=r.createChild();t.registerResolver(l.HTMLElement,t.registerResolver(l.Element,t.registerResolver(lu,new _t("ElementProvider",this))));const e=o.compile(i,t,{projections:null}),s=t.invoke(e.Type),n=this.auCtrl=Rc.$el(t,s,this,null,e);au(this,e.key,n)}connectedCallback(){this.auInit(),this.auCtrl.activate(this.auCtrl,null,0)}disconnectedCallback(){this.auCtrl.deactivate(this.auCtrl,null,0)}adoptedCallback(){this.auInit()}attributeChangedCallback(t,e,s){this.auInit(),this.auCtrl.viewModel[t]=s}}h.observedAttributes=Object.keys(a);for(const t in a)Object.defineProperty(h.prototype,t,{configurable:!0,enumerable:!1,get(){return this.auCtrl.viewModel[t]},set(e){this.auInited||this.auInit(),this.auCtrl.viewModel[t]=e}});return this.p.customElements.define(t,h,s),h}}Fv.inject=[xt,ll,xc];export{tr as Access,Hs as AccessKeyedExpression,Ns as AccessMemberExpression,Ds as AccessScopeExpression,Vs as AccessThisExpression,bi as AccessorType,Qh as AdoptedStyleSheetsStyles,Ie as AnalyzedModule,nu as AppRoot,Wl as AppTask,ei as ArrayBindingPattern,an as ArrayIndexObserver,Zs as ArrayLiteralExpression,on as ArrayObserver,qs as AssignExpression,ol as AtPrefixedTriggerAttributePattern,mg as AtPrefixedTriggerAttributePatternRegistration,Qp as AttrBindingBehavior,zg as AttrBindingBehaviorRegistration,np as AttrBindingCommand,Mg as AttrBindingCommandRegistration,Ga as AttrSyntax,Sl as AttributeBinding,_u as AttributeBindingInstruction,ov as AttributeBindingRendererRegistration,Jp as AttributeNSAccessor,sl as AttributePattern,Xf as AuCompose,Qf as AuRender,Gg as AuRenderRegistration,sg as AuSlot,Lu as AuSlotsInfo,gv as Aurelia,Gs as BinaryExpression,Oa as Bindable,Ia as BindableDefinition,Ma as BindableObserver,Cp as BindablesInfo,Es as BindingBehavior,ks as BindingBehaviorDefinition,Us as BindingBehaviorExpression,Cs as BindingBehaviorFactory,ys as BindingBehaviorStrategy,Gd as BindingCommand,Hd as BindingCommandDefinition,gs as BindingContext,ii as BindingIdentifier,$s as BindingInterceptor,Yn as BindingMediator,pi as BindingMode,qp as BindingModeBehavior,Kn as BindingObserverRecord,_e as BrowserPlatform,Vh as CSSModulesProcessorRegistry,vl as CallBinding,_d as CallBindingCommand,Cg as CallBindingCommandRegistration,Fu as CallBindingInstruction,Xg as CallBindingRendererRegistration,Ws as CallFunctionExpression,Ks as CallMemberExpression,zs as CallScopeExpression,ip as CaptureBindingCommand,Bg as CaptureBindingCommandRegistration,Mf as Case,_n as Char,tf as CheckedObserver,Zl as Children,_l as ChildrenDefinition,th as ChildrenObserver,Uh as ClassAttributeAccessor,op as ClassBindingCommand,Pg as ClassBindingCommandRegistration,mi as CollectionKind,Mi as CollectionLengthObserver,Pi as CollectionSizeObserver,rl as ColonPrefixedBindAttributePattern,bg as ColonPrefixedBindAttributePatternRegistration,ce as ColorOptions,Dd as CommandType,Mo as ComputedObserver,ec as ComputedWatcher,Fs as ConditionalExpression,Vr as ConnectableSwitcher,$e as ConsoleSink,mt as ContainerConfiguration,Rc as Controller,uh as CustomAttribute,ah as CustomAttributeDefinition,Yg as CustomAttributeRendererRegistration,Lh as CustomElement,xh as CustomElementDefinition,Zg as CustomElementRendererRegistration,Ps as CustomExpression,bt as DI,Wp as DataAttributeAccessor,Hp as DebounceBindingBehavior,og as DebounceBindingBehaviorRegistration,Jd as DefaultBindingCommand,$g as DefaultBindingCommandRegistration,jg as DefaultBindingLanguage,xg as DefaultBindingSyntax,Pf as DefaultCase,gg as DefaultComponents,Mv as DefaultDialogDom,Bv as DefaultDialogDomRenderer,Iv as DefaultDialogGlobalSettings,ke as DefaultLogEvent,Ce as DefaultLogEventFactory,Ae as DefaultLogger,dv as DefaultRenderers,vt as DefaultResolver,Qg as DefaultResources,vv as DefinitionType,sp as DelegateBindingCommand,Lg as DelegateBindingCommandRegistration,vi as DelegationStrategy,ai as DestructuringAssignmentExpression,hi as DestructuringAssignmentRestExpression,li as DestructuringAssignmentSingleExpression,Cv as DialogCloseResult,Uv as DialogConfiguration,Av as DialogController,$v as DialogDeactivationStatuses,jv as DialogDefaultConfiguration,kv as DialogOpenResult,Tv as DialogService,Vo as DirtyCheckProperty,jo as DirtyCheckSettings,il as DotSeparatedAttributePattern,yg as DotSeparatedAttributePatternRegistration,$f as Else,Dg as ElseRegistration,Pe as EventAggregator,Su as EventDelegator,Eu as EventSubscriber,Bs as ExpressionKind,cr as ExpressionType,sc as ExpressionWatcher,Ii as FlushQueue,wf as Focus,tp as ForBindingCommand,Ag as ForBindingCommandRegistration,ri as ForOfStatement,mu as FragmentNodeSequence,Dp as FromViewBindingBehavior,hg as FromViewBindingBehaviorRegistration,Yd as FromViewBindingCommand,Rg as FromViewBindingCommandRegistration,qf as FulfilledTemplateController,Ys as HtmlLiteralExpression,Hu as HydrateAttributeInstruction,Nu as HydrateElementInstruction,Ku as HydrateLetElementInstruction,zu as HydrateTemplateController,eu as IAppRoot,zl as IAppTask,pl as IAttrMapper,Xa as IAttributeParser,Qa as IAttributePattern,Iu as IAuSlotsInfo,fv as IAurelia,di as ICoercionConfiguration,xt as IContainer,Fc as IController,bv as IDialogController,yv as IDialogDom,wv as IDialogDomRenderer,xv as IDialogGlobalSettings,mv as IDialogService,Uo as IDirtyChecker,Me as IEventAggregator,Tu as IEventDelegator,hu as IEventTarget,Zn as IExpressionParser,yu as IHistory,Vc as IHydrationContext,Mu as IInstruction,ic as ILifecycleHooks,xd as IListenerBehaviorOptions,wu as ILocation,ue as ILogConfig,pe as ILogEventFactory,fe as ILogger,Ee as IModuleLoader,lu as INode,Qo as INodeObserverLocator,fg as INodeObserverLocatorRegistration,ta as IObservation,Go as IObserverLocator,oe as IPlatform,Ou as IProjections,cu as IRenderLocation,id as IRenderer,xc as IRendering,hl as ISVGAnalyzer,ig as ISanitizer,kt as IServiceLocator,Gh as IShadowDOMGlobalStyles,Wh as IShadowDOMStyles,bs as ISignaler,de as ISink,Ha as ISyntaxInterpreter,sd as ITemplateCompiler,Sp as ITemplateCompilerHooks,pg as ITemplateCompilerRegistration,hp as ITemplateElementFactory,uc as IViewFactory,wc as IViewLocator,qv as IWcElementRegistry,bu as IWindow,su as IWorkTracker,Cf as If,Vg as IfRegistration,_t as InstanceProvider,Bu as InstructionType,oi as Interpolation,Ll as InterpolationBinding,Jg as InterpolationBindingRendererRegistration,Uu as InterpolationInstruction,Bl as InterpolationPartBinding,ja as Interpretation,qu as IteratorBindingInstruction,_g as IteratorBindingRendererRegistration,Pl as LetBinding,Wu as LetBindingInstruction,tv as LetElementRendererRegistration,fi as LifecycleFlags,lc as LifecycleHooks,rc as LifecycleHooksDefinition,nc as LifecycleHooksEntry,Cu as Listener,Qu as ListenerBindingInstruction,rv as ListenerBindingRendererRegistration,we as LogConfig,he as LogLevel,Re as LoggerConfiguration,jn as MapObserver,C as Metadata,Le as ModuleItem,gf as NodeObserverConfig,vf as NodeObserverLocator,uu as NodeType,cl as NoopSVGAnalyzer,si as ObjectBindingPattern,Js as ObjectLiteralExpression,ea as Observation,kf as ObserveShallow,Yo as ObserverLocator,Fp as OneTimeBindingBehavior,ag as OneTimeBindingBehaviorRegistration,Qd as OneTimeBindingCommand,Eg as OneTimeBindingCommandRegistration,ms as OverrideContext,ur as ParserState,jf as PendingTemplateController,qe as Platform,xf as Portal,er as Precedence,Xs as PrimitiveLiteralExpression,Do as PrimitiveObserver,Uf as PromiseTemplateController,No as PropertyAccessor,Dl as PropertyBinding,ju as PropertyBindingInstruction,ev as PropertyBindingRendererRegistration,ht as Protocol,Bo as ProxyObservable,nl as RefAttributePattern,wg as RefAttributePatternRegistration,Hl as RefBinding,Og as RefBindingCommandRegistration,Vu as RefBindingInstruction,sv as RefBindingRendererRegistration,Jt as Registration,Ff as RejectedTemplateController,Kf as RenderPlan,kc as Rendering,Ef as Repeat,Ng as RepeatRegistration,dl as SVGAnalyzer,vg as SVGAnalyzerRegistration,ng as SanitizeValueConverter,qg as SanitizeValueConverterRegistration,vs as Scope,rf as SelectValueObserver,Yp as SelfBindingBehavior,Kg as SelfBindingBehaviorRegistration,Yu as SetAttributeInstruction,av as SetAttributeRendererRegistration,Zu as SetClassAttributeInstruction,lv as SetClassAttributeRendererRegistration,Cn as SetObserver,Du as SetPropertyInstruction,iv as SetPropertyRendererRegistration,Ju as SetStyleAttributeInstruction,hv as SetStyleAttributeRendererRegistration,zo as SetterObserver,Hh as ShadowDOMRegistry,kg as ShortHandBindingSyntax,zp as SignalBindingBehavior,cg as SignalBindingBehaviorRegistration,pv as StandardConfiguration,af as StyleAttributeAccessor,rp as StyleBindingCommand,Ug as StyleBindingCommandRegistration,Yh as StyleConfiguration,Xh as StyleElementStyles,Xu as StylePropertyBindingInstruction,cv as StylePropertyBindingRendererRegistration,Ai as SubscriberRecord,Bf as Switch,ti as TaggedTemplateExpression,Ke as Task,De as TaskAbortError,Ve as TaskQueue,ze as TaskQueuePriority,He as TaskStatus,pp as TemplateCompiler,Lp as TemplateCompilerHooks,nv as TemplateControllerRendererRegistration,_s as TemplateExpression,Gu as TextBindingInstruction,uv as TextBindingRendererRegistration,Kp as ThrottleBindingBehavior,ug as ThrottleBindingBehaviorRegistration,Vp as ToViewBindingBehavior,lg as ToViewBindingBehaviorRegistration,Xd as ToViewBindingCommand,Tg as ToViewBindingCommandRegistration,ep as TriggerBindingCommand,Ig as TriggerBindingCommandRegistration,Np as TwoWayBindingBehavior,dg as TwoWayBindingBehaviorRegistration,Zd as TwoWayBindingCommand,Sg as TwoWayBindingCommandRegistration,Qs as UnaryExpression,bf as UpdateTriggerBindingBehavior,Wg as UpdateTriggerBindingBehaviorRegistration,lf as ValueAttributeObserver,Ls as ValueConverter,Ss as ValueConverterDefinition,js as ValueConverterExpression,dc as ViewFactory,yc as ViewLocator,Uc as ViewModelKind,rg as ViewValueConverter,Fg as ViewValueConverterRegistration,mc as Views,vh as Watch,Fv as WcCustomElementRegistry,Lf as With,Hg as WithRegistration,ps as alias,St as all,dp as allResources,wd as applyBindingBehavior,E as applyMetadataPolyfill,hn as applyMutationsToIndices,Za as attributePattern,Ea as bindable,xs as bindingBehavior,Nd as bindingCommand,Q as bound,F as camelCase,Ql as children,xi as cloneIndexMap,La as coercer,W as compareNumber,Xn as connectable,wh as containerless,gu as convertToRenderLocation,wi as copyIndexMap,zf as createElement,yi as createIndexMap,Fh as cssModules,rh as customAttribute,mh as customElement,rn as disableArrayObservation,Un as disableMapObservation,kn as disableSetObservation,ie as emptyArray,ne as emptyObject,nn as enableArrayObservation,Pn as enableMapObservation,xn as enableSetObservation,Bt as factory,Z as firstDefined,be as format,ut as fromAnnotationOrDefinitionOrTypeOrDefault,dt as fromAnnotationOrTypeOrDefault,pt as fromDefinitionOrDefault,Zo as getCollectionObserver,pu as getEffectiveParentNode,J as getPrototypeChain,ou as getRef,Lt as ignore,$t as inject,P as isArrayIndex,Lc as isCustomElementController,Bc as isCustomElementViewModel,ki as isIndexMap,Pu as isInstruction,tt as isNativeFunction,e as isNullOrUndefined,U as isNumberOrBigInt,t as isObject,vu as isRenderLocation,j as isStringOrDate,D as kebabCase,Ot as lazy,cc as lifecycleHooks,X as mergeArrays,G as mergeDistinct,Y as mergeObjects,p as metadata,Mt as newInstanceForScope,Pt as newInstanceOf,z as nextId,re as noop,na as observable,et as onResolve,It as optional,fr as parse,pr as parseExpression,V as pascalCase,Mh as processContent,fs as registerAliases,nd as renderer,K as resetId,st as resolveAll,fu as setEffectiveParentNode,au as setRef,Dh as shadowCSS,Tt as singleton,me as sink,Ci as subscriberCollection,cn as synchronizeIndices,Mp as templateCompilerHooks,oh as templateController,N as toArray,Rt as transient,bh as useShadowDOM,Ts as valueConverter,bc as view,dh as watch,Si as withFlushQueue};
